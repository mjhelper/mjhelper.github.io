// Copyrights C-EGG inc.
(function(){var da=function(){var b=[-2147483648,8388608,32768,128],d=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,
1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,
3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,
116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],c=[];return function(a){var e,f,h,m,l,g,k,n,v,z,B,y,K,G,D,ja,U,ba=!1,L,ca=0,ya=0,Aa=0,ua=a.length,ta,va,Q,F,P,I,Bb,Cb,tb,ub,Za,$a,X,aa,la,ma,ab;e=1779033703;f=4089235720;h=3144134277;m=2227873595;l=1013904242;g=4271175723;k=2773480762;n=1595750129;
v=1359893119;z=2917565137;B=2600822924;y=725511199;K=528734635;G=4215389547;D=1541459225;ja=327033209;U=0;do{c[0]=U;c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=c[16]=c[17]=c[18]=c[19]=c[20]=c[21]=c[22]=c[23]=c[24]=c[25]=c[26]=c[27]=c[28]=c[29]=c[30]=c[31]=c[32]=0;for(L=ya;ca<ua&&128>L;++ca)c[L>>2]|=a[ca],L+=4;Aa+=L-ya;ya=L-128;ca==ua&&(c[L>>2]|=b[L&3],++ca);U=c[32];ca>ua&&112>L&&(c[31]=Aa<<3,ba=!0);for(L=32;160>L;L+=2)X=c[L-30],aa=c[L-29],ta=(X>>>1|aa<<31)^(X>>>
8|aa<<24)^X>>>7,va=(aa>>>1|X<<31)^(aa>>>8|X<<24)^(aa>>>7|X<<25),X=c[L-4],aa=c[L-3],Q=(X>>>19|aa<<13)^(aa>>>29|X<<3)^X>>>6,F=(aa>>>19|X<<13)^(X>>>29|aa<<3)^(aa>>>6|X<<26),X=c[L-32],aa=c[L-31],la=c[L-14],ma=c[L-13],P=(ma&65535)+(aa&65535)+(va&65535)+(F&65535),F=(ma>>>16)+(aa>>>16)+(va>>>16)+(F>>>16)+(P>>>16),I=(la&65535)+(X&65535)+(ta&65535)+(Q&65535)+(F>>>16),Q=(la>>>16)+(X>>>16)+(ta>>>16)+(Q>>>16)+(I>>>16),c[L]=Q<<16|I&65535,c[L+1]=F<<16|P&65535;var Ja=e,Da=f,Ea=h,Fa=m,Ga=l,Ha=g,Ka=k,La=n,Ma=v,Na=
z,Oa=B,Pa=y,za=K,Qa=G,Ra=D,Sa=ja;tb=Ea&Ga;ub=Fa&Ha;for(L=0;160>L;L+=8)ta=(Ja>>>28|Da<<4)^(Da>>>2|Ja<<30)^(Da>>>7|Ja<<25),va=(Da>>>28|Ja<<4)^(Ja>>>2|Da<<30)^(Ja>>>7|Da<<25),Q=(Ma>>>14|Na<<18)^(Ma>>>18|Na<<14)^(Na>>>9|Ma<<23),F=(Na>>>14|Ma<<18)^(Na>>>18|Ma<<14)^(Ma>>>9|Na<<23),Bb=Ja&Ea,Cb=Da&Fa,Za=Bb^Ja&Ga^tb,$a=Cb^Da&Ha^ub,ab=Ma&Oa^~Ma&za,I=Na&Pa^~Na&Qa,X=c[L],aa=c[L+1],la=d[L],ma=d[L+1],P=(ma&65535)+(aa&65535)+(I&65535)+(F&65535)+(Sa&65535),F=(ma>>>16)+(aa>>>16)+(I>>>16)+(F>>>16)+(Sa>>>16)+(P>>>16),
I=(la&65535)+(X&65535)+(ab&65535)+(Q&65535)+(Ra&65535)+(F>>>16),Q=(la>>>16)+(X>>>16)+(ab>>>16)+(Q>>>16)+(Ra>>>16)+(I>>>16),X=Q<<16|I&65535,aa=F<<16|P&65535,P=($a&65535)+(va&65535),F=($a>>>16)+(va>>>16)+(P>>>16),I=(Za&65535)+(ta&65535)+(F>>>16),Q=(Za>>>16)+(ta>>>16)+(I>>>16),la=Q<<16|I&65535,ma=F<<16|P&65535,P=(La&65535)+(aa&65535),F=(La>>>16)+(aa>>>16)+(P>>>16),I=(Ka&65535)+(X&65535)+(F>>>16),Q=(Ka>>>16)+(X>>>16)+(I>>>16),Ra=Q<<16|I&65535,Sa=F<<16|P&65535,P=(ma&65535)+(aa&65535),F=(ma>>>16)+(aa>>>
16)+(P>>>16),I=(la&65535)+(X&65535)+(F>>>16),Q=(la>>>16)+(X>>>16)+(I>>>16),Ka=Q<<16|I&65535,La=F<<16|P&65535,ta=(Ka>>>28|La<<4)^(La>>>2|Ka<<30)^(La>>>7|Ka<<25),va=(La>>>28|Ka<<4)^(Ka>>>2|La<<30)^(Ka>>>7|La<<25),Q=(Ra>>>14|Sa<<18)^(Ra>>>18|Sa<<14)^(Sa>>>9|Ra<<23),F=(Sa>>>14|Ra<<18)^(Sa>>>18|Ra<<14)^(Ra>>>9|Sa<<23),tb=Ka&Ja,ub=La&Da,Za=tb^Ka&Ea^Bb,$a=ub^La&Fa^Cb,ab=Ra&Ma^~Ra&Oa,I=Sa&Na^~Sa&Pa,X=c[L+2],aa=c[L+3],la=d[L+2],ma=d[L+3],P=(ma&65535)+(aa&65535)+(I&65535)+(F&65535)+(Qa&65535),F=(ma>>>16)+(aa>>>
16)+(I>>>16)+(F>>>16)+(Qa>>>16)+(P>>>16),I=(la&65535)+(X&65535)+(ab&65535)+(Q&65535)+(za&65535)+(F>>>16),Q=(la>>>16)+(X>>>16)+(ab>>>16)+(Q>>>16)+(za>>>16)+(I>>>16),X=Q<<16|I&65535,aa=F<<16|P&65535,P=($a&65535)+(va&65535),F=($a>>>16)+(va>>>16)+(P>>>16),I=(Za&65535)+(ta&65535)+(F>>>16),Q=(Za>>>16)+(ta>>>16)+(I>>>16),la=Q<<16|I&65535,ma=F<<16|P&65535,P=(Ha&65535)+(aa&65535),F=(Ha>>>16)+(aa>>>16)+(P>>>16),I=(Ga&65535)+(X&65535)+(F>>>16),Q=(Ga>>>16)+(X>>>16)+(I>>>16),za=Q<<16|I&65535,Qa=F<<16|P&65535,
P=(ma&65535)+(aa&65535),F=(ma>>>16)+(aa>>>16)+(P>>>16),I=(la&65535)+(X&65535)+(F>>>16),Q=(la>>>16)+(X>>>16)+(I>>>16),Ga=Q<<16|I&65535,Ha=F<<16|P&65535,ta=(Ga>>>28|Ha<<4)^(Ha>>>2|Ga<<30)^(Ha>>>7|Ga<<25),va=(Ha>>>28|Ga<<4)^(Ga>>>2|Ha<<30)^(Ga>>>7|Ha<<25),Q=(za>>>14|Qa<<18)^(za>>>18|Qa<<14)^(Qa>>>9|za<<23),F=(Qa>>>14|za<<18)^(Qa>>>18|za<<14)^(za>>>9|Qa<<23),Bb=Ga&Ka,Cb=Ha&La,Za=Bb^Ga&Ja^tb,$a=Cb^Ha&Da^ub,ab=za&Ra^~za&Ma,I=Qa&Sa^~Qa&Na,X=c[L+4],aa=c[L+5],la=d[L+4],ma=d[L+5],P=(ma&65535)+(aa&65535)+(I&
65535)+(F&65535)+(Pa&65535),F=(ma>>>16)+(aa>>>16)+(I>>>16)+(F>>>16)+(Pa>>>16)+(P>>>16),I=(la&65535)+(X&65535)+(ab&65535)+(Q&65535)+(Oa&65535)+(F>>>16),Q=(la>>>16)+(X>>>16)+(ab>>>16)+(Q>>>16)+(Oa>>>16)+(I>>>16),X=Q<<16|I&65535,aa=F<<16|P&65535,P=($a&65535)+(va&65535),F=($a>>>16)+(va>>>16)+(P>>>16),I=(Za&65535)+(ta&65535)+(F>>>16),Q=(Za>>>16)+(ta>>>16)+(I>>>16),la=Q<<16|I&65535,ma=F<<16|P&65535,P=(Fa&65535)+(aa&65535),F=(Fa>>>16)+(aa>>>16)+(P>>>16),I=(Ea&65535)+(X&65535)+(F>>>16),Q=(Ea>>>16)+(X>>>16)+
(I>>>16),Oa=Q<<16|I&65535,Pa=F<<16|P&65535,P=(ma&65535)+(aa&65535),F=(ma>>>16)+(aa>>>16)+(P>>>16),I=(la&65535)+(X&65535)+(F>>>16),Q=(la>>>16)+(X>>>16)+(I>>>16),Ea=Q<<16|I&65535,Fa=F<<16|P&65535,ta=(Ea>>>28|Fa<<4)^(Fa>>>2|Ea<<30)^(Fa>>>7|Ea<<25),va=(Fa>>>28|Ea<<4)^(Ea>>>2|Fa<<30)^(Ea>>>7|Fa<<25),Q=(Oa>>>14|Pa<<18)^(Oa>>>18|Pa<<14)^(Pa>>>9|Oa<<23),F=(Pa>>>14|Oa<<18)^(Pa>>>18|Oa<<14)^(Oa>>>9|Pa<<23),tb=Ea&Ga,ub=Fa&Ha,Za=tb^Ea&Ka^Bb,$a=ub^Fa&La^Cb,ab=Oa&za^~Oa&Ra,I=Pa&Qa^~Pa&Sa,X=c[L+6],aa=c[L+7],la=
d[L+6],ma=d[L+7],P=(ma&65535)+(aa&65535)+(I&65535)+(F&65535)+(Na&65535),F=(ma>>>16)+(aa>>>16)+(I>>>16)+(F>>>16)+(Na>>>16)+(P>>>16),I=(la&65535)+(X&65535)+(ab&65535)+(Q&65535)+(Ma&65535)+(F>>>16),Q=(la>>>16)+(X>>>16)+(ab>>>16)+(Q>>>16)+(Ma>>>16)+(I>>>16),X=Q<<16|I&65535,aa=F<<16|P&65535,P=($a&65535)+(va&65535),F=($a>>>16)+(va>>>16)+(P>>>16),I=(Za&65535)+(ta&65535)+(F>>>16),Q=(Za>>>16)+(ta>>>16)+(I>>>16),la=Q<<16|I&65535,ma=F<<16|P&65535,P=(Da&65535)+(aa&65535),F=(Da>>>16)+(aa>>>16)+(P>>>16),I=(Ja&
65535)+(X&65535)+(F>>>16),Q=(Ja>>>16)+(X>>>16)+(I>>>16),Ma=Q<<16|I&65535,Na=F<<16|P&65535,P=(ma&65535)+(aa&65535),F=(ma>>>16)+(aa>>>16)+(P>>>16),I=(la&65535)+(X&65535)+(F>>>16),Q=(la>>>16)+(X>>>16)+(I>>>16),Ja=Q<<16|I&65535,Da=F<<16|P&65535;P=(f&65535)+(Da&65535);F=(f>>>16)+(Da>>>16)+(P>>>16);I=(e&65535)+(Ja&65535)+(F>>>16);Q=(e>>>16)+(Ja>>>16)+(I>>>16);e=Q<<16|I&65535;f=F<<16|P&65535;P=(m&65535)+(Fa&65535);F=(m>>>16)+(Fa>>>16)+(P>>>16);I=(h&65535)+(Ea&65535)+(F>>>16);Q=(h>>>16)+(Ea>>>16)+(I>>>16);
h=Q<<16|I&65535;m=F<<16|P&65535;P=(g&65535)+(Ha&65535);F=(g>>>16)+(Ha>>>16)+(P>>>16);I=(l&65535)+(Ga&65535)+(F>>>16);Q=(l>>>16)+(Ga>>>16)+(I>>>16);l=Q<<16|I&65535;g=F<<16|P&65535;P=(n&65535)+(La&65535);F=(n>>>16)+(La>>>16)+(P>>>16);I=(k&65535)+(Ka&65535)+(F>>>16);Q=(k>>>16)+(Ka>>>16)+(I>>>16);k=Q<<16|I&65535;n=F<<16|P&65535;P=(z&65535)+(Na&65535);F=(z>>>16)+(Na>>>16)+(P>>>16);I=(v&65535)+(Ma&65535)+(F>>>16);Q=(v>>>16)+(Ma>>>16)+(I>>>16);v=Q<<16|I&65535;z=F<<16|P&65535;P=(y&65535)+(Pa&65535);F=(y>>>
16)+(Pa>>>16)+(P>>>16);I=(B&65535)+(Oa&65535)+(F>>>16);Q=(B>>>16)+(Oa>>>16)+(I>>>16);B=Q<<16|I&65535;y=F<<16|P&65535;P=(G&65535)+(Qa&65535);F=(G>>>16)+(Qa>>>16)+(P>>>16);I=(K&65535)+(za&65535)+(F>>>16);Q=(K>>>16)+(za>>>16)+(I>>>16);K=Q<<16|I&65535;G=F<<16|P&65535;P=(ja&65535)+(Sa&65535);F=(ja>>>16)+(Sa>>>16)+(P>>>16);I=(D&65535)+(Ra&65535)+(F>>>16);Q=(D>>>16)+(Ra>>>16)+(I>>>16);D=Q<<16|I&65535;ja=F<<16|P&65535}while(!ba);return[e,f,h,m,l,g,k,n,v,z,B,y,K,G,D,ja]}}();function ea(){this.ga=624;this.ub=397;this.Cc=2567483615;this.Gb=2147483648;this.Fb=2147483647;this.H=Array(this.ga);this.ta=this.ga+1}function fa(b,d){b.H[0]=d>>>0;for(b.ta=1;b.ta<b.ga;b.ta++)d=b.H[b.ta-1]^b.H[b.ta-1]>>>30,b.H[b.ta]=(1812433253*((d&4294901760)>>>16)<<16)+1812433253*(d&65535)+b.ta,b.H[b.ta]>>>=0}
function ga(b,d,c){var a,e,f;fa(b,19650218);a=1;e=0;for(f=b.ga>c?b.ga:c;f;f--){var h=b.H[a-1]^b.H[a-1]>>>30;b.H[a]=(b.H[a]^(1664525*((h&4294901760)>>>16)<<16)+1664525*(h&65535))+d[e]+e;b.H[a]>>>=0;a++;e++;a>=b.ga&&(b.H[0]=b.H[b.ga-1],a=1);e>=c&&(e=0)}for(f=b.ga-1;f;f--)h=b.H[a-1]^b.H[a-1]>>>30,b.H[a]=(b.H[a]^(1566083941*((h&4294901760)>>>16)<<16)+1566083941*(h&65535))-a,b.H[a]>>>=0,a++,a>=b.ga&&(b.H[0]=b.H[b.ga-1],a=1);b.H[0]=2147483648}
function ha(b){var d,c=[0,b.Cc];if(b.ta>=b.ga){var a;b.ta==b.ga+1&&fa(b,5489);for(a=0;a<b.ga-b.ub;a++)d=b.H[a]&b.Gb|b.H[a+1]&b.Fb,b.H[a]=b.H[a+b.ub]^d>>>1^c[d&1];for(;a<b.ga-1;a++)d=b.H[a]&b.Gb|b.H[a+1]&b.Fb,b.H[a]=b.H[a+(b.ub-b.ga)]^d>>>1^c[d&1];d=b.H[b.ga-1]&b.Gb|b.H[0]&b.Fb;b.H[b.ga-1]=b.H[b.ub-1]^d>>>1^c[d&1];b.ta=0}d=b.H[b.ta++];d^=d>>>11;d^=d<<7&2636928640;d^=d<<15&4022730752;return(d^d>>>18)>>>0}ea.prototype.random=function(){return ha(this)*(1/4294967296)};function ia(b){if("254"==b)return"a";if("255"==b)return"r";if("136"==b)return"0z";var d=b>>2;return(27>d&&16==b%36?"0":d%9+1)+"mpsz".substr(d/9,1)}function ka(b){for(var d="",c=0;c<b.length;++c)d+=ia(b[c]);return d.replace(/\d(m|p|s|z)(\d\1)*/g,"$&:").replace(/(m|p|s|z)([^:])/g,"$2").replace(/:/g,"")}
function na(b){return b.replace(/(\d)(\d{0,8})(\d{0,8})(\d{0,8})(\d{0,8})(\d{0,8})(\d{0,8})(\d{8})(m|p|s|z)/g,"$1$9$2$9$3$9$4$9$5$9$6$9$7$9$8$9").replace(/(\d?)(\d?)(\d?)(\d?)(\d?)(\d?)(\d)(\d)(m|p|s|z)/g,"$1$9$2$9$3$9$4$9$5$9$6$9$7$9$8$9").replace(/(m|p|s|z)(m|p|s|z)+/g,"$1").replace(/([^0-9]|^)[mpsz](\d[mpsz\d]*)/g,"$1$2")}
function oa(b){if(!b)return"";for(var d=[],c=0;34>c;++c)d[c]=0;return na(b).replace(/r/g,"255,").replace(/a/g,"254,").replace(/(\d)([mpsz])(?![mpsz])/g,function(a,b,f){b=~~b;if("z"==f&&0==b)return"136,";a="m"==f?0:"p"==f?1:"s"==f?2:3;return b?36*a+4*(b-1)+ ++d[9*a+(b-1)]%4+",":4*(9*a+4)+0+","}).replace(/,$/,"")};var pa=function(){function b(a){var b=a&7,f=0,c=0;1==b||4==b?f=c=1:2==b&&(f=c=2);a>>=3;b=(a&7)-f;if(0>b)return!1;f=c;c=0;1==b||4==b?(f+=1,c+=1):2==b&&(f+=2,c+=2);a>>=3;b=(a&7)-f;if(0>b)return!1;f=c;c=0;1==b||4==b?(f+=1,c+=1):2==b&&(f+=2,c+=2);a>>=3;b=(a&7)-f;if(0>b)return!1;f=c;c=0;1==b||4==b?(f+=1,c+=1):2==b&&(f+=2,c+=2);a>>=3;b=(a&7)-f;if(0>b)return!1;f=c;c=0;1==b||4==b?(f+=1,c+=1):2==b&&(f+=2,c+=2);a>>=3;b=(a&7)-f;if(0>b)return!1;f=c;c=0;1==b||4==b?(f+=1,c+=1):2==b&&(f+=2,c+=2);a>>=3;b=(a&7)-f;
if(0>b)return!1;f=c;c=0;1==b||4==b?(f+=1,c+=1):2==b&&(f+=2,c+=2);a>>=3;b=(a&7)-f;if(0!=b&&3!=b)return!1;b=(a>>3&7)-c;return 0==b||3==b}function d(a,c){if(0==a){if(128<=(c&448)&&b(c-128)||65536<=(c&229376)&&b(c-65536)||33554432<=(c&117440512)&&b(c-33554432))return!0}else if(1==a){if(16<=(c&56)&&b(c-16)||8192<=(c&28672)&&b(c-8192)||4194304<=(c&14680064)&&b(c-4194304))return!0}else if(2==a&&(2<=(c&7)&&b(c-2)||1024<=(c&3584)&&b(c-1024)||524288<=(c&1835008)&&b(c-524288)))return!0;return!1}function c(a,
b){return a[b+0]<<0|a[b+1]<<3|a[b+2]<<6|a[b+3]<<9|a[b+4]<<12|a[b+5]<<15|a[b+6]<<18|a[b+7]<<21|a[b+8]<<24}return{Ib:function(a){var e=1<<a[27]|1<<a[28]|1<<a[29]|1<<a[30]|1<<a[31]|1<<a[32]|1<<a[33];if(16<=e)return!1;if(2==(e&3)&&2==a[0]*a[8]*a[9]*a[17]*a[18]*a[26]*a[27]*a[28]*a[29]*a[30]*a[31]*a[32]*a[33]||!(e&10)&&7==(2==a[0])+(2==a[1])+(2==a[2])+(2==a[3])+(2==a[4])+(2==a[5])+(2==a[6])+(2==a[7])+(2==a[8])+(2==a[9])+(2==a[10])+(2==a[11])+(2==a[12])+(2==a[13])+(2==a[14])+(2==a[15])+(2==a[16])+(2==a[17])+
(2==a[18])+(2==a[19])+(2==a[20])+(2==a[21])+(2==a[22])+(2==a[23])+(2==a[24])+(2==a[25])+(2==a[26])+(2==a[27])+(2==a[28])+(2==a[29])+(2==a[30])+(2==a[31])+(2==a[32])+(2==a[33]))return!0;if(e&2)return!1;var f=a[0]+a[3]+a[6],h=a[1]+a[4]+a[7],m=a[9]+a[12]+a[15],l=a[10]+a[13]+a[16],g=a[18]+a[21]+a[24],k=a[19]+a[22]+a[25],n=(f+h+(a[2]+a[5]+a[8]))%3;if(1==n)return!1;var v=(m+l+(a[11]+a[14]+a[17]))%3;if(1==v)return!1;var z=(g+k+(a[20]+a[23]+a[26]))%3;if(1==z||1!=(2==n)+(2==v)+(2==z)+(2==a[27])+(2==a[28])+
(2==a[29])+(2==a[30])+(2==a[31])+(2==a[32])+(2==a[33]))return!1;f=(1*f+2*h)%3;h=c(a,0);m=(1*m+2*l)%3;l=c(a,9);g=(1*g+2*k)%3;a=c(a,18);return e&4?!(n|f|v|m|z|g)&&b(h)&&b(l)&&b(a):2==n?!(v|m|z|g)&&b(l)&&b(a)&&d(f,h):2==v?!(z|g|n|f)&&b(a)&&b(h)&&d(m,l):2==z?!(n|f|v|m)&&b(h)&&b(l)&&d(g,a):!1},jb:function(a){var b=[],c=0;if(12<=(0!==a[0])+(0!==a[8])+(0!==a[9])+(0!==a[17])+(0!==a[18])+(0!==a[26])+(0!==a[27])+(0!==a[28])+(0!==a[29])+(0!==a[30])+(0!==a[31])+(0!==a[32])+(0!==a[33]))for(;34>c;++c)3>=a[c]&&
(++a[c],pa.Ib(a)&&b.push(c),--a[c]);else{for(;27>c;++c)3>=a[c]&&(a[c]||0<c%9&&a[c-1]||8>c%9&&a[c+1])&&(++a[c],pa.Ib(a)&&b.push(c),--a[c]);for(;34>c;++c)3>=a[c]&&a[c]&&(++a[c],pa.Ib(a)&&b.push(c),--a[c])}return b},Sc:function(a){for(var b={},c=0;34>c;++c)a[c]&&(--a[c],b[c]=pa.jb(a),++a[c]);return b}}}();var qa="門前清自摸和;立直;一發;槍槓;嶺上開花;海底摸月;河底撈魚;平和;斷么九;一盃口;自風 東;自風 南;自風 西;自風 北;場風 東;場風 南;場風 西;場風 北;役牌 白;役牌 發;役牌 中;兩立直;七對子;混全帶么九;一氣通貫;三色同順;三色同刻;三槓子;對對和;三暗刻;小三元;混老頭;二盃口;純全帶么九;混一色;清一色;人和;天和;地和;大三元;四暗刻;四暗刻單騎;字一色;綠一色;清老頭;九蓮寶燈;純正九蓮寶燈;國士無雙;國士無雙13面;大四喜;小四喜;四槓子;ドラ;裏ドラ;赤ドラ;親;門前;榮和;本場;明槓;暗槓;五;ガリ;セット;カラス;全ガリ;バンバン".split(";"),
ra="新人 ９級 ８級 ７級 ６級 ５級 ４級 ３級 ２級 １級 初段 二段 三段 四段 五段 六段 七段 八段 九段 十段 天鳳".split(" "),sa=" 滿貫 跳滿 倍滿 三倍滿 役滿".split(" "),wa={kaze4:"四風連打",yao9:"九種九牌",ron3:"三家和了",reach4:"四家立直",
kan4:"四槓散了",nm:"流局滿貫"},xa=[{800:"300-500",1100:"400-700",1200:"400-800",1500:"500-1000",1800:"600-1200",2E3:"700-1300",2300:"800-1500",2400:"800-1600",2700:"900-1800",3E3:"1000-2000",3500:"1200-2300",3900:"1300-2600",4400:"1500-2900",4800:"1600-3200",5400:"1800-3600",5900:"2000-3900",6E3:"2000-4000",9E3:"3000-6000",12E3:"4000-8000",18E3:"6000-12000",24E3:"8000-16000",48E3:"16000-32000",72E3:"24000-48000"},{1E3:500,1400:700,1600:800,2E3:1E3,2400:1200,2600:1300,
3E3:1500,3200:1600,3600:1800,4E3:2E3,4600:2300,5200:2600,5800:2900,6400:3200,7200:3600,7800:3900,8E3:4E3,12E3:6E3,16E3:8E3,24E3:12E3,32E3:16E3,64E3:32E3,96E3:48E3},{1100:"300-500",1500:"400-700",1600:"400-800",2E3:"500-1000",2400:"600-1200",2700:"700-1300",3100:"800-1500",3200:"800-1600",3600:"900-1800",4E3:"1000-2000",4700:"1200-2300",5200:"1300-2600",5900:"1500-2900",6400:"1600-3200",7200:"1800-3600",7900:"2000-3900",8E3:"2000-4000",12E3:"3000-6000",16E3:"4000-8000",24E3:"6000-12000",32E3:"8000-16000",
64E3:"16000-32000",96E3:"24000-48000"},{1500:500,2100:700,2400:800,3E3:1E3,3600:1200,3900:1300,4500:1500,4800:1600,5400:1800,6E3:2E3,6900:2300,7800:2600,8700:2900,9600:3200,10800:3600,11700:3900,12E3:4E3,18E3:6E3,24E3:8E3,36E3:12E3,48E3:16E3,96E3:32E3,144E3:48E3}];function Ba(b,d){return 0!=(0==b?0!=(d&1536)?~d&8:d&64:d&64)}function Ca(b){return(b&32)>>4|(b&128)>>7}
function Ia(b){return p.oemLoginEmail?(b&16?"三":"四")+"W"+(b&8?"南":"東")+(b&2?"":"赤")+(b&256?"暗":""):0!=(b&2048)?"東天紅":(b&16?"三":"四")+"般上特鳳若銀琥孔".substr(Ca(b)+4*(0!=(b&1536)),1)+(b&8?"南":"東")+(0!=(b&1536)?(b&8?"":"速")+(~b&512?"祝０":b&1024?"祝５":"祝２"):(b&4?"":"喰")+(b&2?"":"赤")+(b&64?"速":"")+(b&256?"暗":"")+(b&512?"祝":""))}
var Ta=[0,0,0,0,0,0,0,0,-10,-20,-30,-40,-50,-60,-70,-80,-90,-100,-110,-120,0],Ua=[20,20,20,20,40,60,80,100,100,100,400,800,1200,1600,2E3,2400,2800,3200,3600,4E3,0],Va=[1,3,0,7,9,11,0,15,65,0,0,0,73,0,0,0,129,131,0,135,137,139,0,143,193,0,0,0,201,0,0,0,33,35,0,39,41,43,0,47,97,0,0,0,105,0,0,0,161,163,0,167,169,171,0,175,225,0,0,0,233,0,0,0,17,25,145,153,49,57,177,185,81,89,209,217,113,121,241,249,1025,1033,513,521,1537,1545,1553,1561,1153,1161,641,649,1665,1673,1681,1689,1057,1065,545,553,1569,1577,
1585,1593,1185,1193,673,681,1697,1705,1713,1721,2065,4353,4361,4377,257,265,281];function Wa(b,d,c){b.addEventListener(d,c,!1)}function Xa(b,d){for(var c in d)b.addEventListener(c,d[c],!1);return b}function Ya(b,d,c){b.addEventListener(d,c,{once:!0,passive:!0,capture:!0})}function bb(b,d){if(b&&d)for(var c in d)b[c]=d[c];return b}function cb(b){b.sort(function(b,c){return b-c})}function db(b,d){b.sort(function(b,a){return(d[b]<<8|b)-(d[a]<<8|a)})}
function eb(b,d){if(void 0===b||""===b)return[];d=d||1;b.split&&(b=b.split(","));for(var c=0;c<b.length;++c)b[c]=1!=d&&""==b[c]?void 0:d*~~b[c];return b}function fb(b){for(var d=b.length-1;0<d;--d){var c=Math.floor(Math.random()*(d+1)),a=b[d];b[d]=b[c];b[c]=a}return b}function gb(b){try{return decodeURIComponent(b)}catch(d){return b}}function hb(b){return encodeURIComponent(b).replace(/%[0-9A-Fa-f]{2}|./g,function(b){return 3==b.length?b:"%"+("0"+b.charCodeAt(0).toString(16)).substr(-2)})}
function ib(b){return b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function jb(b){b=b.split("&");var d={},c;for(c in b)if(b[c].length){var a=b[c].split("=");d[a.shift()]=decodeURIComponent(a.join("="))}return d}function kb(b){if(!b||!b.length)return!1;b=b.charCodeAt(0);return 9372<=b&&9397>=b||9398<=b&&9423>=b||9424<=b&&9449>=b}
function lb(b,d,c){var a=new XMLHttpRequest;a.onload=function(){200==this.status?d(this.response):c&&c(this)};a.onerror=function(){c&&c(this)};a.open("GET",b,!0);a.send()}function mb(b){var d=new XMLHttpRequest;b&&(d.onload=b);d.open("GET","//b7.mjv.jp/lobby_stat_live/L0001.ini",!0);d.send()}
function nb(b,d,c,a){var e=new XMLHttpRequest;c&&(e.onload=c);a&&(e.onerror=a);e.open(d?"POST":"GET",b,!0);e.setRequestHeader("Tenhou-Client-Type",ob?"C":"W");e.setRequestHeader("Tenhou-Client-Lang",pb.Va());e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");e.send(d)}function qb(b,d){var c;return function(){clearTimeout(c);c=setTimeout(function(){c=null;b()},d)}}function rb(b,d){return("000"+d).slice(-b)}function sb(b){return(0<b?"+":"")+b}
var vb=1,p=window,wb=document,xb=wb.body,yb=0,zb=0,Ab=0,Db=navigator.userAgent;Db.match(/iP(hone|od|ad)/)&&Db.match(/OS (\d+)_(\d+)/)&&(yb=RegExp.$1+"."+RegExp.$2);Db.match(/Android (\d+\.\d+|\d+)/)&&(zb=parseFloat(RegExp.$1));var Ab=4.4>zb&&0<Db.indexOf(" Chrome/")&&0<Db.indexOf(" Version/"),Eb="ontouchstart"in wb.documentElement&&!p.navigator.msPointerEnabled,ob=!!p.cordova,Fb=ob||"standalone"in navigator&&navigator.standalone,Gb=!1,q,r={};bb(r,jb(location.search.substr(1)));bb(r,jb(location.hash.substr(1)));
r.TW=r.tw=~~r.tw%4;r.ob=!(!r.wg&&!r.log);r.Wa=!1;r.Zc=function(b){function d(c,a){var e=b.match(c);return e?e[1]:a}r.log=d(/\?log=([^&]*)/,"");r.TW=r.tw=~~d(/&tw=(\d)/,0);r.ts=~~d(/&ts=(\d+)/,0);r.wg=d(/\?wg=([^&]*)/,"");(r.log||r.wg)&&t.oa(11)};function u(b,d,c,a,e){b=wb.createElement(b);c&&(b.className=c);bb(b,a);bb(b.style,e);return d?d.insertBefore(b,null):b}
function Hb(b){for(var d=1;d<arguments.length;++d){var c=arguments[d];if(0===c)Array.prototype.push.apply(arguments,"regid clearid idcont uname sx mvlb ok regemail".split(" "));else if(1===c)Array.prototype.push.apply(arguments,"cfg testplay haifu kansen openurl help hairi purchase".split(" "));else if(2===c)Array.prototype.push.apply(arguments,["iap","storePurchase","exit"]);else if(3===c)Array.prototype.push.apply(arguments,["rule","join","cancel","logout"]);else for(var c=wb.getElementsByName(c),
a=0;a<c.length;++a){var e=c[a];e&&(e.disabled=b)}}}function Ib(b){b.querySelectorAll("script").forEach(function(b){var c=document.createElement("script");c.textContent=b.textContent;b.replaceWith(c)})}function Jb(b){if(!b)return!1;b=b.replace(/\?.*$/,"");return b.match(/^https?:\/\/(?:[%\w-]+\.)+[%\w-]+(?:\/[%\w-]+)+\.(?:jpg|png|gif)$/)}function Kb(b){if(!b)return!1;b=b.replace(/\?.*$/,"");return b.match(/^https?:\/\/(?:[%\w-]+\.)+[%\w-]+(?:\/[%\w-]+)+\.(?:json|txt)$/)}
var Lb=function(){var b=[],d=new XMLHttpRequest;d.onload=function(){b.length&&1!=d.readyState&&(d.open("POST","https://tenhou.net/3/err.cgi",!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.send(b.shift()))};return function(){for(var c=arguments[0],a=1;a<arguments.length;++a)c+=" "+arguments[a];b.push(c);d.onload()}}(),Mb="";p.onerror=function(b,d,c,a,e){b=b+" "+d+":"+c+":"+a+" "+e;Mb!=b&&Lb(b);Mb=b};function Nb(b){return p.oemLoginEmail||1800<=b};var w=function(){var b,d,c;return{O:function(a){c&&(clearInterval(c),c=null);d&&d[a]&&0==d[a](b)||!b||(b.parentNode.removeChild(b),b=null)},i:function(a,e,f,h,m,l,g){l=l||"OK";g=g||"CANCEL";1==arguments.length&&(e=1);d=[h,f];var k=b=u("DIV",xb,"tbl fadeinqs",{},{position:"fixed",zIndex:2,left:0,top:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.75)"});setTimeout(function(){0==e&&Wa(k,"click",function(){w.O(0)});k=u("DIV",k,"tbc",{},{textAlign:"center",verticalAlign:"middle"});k=u("FORM",k,
"",{innerHTML:"<div id=a22 style='position:relative;font-size:150%;"+(0!=e?"padding:1em 0;":"")+"'>"+a+"</div><input type=button style='width:6em;' /><input type=submit style='width:6em;' />",onsubmit:function(){return!1}},{display:"inline-block",background:"#FFF",color:"#000",borderRadius:"0.6em",maxWidth:"90vw",padding:"1em"});Ib(k);var b=k.querySelectorAll("FORM>INPUT");b[0].onclick=function(){w.O(0)};b[0].style.display=e&2?"":"none";b[0].value=g;b[1].onclick=function(){w.O(1)};b[1].style.display=
e&1?"":"none";b[1].value=l;if(zb&&ob)for(var f=0;f<b.length;++f)Xa(b[f],{focus:function(){Ob(1)},blur:function(){Ob()}});b.length&&b[0].focus();if(m){Pb(8,0,0);var h=u("DIV",k,"",{innerHTML:"<div style='position:absolute;right:0;bottom:0;padding:0 0.1em;font-size:70%;'></div>"},{color:"#000",position:"absolute",pointerEvents:"none"});c=setInterval(function(){var a=h.style,c=b[0].getBoundingClientRect();a.left=c.left+"px";a.top=c.top+"px";a.width=c.width+"px";a.height=c.height+"px";h.firstChild.innerHTML=
--m;0<m&&Pb(7,0,0);0>m&&w.O(0)},1E3)}if(k=k.querySelector("._selected_"))k.parentNode.scrollTop=k.offsetTop-(k.parentNode.offsetHeight-k.offsetHeight)/2},1)},$:function(a,b,c,h,m){return w.i("<div class='fixed-select sscl' style='position:relative;"+(b||"")+"'>"+a+"</div><div class=sblink style='visibility:hidden;'>▼</div>",c,h,m)},gb:function(){return!!b}}}();
Wa(p,"click",function(b){var d=b.target;if(d.classList.contains("A")&&d.id&&d.parentNode.classList.contains("fixed-select"))if("A"==d.tagName&&b.preventDefault(),b=d.id.split("-"),x.b&&x[b[0]])x[b[0]](b[0],b[1]);else switch(b[0]){case "#tw":3==A.a?Qb.zb(b[0],b[1]):2==A.a&&Rb.zb(b[0],b[1]);break;case "#ts":Qb.lc(b[0],b[1]);break;case "#tj":Qb.mc(b[0],b[1]);break;case "#edit":if("M"==b[1])p.open("https://tenhou.net/6/?log="+r.log+"&tw="+~~r.tw);else if("T"==b[1])return alert("本機能はクローズド公開中のため使用できません")}});var Sb=document.createElement("style");Sb.innerHTML="@font-face{font-family:cwTeX-Q-Kai-T;src: url(https://cdn.tenhou.net/3/res/font/cwTeXQKaiT-Medium_20200430.ttf) format('truetype');}@font-face{font-family:icons2;src: url(https://cdn.tenhou.net/3/res/font/icons_20200502.ttf) format('truetype');}*{-webkit-tap-highlight-color:rgba(0,0,0,0);line-height:1;}:focus{outline:0;}HTML{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}HTML{touch-action:pan-y;}BODY{font-family:sans-serif;overflow-x:hidden;-webkit-text-size-adjust:100%;}HR{border-color:#444;border-width:1px 0 0 0;border-style:solid;margin:0.5em 0;}TEXTAREA{margin:0px;word-break:break-all;}SELECT{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0.5em;}SELECT::-ms-expand{display:none;}BUTTON,SELECT,INPUT,.bth{height:2em;font-size:175%;margin:0;}BUTTON,SELECT,INPUT[type=checkbox].checkboxt+LABEL,A.bt3{padding:0 0.5em;color:inherit;border:solid 1px #444;}BUTTON,SELECT,INPUT[type=checkbox].checkboxt+LABEL{background:linear-gradient(to bottom, rgba(0,0,0,0.4) 0%,rgba(167,147,127,0.4) 50%,rgba(31,31,31,0.4) 51%,rgba(0,0,0,0.4) 100%);}A.bt3{display:block;width:100%;height:100%;padding:0 1em;border:solid 1px #444;background:linear-gradient(to bottom, rgba(0,0,0,0.4) 0%,rgba(47,47,47,0.4) 100%);}A.bt3:hover,SELECT:hover{background-color:#030;}SELECT:disabled,BUTTON:disabled{color:#888;background:#444;pointer-events:none;}OPTION{background-color:#FFF;color:#000;}BUTTON *{pointer-events:none;}.sscl{-webkit-overflow-scrolling:touch;}.rot000{position:absolute;}.rot090{position:absolute;transform:rotate( 90deg);-webkit-transform:rotate( 90deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);}.rot180{position:absolute;transform:rotate(180deg);-webkit-transform:rotate(180deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);}.rot270{position:absolute;transform:rotate(270deg);-webkit-transform:rotate(270deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);}.ts0,sblink{text-shadow:#000 -1px 0px 0px, #000 1px 0px 0px, #000 1px 1px 1px,#000 -1px -1px 1px;}.ts1{text-shadow:#000 -1px 0px 0px, #000 1px 0px 0px, #000 0px 1px 0px,#000 0px -1px 0px;}.tsv{text-shadow:#000 -1px -1px 0px, #000 0px 1px 0px, #000 3px 3px 0px;}.nosel{-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;user-select:none;}.tbl{display:table;}.tbc{display:table-cell;}.gray{color:#666;}.nobr{word-break:keep-all;white-space:nowrap;}.bgb40{background-color:rgba(0,0,0,0.4);}.bgb60{background-color:rgba(0,0,0,0.6);}.bgb80{background-color:rgba(0,0,0,0.8);}.bgb{background-color:#000;}.ra0{border-radius:0.5em;}.ra1{border-radius:0.5em 0 0 0.5em;}.ra2{border-radius:0 0.5em 0.5em 0;}.dan18,.dan19,.dan20{font-weight:bold;}.n2r{display:inline-block;width:2em;text-align:right;}._selected_{border-left:0.1em solid #CCC;}.bbg5{border:solid 0.05em #222;border-image:linear-gradient(-10deg,#000, #333) 1;background:linear-gradient(-10deg,rgba(63,63,63,0.3), rgba(0,0,0,0.3));}.desc{color:#666;font-size:50%;}SELECT{padding-right:1em;}.select-wrapper{position:relative;display:inline-block;}.select-wrapper:after{content:'';position:absolute;right:0.5em;top:45%;width:0;height:0;border-left:0.3em solid transparent;border-right:0.3em solid transparent;border-top: 0.3em solid #FFF;pointer-events:none;}.select-wrapper>BUTTON:first-child{padding-right:1em;border-radius:0.5em;}.fixed-select{min-width:10em;max-width:90vw;max-height:85vh;overflow-y:auto;}.fixed-select .A{font-size:150%;color:#000;padding:0.5em;text-decoration:none;display:block;}.fixed-select .A{border-bottom:1px solid #DDD;cursor:pointer;}.fixed-select .A:nth-child(1){border-top:1px solid #DDD;}.fixed-select .A:hover{background-color:#CCC}.fixed-select .A DIV.desc{color:#666;font-size:50%;}.fixed-select .A *{pointer-events:none;}.vscl::-webkit-scrollbar{background:#CCC;width:0.5em;}.vscl::-webkit-scrollbar-thumb{background:#AAA;}INPUT[type=checkbox].checkboxt{display:none;}INPUT[type=checkbox].checkboxt+LABEL{position:relative;cursor:pointer;display:inline-block;border-radius:0.5em;}INPUT[type=checkbox].checkboxt+LABEL{padding:0.5em 0.5em 0.5em 1.8em;}INPUT[type=checkbox].checkboxt+LABEL::before{font-family:icons2;content:'';position:absolute;left:0.5em;top:25%;}INPUT[type=checkbox].checkboxt:checked+LABEL::before{content:'';}INPUT[type=checkbox].checkboxt:disabled+LABEL{color:#888;background:#444;pointer-events:none;}.radio,.checkbox{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0.3em;}.radio,.checkbox{font-size:1.25rem;padding:0.75rem;border:solid 1px #444;}.radio:hover,.checkbox:hover{background-color:#030;}INPUT[type=radio].radio,INPUT[type=checkbox].checkbox{display:none;}.radio,.checkbox{box-sizing:border-box;position:relative;display:inline-block;padding:0.75rem 0.75rem 0.75rem 3.0rem;vertical-align: middle;}.radio:after,.checkbox:after{position:absolute;display:block;content:'';top:50%;left:0.9rem;margin-top:-0.6rem;width:1.0rem;height:1.0rem;border:0.1rem solid #CCC;border-radius:0.3rem;}.radio:before{position:absolute;display:block;content:'';opacity:0;top:50%;left:1.1rem;margin-top:-0.4rem;width:0.6rem;height:0.6rem;border-radius:50%;background-color:#444;}.checkbox:before{position:absolute;display:block;content:'';opacity:0;top:50%;left:1.25rem;margin-top:-0.5rem;width:0.3rem;height:0.6rem;border-right:0.2rem solid #4C4;border-bottom:0.2rem solid #4C4;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}INPUT[type=radio].radio:checked+.radio:before,INPUT[type=checkbox].checkbox:checked+.checkbox:before{opacity:1;}.bblink{animation: _bblink 0.5s ease 0s infinite alternate;}@keyframes _bblink{0%{background-color:rgba(255,255,255,0.3);}30%{background-color:rgba(0,0,0,0.3);}100%{background-color:rgba(0,0,0,0.3);}}.cblink{animation: _cblink 1.75s linear 0s infinite alternate;}@keyframes _cblink{0%{color:#FFF;}80%{color:#FFF;}100%{color:#666;}}.sblink{animation: _sblink 0.5s linear 0s infinite alternate;position:absolute;bottom:0;right:0.25em;color:#888;font-size:300%;pointer-events:none;}@keyframes _sblink{0%{color:transparent;}30%{color:#888;}100%{color:#888;}}.fadeinqs{animation:_fadein 0.25s ease 0s 1 normal;}.fadein2s{animation:_fadein 2s ease 0s 1 normal;}@keyframes _fadein{0%{opacity:0;}100%{opacity:1;}}.flip{perspective:100px;opacity:0;transform:rotateX(-90deg);transition:all 0.5s cubic-bezier(.36,-0.64,.34,1.76);}.flip.show{opacity:1;transform:none;transition:all 0.5s cubic-bezier(.36,-0.64,.34,1.76);}.flipinqs{animation:_flipin 0.25s cubic-bezier(0.175, 0.885, 0.320, 1) 0s 1 normal;}.flipinhs{animation:_flipin 0.5s cubic-bezier(0.175, 0.885, 0.320, 1) 0s 1 normal;}.flipin1s{animation:_flipin 1s cubic-bezier(0.175, 0.885, 0.320, 1) 0s 1 normal;}@keyframes _flipin{0%{opacity:0;transform:rotateX(-90deg);}100%{opacity:1;transform:none;}}.flipinqs.hide{animation:_flipout 0.25s cubic-bezier(0.600, 0, 0.735, 0.045) 0s 1 normal;}.flipinhs.hide{animation:_flipout 0.5s cubic-bezier(0.600, 0, 0.735, 0.045) 0s 1 normal;}@keyframes _flipout{0%{opacity:1;transform:none;}100%{opacity:0;transform:rotateX(-90deg);}}.arrow-box-left,.arrow-box-right{position:relative;background:#FFF;color:#000;border-radius:0.2em;padding:0.5em;}.arrow-box-left:after{right:100%;top:50%;border:solid transparent;content:' ';height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(255, 255, 255, 0);border-right-color:#FFF;border-width:0.5em;margin-top:-0.5em;}.arrow-box-right:after {left:100%;top:50%;border:solid transparent;content:' ';height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(255, 255, 255, 0);border-left-color:#FFF;border-width:0.5em;margin-top:-0.5em;}.b20:before{content:'';position:absolute;top:100%;left:50%;margin-left:-0.2rem;border:0.2rem solid transparent;border-top:0.2rem solid rgba(143,143,143,1.0);}.b21:before{content:'';position:absolute;top:40%;left:100%;margin-top:-0.2rem;border:0.2rem solid transparent;border-left:0.2rem solid rgba(143,143,143,1.0);}.b22:before{content:'';position:absolute;top:-0.4rem;left:50%;margin-left:-0.2rem;border:0.2rem solid transparent;border-bottom:0.2rem solid rgba(143,143,143,1.0);}.b23:before{content:'';position:absolute;top:60%;left:-0.4rem;margin-top:-0.2rem;border:0.2rem solid transparent;border-right:0.2rem solid rgba(143,143,143,1.0);}#pftab TD,#rnktab TD{padding-top:0.35em;}#pftab SMALL,#rnktab SMALL{font-size:60%;}.trtab TD{padding:0.5em 0.25em;}";
xb.appendChild(Sb);function C(b){return"<span class=gray>"+b+"</span>"}function Tb(b){return"<span class=nobr>"+b+"</span>"}u("SPAN",xb,"",{innerHTML:"FontLoader&#xe800;"},{position:"absolute",fontFamily:"cwTeX-Q-Kai-T,icons2",visibility:"hidden"});setInterval(function(){for(var b=wb.getElementsByClassName("sblink"),d=0;d<b.length;++d){var c=b[d],a=c.previousSibling;c.style.visibility=a.scrollTop+a.offsetHeight<a.scrollHeight-.25*c.offsetHeight?"":"hidden"}},1E3);var E;
(function(){try{E=p.localStorage,E.setItem("a",1),E.removeItem("a")}catch(e){E={setItem:function(a,b){E[a]=b},removeItem:function(a){delete E[a]}};var b=navigator.languages,d=0;navigator.userAgent.match(/TwitterAndroid/)&&(d|=1);for(var c in b)b[c].match(/(ja|JP)/)&&(d|=2);b="";switch(d){case 0:b="This browser(private browsing etc.) won't let you save game logs, IDs or other settings.";break;case 1:b="The Twitter browser will not let you save your settings (game logs, IDs, etc). Open the menu and select Open in Browser.";break;
default:case 2:b="このブラウザ環境(プライベートブラウズなど)では、牌譜の記録やIDの保存などが行えません。";break;case 3:b="Twitterの専用ブラウザでは、設定の保存(牌譜の記録/IDの保存/など)が行えません。メニューの「ブラウザで開く」から通常のブラウザで開いてください。"}w.i(b)}d=
E.scro;if(ob&&p.screen&&p.screen.orientation&&p.screen.orientation.lock){b=screen.orientation;c=b.type;if(yb&&("landscape-primary"==c||"landscape-secondary"==c)){var a=wb.getElementById("loading");a&&(a.style.display="none");p.StatusBar.overlaysWebView(!0);p.StatusBar.hide();b.lock("portrait");"landscape-primary"==c?b.lock("landscape-secondary"):"landscape-secondary"==c&&b.lock("landscape-primary");a&&setTimeout(function(){a.style.display="table"},1E3)}yb&&2==d?b.lock("landscape-primary"==c?"landscape-secondary":
"landscape-secondary"==c?"landscape-primary":"landscape"):b.lock(1==d?"portrait":2==d?"landscape":"any")}})();function Ub(b,d,c){E&&(d!=c?E.setItem(b,d):E.removeItem(b))}(function(){function b(d){Gb="mousedown"==d.type;d=E.desktop;1!=d&&2!=d&&(Ub("desktop",Gb?3:0,0),d!==E.desktop&&Vb());p.removeEventListener("touchstart",b,!1);p.removeEventListener("mousedown",b,!1)}Xa(p,{touchstart:b,mousedown:b})})();E.nose&&(E.sevol="0",E.removeItem("nose"));var Wb={ja:{},en:{},zh:{},ko:{},ru:{},fr:{},it:{},es:{},vi:{},pt:{},de:{}},pb=function(){function b(a){void 0!==a&&Ub("lang",a,d);c=(E.lang||d).split("-")[0];switch(c){case "JP":c="ja";break;case "EN":c="en"}return c}var d=(navigator.language||"ja").split("-")[0],c="";return{Va:b,Hc:function(a){function e(){--f||a()}c=b();var f=0;++f;pb.Kb("en",e);++f;pb.Kb("ja",e);++f;pb.Kb(pb.Va(),e)},Xc:function(a){var b=Wb[c];return b&&b[a]||Wb.en[a]||Wb.ja[a]||"[str:"+c+a+"]"},Kb:function(a,b){Wb[a]?Object.keys(Wb[a]).length?
b(a,Wb[a]):lb("https://cdn.tenhou.net/4/res/lang/string20220131_"+a+".json",function(c){try{var f=JSON.parse(c)}catch(g){return}c=f;var e=Wb[a];if(c.length)for(var l=0;l<c.length;l+=2)e[c[l+0]]=c[l+1];else for(l in c)e[l]=c[l];b(a,f)},function(a){if(a)throw a;}):b(a,{})},Ca:function(a){var b=a%10;a%=100;return 1==b&&11!=a?H(281)[0]:2==b&&12!=a?H(281)[1]:3==b&&13!=a?H(281)[2]:H(281)[3]}}}(),H=pb.Xc;var Xb=108,Yb=u("DIV",xb,"nosel",{},{display:"none",color:"#CCC",backgroundColor:"#444",height:Xb+"px"}),Zb=u("DIV",xb,"nosel",{},{display:"none",overflow:"hidden",position:"absolute"}),$b=u("DIV",xb,"",{},{position:"absolute"});
Eb&&!Fb?Yb.innerHTML="<div style='width:100%;height:100%;display:table;pointer-events:none;'><div style='display:table-cell;text-align:center;vertical-align:middle;'>上にゆっくりスクロールしてください</div></div>":(Yb.style.height=Xb=0,xb.style.overflow="hidden");
function ac(){function b(){c=null;var b=wb.documentElement.clientWidth,f=p.innerHeight,h=(~~p.orientation+360)%360,m=a[0];Eb&&((~~h+360)%180&&(m=a[1]),zb&&b==m[1]&&(Zb.style.display=Yb.style.display="none",m[0]=m[1]=0),b<m[0]&&(b=m[0]),f<m[1]&&(f=m[1]));b==parseInt(Zb.style.width)&&f==parseInt(Zb.style.height)?(m[0]=b,m[1]=f,xb.style.height=parseInt(Yb.style.height)+f+"px",Zb.style.display=Yb.style.display="",Vb()):(d(),Ob(),p.scrollTo(0,parseInt(Yb.style.height)),Zb.style.width=b+"px",Zb.style.height=
f+"px")}function d(a){q=p.devicePixelRatio||1;yb&&(Zb.style.display=Yb.style.display="none");a&&"resize"==a.type||(xb.style.height=2*p.innerHeight+"px");clearTimeout(c);c=setTimeout(b,250)}var c,a=[[0,0],[0,0]];Wa(p,"orientationchange",yb?d:function(){Zb.style.display=Yb.style.display="none";var b=a[(~~((~~p.orientation+360)%360)+360)%180?1:0];b[0]=b[1]=0;d()});Wa(p,"resize",d);d()}
function bc(b,d,c){var a=d/q+"px",e=c/q+"px";if(b.width!=d||b.height!=c)b.width=d,b.height=c;b=b.style;if(b.width!=a||b.height!=e)b.width=a,b.height=e}
function cc(){J.a=2;J.a=3==A.a?E.check&8?3:~~E.yama:~~E.yama;0==J.a&&E.desktop&&(J.a=1);dc();M.Wc();var b=ec,d=fc;xb.parentNode.style.fontSize=~~((b-2*N[1])/q/30)+"px";gc.style.width=(b+0)/q+"px";gc.style.height=d/q+"px";bc(hc.B.canvas,b,d);bc(O.B.canvas,ic,d);bc(jc.B.canvas,ic,d);b=-~~((ic-b)/2/q);O.B.canvas.style.marginLeft=jc.B.canvas.style.marginLeft=b+"px";kc.fa();R.L();lc.L();mc.style.left=~~(R[80]/q)+b+"px";mc.style.top=~~(R[81]/q)+"px";d=nc.B.canvas;d.style.marginLeft=~~(R[32]/q)+b+"px";d.style.marginTop=
~~(R[33]/q)+"px";bc(d,R[34],R[35]);hc.Z();nc.Z();O.Ab();S.L();t.L();x.L();oc.L();$b.style.top=gc.offsetHeight+S.b.offsetHeight+"px";(b=wb.getElementById("loading"))&&b.parentNode.removeChild(b)}function Vb(){Vb=cc;t.oa(11,p.tenhouEventInfo&&!wb.referrer.match(/^https?:\/\/tenhou.net\/0\/(\?|$)/))}
function Ob(b){var d=p.StatusBar;if(d){ob&&zb&&d.backgroundColorByHexString("#000");var c=wb.documentElement.clientWidth,a=p.innerHeight;!b&&a<c?(d.overlaysWebView(!0),d.hide()):(d.overlaysWebView(!1),d.show())}}ob&&Wa(wb,"resume",qb(function(){hc.Z();nc.Z();O.Ab();var b=jc.B;b.clearRect(0,0,b.canvas.width+1,b.canvas.height+1)},1));var gc=u("DIV",Zb,"nosel tbl",{},{margin:"0 auto",position:"relative"});function pc(b,d){var c=arguments;b.beginPath();b.moveTo(c[2],c[3]);for(var a=4;a<c.length;)switch(c[a++]){case 0:a+=2;break;case 1:b.lineTo(c[a++],c[a++]);break;case 2:b.arcTo(c[a++],c[a++],c[a+1],c[a+2],d)}b.closePath()}function qc(b,d,c,a,e){var f=~~(.5*T[0]);pc(b,f,d+f,c+e,2,d+a,c+e,2,d+a,c,2,d,c,2,d,c+e,0,d+a,c+e+.01)}
var hc=function(){function b(b,a){b.globalAlpha=a;b.fill();b.globalAlpha=1}function d(b,a,e,f,h,m){m&&(b.fillStyle=m,b.fillText(a,e+1,f+0),b.fillText(a,e-1,f+0),b.fillText(a,e+0,f+1),b.fillText(a,e+0,f-1),b.fillText(a,e+1,f+1),b.fillText(a,e-1,f+1),b.fillText(a,e+1,f-1),b.fillText(a,e-1,f-1));h&&(b.fillStyle=h,b.fillText(a,e,f))}return{B:u("CANVAS",gc,"",{},{position:"absolute",pointerEvents:"none"}).getContext("2d"),Nb:[u("DIV",gc,"",{},{position:"absolute",display:"none"}),u("DIV",gc,"",{},{position:"absolute",
display:"none"}),u("DIV",gc,"",{},{position:"absolute",display:"none"}),u("DIV",gc,"",{},{position:"absolute",display:"none"})],Z:qb(function(){var c=hc.B;if(c)if(c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,c.canvas.width+1,c.canvas.height+1),-1==A.ma)for(var a=0;4>a;++a)hc.Nb[a].style.display="none";else{var e=Math.round(O.B.canvas.offsetLeft*q),a=R[16]+e,f=R[17],h=R[18],m=R[19],l=T[0],g=~~(.5*l);c.fillStyle="#000";qc(c,a,f,h,m);b(c,.2);var k=3*N[1],n=3*V[0];if(!p.oemLoginEmail){var v=[c];v.push(g,
a,f+m);A.w[0]&&v.push(2,a,f+m+n,2,a+h+k,f+m+n,2,a+h+k,f+m+l,1,a+h,f+m+l);v.push(1,a+h,f+m);A.w[1]&&v.push(2,a+h+k,f+m,2,a+h+k,f-n,2,a+h+l,f-n,1,a+h+l,f);v.push(1,a+h,f);A.w[2]&&v.push(2,a+h,f-n,2,a-k,f-n,2,a-k,f-l,1,a,f-l);v.push(1,a,f);A.w[3]&&v.push(2,a-k,f,2,a-k,f+m+n,2,a-l,f+m+n,1,a-l,f+m);pc.apply(this,v);b(c,.15)}if(p.oemLoginEmail)for(a=0;4>a;++a){var z=hc.Nb[a];z.style.display="none";if(A.w[a]){z.innerHTML="<div></div><div style='position:relative;overflow:hidden;'><img/><div></div><div style='position:absolute;'></div></div><div></div>";
z.className="ts1 b2"+a;var k=~~(.25*g),n=2*N[1],v=2*V[0]-l,f=Math.min(n,v),B=112+2*a,y=R[B+0]+e,B=R[B+1];0==a&&(y+=0*N[0],B+=3*V[0]+g,z.style.transform="translate(-100%,-100%)",z.style.borderBottom="0.2rem solid rgb(31,31,31,0.7)");1==a&&(y+=3*N[1],B+=1*V[1]+l,z.style.transform="translate(-100%,   0%)",z.style.borderRight="0.2rem solid rgb(31,31,31,0.7)");2==a&&(y+=1*N[0],B+=-2*V[0]+g,z.style.transform="translate(   0%,   0%)",z.style.borderTop="0.2rem solid rgb(31,31,31,0.7)");3==a&&(y+=-2*N[1],
B+=0*V[1],z.style.transform="translate(   0%,-100%)",z.style.borderLeft="0.2rem solid rgb(31,31,31,0.7)");B=Math.min(B,R[81]);Object.assign(z.style,{background:"rgba(0,0,0,0.25)",borderRadius:g/q+"px",left:y/q+"px",top:B/q+"px",padding:"0 "+k/q+"px",fontSize:.2*f/q+"px",color:"#888"});Object.assign(z.childNodes[0].style,{margin:k/q+"px 0",textAlign:1==a||2==a?"right":"left"});Object.assign(z.childNodes[1].style,{borderRadius:g/q+"px",margin:k/q+"px 0",width:(n-2*k)/q+"px",height:(v-2*k)/q+"px",border:"1px solid #000"});
Object.assign(z.childNodes[2].style,{margin:k/q+"px 0",textAlign:1==a||2==a?"right":"left"});z.childNodes[2==a||3==a?0:2].innerHTML=Nb(A.La[a])?" R"+~~A.La[a]:"";z=z.childNodes[1].childNodes;z[0].onload=function(){this.parentNode.parentNode.style.display=""};z[0].src="https://cdn.tenhou.net/3/ron2/res/240x240/_"+hb(kb(A.w[a])?A.w[a]:"").replace(/%/g,"")+".jpg";Object.assign(z[0].style,{position:"absolute",transform:"translate(-50%,-50%) translate("+(n-2*k)/q/2+"px,"+(v-2*k)/q/2+"px)",width:"100%"});
Object.assign(z[1].style,{position:"absolute",background:"rgba(0,0,0,0.25)",width:"100%",height:"100%"});c.setTransform(1,0,0,1,y,B);c.rotate(270*a*Math.PI/180);c.fillStyle=r.Wa?"#000":"#444";qc(c,0,.4*-f,a&1?m:h,.4*f);b(c,r.Wa?.15:.4);k=0==a?"rgba(255,255,255,0.30)":2==a?"rgba(191,191,191,0.25)":"rgba(255,255,255,0.25)";n=void 0;r.Wa||(k="rgba(255,255,255,0.70)",n="rgba(0,0,0,0.50)");c.textBaseline="middle";c.font="normal "+.32*f+"px sans-serif";c.textAlign="center";d(c,A.w[a],(a&1?m:h)/2,.4*-f/
2,k,n)}}else for(a=0;4>a;++a)A.w[a]&&(B=48+4*a,c.setTransform(1,0,0,1,e,0),c.fillStyle="#000",qc(c,R[B+0],R[B+1],R[B+2],R[B+3]),b(c,.15),c.textAlign="center",c.textBaseline="middle",c.setTransform(1,0,0,1,R[B+0]+~~(R[B+2]/2)+e,R[B+1]+~~(R[B+3]/2)),c.rotate(270*a*Math.PI/180),f=Math.min(R[B+2]/2,R[B+3]/2),k=0==a||3==a?"rgba(255,255,255,0.25)":"rgba(191,191,191,0.25)",n=void 0,r.Wa||(k=0==a||3==a?"rgba(255,255,255,0.80)":"rgba(191,191,191,0.80)",n="rgba(0,0,0,0.50)"),h=-.1,Nb(A.La[a])&&(c.font="normal "+
.3*f+"px sans-serif",d(c,"R"+~~A.La[a],0,-.55*f,k,n),h=0),c.font="normal "+.9*f+"px cwTeX-Q-Kai-T,icons2,serif",d(c,ra[A.ab[a]],0,f*h,k,n),c.font="normal "+.25*f+"px sans-serif",d(c,A.w[a],0,f*(.55+h),k,n),p.oemLoginEmail&&(z.innerHTML="<img style='position:absolute;'/><div style='position:absolute;'></div><div style='position:absolute;'></div>"));c.fillStyle="#000";c.setTransform(1,0,0,1,e,0);for(a=0;4>a;++a)A.w[a]&&(e=a?0:T[4],z=R[80+2*a],h=R[81+2*a],m=R[96+2*a],l=R[97+2*a],0==a&&(ty0=R[97]),qc(c,
Math.min(z,m),Math.min(h,l)+e,Math.abs(z-m)+N[a],Math.abs(h-l)+V[a]+T[a]-e),b(c,.2))}})}}();var O=function(){function b(a,b,c,f){if(c&&f){var k=O.B;k.clearRect(a,b,c,f);c=a+c;f=b+f;for(var g,h=0;g=R.sa[h];++h){var l=g.l;if(void 0!==l&&0!==g.u&&l.za.complete&&l.za.height){var e=g.ua.c+l.offsetX,m=g.ua.h-g.ua.Da+l.offsetY;if(!(c<=e||f<=m)){var d=e+l.ka;if(!(d<=a)){var D=m+l.wa;if(!(D<=b)){var ja=a-e;0<ja?e=a:ja=0;c<d&&(d=c);var d=d-e,U=b-m;0<U?m=b:U=0;f<D&&(D=f);D-=m;k.globalAlpha=g.u;k.drawImage(l.za,l.eb+ja,l.fb+U,d,D,e,m,d,D);g.da&&(l=g.la,k.globalAlpha=g.da,k.drawImage(l.za,l.eb+ja,l.fb+
U,d,D,e,m,d,D))}}}}}k.globalAlpha=1}}function d(b,c,g,k){f&&h?(b<a?(f+=a-b,a=b):g+=b-a,f<g&&(f=g),c<e?(h+=e-c,e=c):k+=c-e,h<k&&(h=k)):(a=b,e=c,f=g,h=k)}var c=qb(function(){var a=O.B;a.clearRect(0,0,a.canvas.width+1,a.canvas.height+1);for(var c,f=0;c=R.sa[f];++f){var k=c.l;if(void 0!==k&&0!==c.u&&k.za.complete&&k.za.height){var h=c.ua.c+k.offsetX,e=c.ua.h-c.ua.Da+k.offsetY;a.globalAlpha=c.u;a.drawImage(k.za,k.eb,k.fb,k.ka,k.wa,h,e,k.ka,k.wa);if(c.da){var d=c.la;a.globalAlpha=c.da;a.drawImage(d.za,
d.eb,d.fb,k.ka,k.wa,h,e,k.ka,k.wa)}}}O.Na=b},1),a,e,f,h;return{B:u("CANVAS",gc,"",{},{position:"absolute",pointerEvents:"none"}).getContext("2d"),Ab:function(){(O.Na=c)()},Aa:function(){a=e=f=h=0;O.Na=d},Ba:function(){b(a,e,f,h);O.Na=b},Na:b}}();var nc=function(){function b(a,b){for(var c=nc.B,f=[],l=2;l<arguments.length;l+=5){c.font=arguments[l+0];var g=c.measureText(arguments[l+3]).width;f.push(g);a-=g/2}for(l=2;l<arguments.length;l+=5)c.font=arguments[l+0],c.fillStyle=d[arguments[l+1]],(g=d[arguments[l+2]])?(c.shadowBlur=2*q,c.shadowColor=g,c.shadowOffsetX=1*q,c.shadowOffsetY=1*q):(c.shadowBlur=0,c.shadowColor="#000",c.shadowOffsetX=0,c.shadowOffsetY=0),g=f.shift(),c.fillText(arguments[l+3],a+g/2,b+arguments[l+4]),a+=g}var d="#FFF #666 #000 #00F #F00 #AAA".split(" "),
c=0,a=0;return{B:u("CANVAS",gc,"",{},{position:"absolute",display:"none"}).getContext("2d"),Z:function(e,f){void 0!==e&&(c=e);void 0!==f&&(a=f);var h=nc.B,d=h.canvas.width,l=h.canvas.height,g=Math.min(.18*d,.18*l);if(1==J.a||3==J.a)g*=.9;h.save();h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,d+1,l+1);qc(h,1,1,d-2,l-2);r.Wa?(h.fillStyle="#222",h.fill()):(h.globalAlpha=.75,h.fillStyle="#222",h.fill(),h.globalAlpha=1);h.strokeStyle="#111";h.lineWidth=1;h.stroke();var k=a,n=.24*g,v=.02*g,z=nc.B,B=z.canvas.width,
y=z.canvas.height,K=z.createLinearGradient(0,0,k&1?0:B,k&1?y:0);K.addColorStop(0,"rgba(0,127,0,0)");K.addColorStop(.12,"rgba(0,127,0,255)");K.addColorStop(.88,"rgba(0,127,0,255)");K.addColorStop(1,"rgba(0,127,0,0)");z.fillStyle=K;switch(k){case 0:z.fillRect(0,y-n-v,B,n);break;case 1:z.fillRect(B-n-v,0,n,y);break;case 2:z.fillRect(0,v,B,n);break;case 3:z.fillRect(v,0,n,y)}k="normal "+1.2*g+"px cwTeX-Q-Kai-T,icons2,serif";n="normal "+.8*g+"px cwTeX-Q-Kai-T,icons2,serif";v=.15*g;h.textAlign="center";
h.textBaseline="middle";h.setTransform(1,0,0,1,d/2,l/2);z=[[0,l/2-.7*g],[0,d/2-.7*g],[0,l/2-.7*g],[0,d/2-.7*g]];if(3!=c)if(0==c)for(B=0;4>B;++B)z[B].push(k,(4+B-A.ma)%4?1:0,-1,A.lb[B]+" ",0,k,A.connected&1<<B?0:4,2,void 0===A.pa[B]?"-":A.pa[B]/100,0,n,1,-1,"00",v);else if(z[0].push(k,0,2,A.lb[0]+" ",0,k,0,2,void 0===A.pa[0]?"":A.pa[0]/100,0),z[1].push(k,0,2,void 0===A.pa[1]?"":sb((A.pa[1]-A.pa[0])/100),0),z[2].push(k,0,2,void 0===A.pa[2]?"":sb((A.pa[2]-A.pa[0])/100),0),z[3].push(k,0,2,void 0===A.pa[3]?
"":sb((A.pa[3]-A.pa[0])/100),0),~A.s&512)z[0].push(n,1,-1,"00",v);else for(B=0;4>B;++B)z[B].push(k,0,2," "+A.bc[B],0);A.w[0]&&b.apply(this,z[0]);h.rotate(270*Math.PI/180);A.w[1]&&b.apply(this,z[1]);h.rotate(270*Math.PI/180);A.w[2]&&b.apply(this,z[2]);h.rotate(270*Math.PI/180);A.w[3]&&b.apply(this,z[3]);3==c?(h.setTransform(1,0,0,1,d/2,l/2),h.fillStyle="#FFF",b(0,0,k,0,2,"天鳳",0)):0==c?(h.setTransform(1,0,0,1,d/2,l/2-.75*g/2),h.fillStyle="#FFF",k="normal "+1.7*g+"px cwTeX-Q-Kai-T,icons2,serif",
n=A.S[0],b(0,0,k,0,~~(n/4)&1?4:3,"東南西北".substr(~~(n/4),1),0,k,0,n%4==(A.s&16?2:3)?4:2,n%4+1,0,k,1,-1,"局",0),B=(d-2.8*g)/2,h.beginPath(),h.moveTo(-B,.75*+g),h.lineTo(+B,.75*+g),k=h.createLinearGradient(-B,0,+B,0),k.addColorStop("0.0","rgba(15,15,15,0)"),k.addColorStop("0.5","rgba(15,15,15,1)"),k.addColorStop("1.0","rgba(15,15,15,0)"),h.strokeStyle=k,h.lineWidth=1,h.stroke(),h.setTransform(1,0,0,1,d/2,l/2+1.7*g/2-.75*g/2+.3*g),k="normal "+.75*g+"px cwTeX-Q-Kai-T,icons2,serif",
n="normal "+.5*g+"px cwTeX-Q-Kai-T,icons2,serif",v=.12*g,d=J.jc(a),b(0,0,k,0,d<(A.s&16?6:8)?4:2,d+" ",0,n,5,-1,"",v,k,0,2,A.S[1],0,n,5,-1,"",v,k,0,2,A.S[2],0)):(k="normal bold "+.75*g+"px sans-serif",h.setTransform(1,0,0,1,d/2,l/2),h.fillStyle="#FFF",b(0,0,k,0,2,4==A.a?"天鳳":Ia(A.s),0));h.restore()},oa:function(){}}}();
(function(){function b(a,b){nc.Z(b||1);if(c){var f=c;delete rc()[f];c=void 0}}function d(){b(0,2);c=sc(function(){c=void 0;nc.Z(0)},2E3)}var c=void 0;Xa(nc.B.canvas,{touchstart:function(){nc.Z(1)},touchend:d,touchcancel:function(){nc.Z(0)},mouseover:b,mouseout:d})})();var jc=function(){function b(b){var l=jc.B;0<f&&0<h&&l.clearRect(a,e,f,h);var g=a=e=f=h=0,k;for(k in d){var n=d[k];if(0>n.t)n.t+=b;else if(n.t<n.qa){var m=n.l,z=~~(n.Za+(n.Qc-n.Za)*n.t/n.qa),B=~~(n.Cb+(n.Rc-n.Cb)*n.t/n.qa),y=m.ka,K=m.wa;m.za.complete&&m.za.height&&(l.globalAlpha=n.u,l.drawImage(m.za,m.eb,m.fb,y,K,z,B,y,K));n.t+=b;f&&h?(z<a?(f+=a-z,a=z):y+=z-a,f<y&&(f=y),B<e?(h+=e-B,e=B):K+=B-e,h<K&&(h=K)):(a=z,e=B,f=y,h=K)}else n.vb&&n.vb.ha(n.Jc),delete d[k];++g}l.globalAlpha=1;g||(tc(),c&&c.length&&
(c.shift()(),++g));return g}var d,c,a,e,f,h;return{B:u("CANVAS",gc,"",{},{position:"absolute",pointerEvents:"none"}).getContext("2d"),aa:!1,ia:function(){c=[];d={};a=e=f=h=0;var b=jc.B;b.clearRect(0,0,b.canvas.width+1,b.canvas.height+1)},P:function(a,f,g,k,h,e,z,B,y,K){if(jc.aa)return a instanceof Function?a():f instanceof uc?f.ha(g):y&&y.ha(K),0;var n=rc();n.Kc||(n.Kc=b);if(a instanceof Function)return c.push(a),0;n=d[vb++]={};n.t=-a;f instanceof uc?(y=f,K=g,n.qa=0):(n.u=B,n.l=z,void 0===z&&Lb("animation src undefined"),
n.Za=f,n.Cb=g,n.Qc=k,n.Rc=h,0<e?(f=k-f,g=h-g,n.qa=~~(Math.sqrt(f*f+g*g)/(N[0]*e))):n.qa=-e);y&&(n.vb=y,n.Jc=K);return a+n.qa},Ea:function(){for(;b(1E4););}}}();var lc=function(){for(var b=[],d=0;4>d;++d)b[d]=u("DIV",gc,"nosel tbl ts0 rot"+rb(3,270*d%360),{},{fontSize:"80%",pointerEvents:"none",textAlign:"right",display:"none"});var c=[1,2,3,4,5,6,7,8,0,10,11,12,13,14,15,16,17,9,19,20,21,22,23,24,25,26,18,28,29,30,27,32,33,31];return{ia:function(){for(var a=0;4>a;++a)b[a].style.display="none"},tb:function(a){var e=b[a],f=W[16|a].length;if(f){for(var h=f,d=[],l=0;l<W[16|a].length;++l){var g=W[16|a][l];16==g&&(h+=1);d[g]=1}d[0]&&d[1]&&d[2]&&d[3]&&(h+=4);d[16]&&
d[17]&&d[18]&&d[19]&&(h+=4);d[32]&&d[33]&&d[34]&&d[35]&&(h+=4);d[120]&&d[121]&&d[122]&&d[123]&&(h+=4);for(l=5;l<A.S.length;++l)a=c[A.S[l]>>2],0!=(A.s&2048)?1==a?a=4:5==a&&(a=8):A.s&16&&1==a&&(a=8),a*=4,h+=~~d[a+0]+~~d[a+1]+~~d[a+2]+~~d[a+3];d="";0!=(A.s&2048)&&(d+=h+"<span style='font-size:50%;'>+</span><br>");e.style.display="";e.innerHTML="<div class=tbc style='vertical-align:bottom;padding:0 0.1em;'>"+(d+("<span style='font-size:60%;'>x</span>"+f+"<br>"))+"</div>"}else e.style.display="none"},
L:function(){for(var a=0;4>a;++a){var c=b[a].style;c.width=c.height=~~(Math.min(N[a],V[a])/q)+"px";var f=-(0==a?N[0]:vc[a]);c.left=~~((R[96+2*a]+-(1==a?V[1]:wc[a]))/q)+O.B.canvas.offsetLeft+"px";c.top=~~((R[97+2*a]+f)/q)+"px"}}}}(),yc=function(){function b(a){return"<span style='pointer-events:none;vertical-align:middle;'>"+a+"</span>"}function d(){for(var a in t)if(!(~a&262144)&&(t[a].parentNode.style.visibility=c[a]?"":"hidden",c[a]&&2===c[a].length)){var b=c[a][0],f=c[a][1];M.va(t[a],"",4,.8,b,
f);c[2098693]=c[a]={tag:"N",type:b>>2==f>>2?1:3,hai0:b,hai1:f}}}var c={};return{Nc:function(a,e){if(1==A.a||4==A.a){var f=0;c={};a&32&&(c[2359814]={tag:"REACH"});a&16&&(c[2359816]={tag:"N",type:7});a&64&&(c[2359815]={tag:"N",type:9});0<J.jc(0)&&4>J.hb-W[16].length-W[17].length-W[18].length-W[19].length&&(a|=2);var h=[];if(a&2)for(var m,l=(A.s&16&&~A.Ja[0]&4194304?16:17)-1;m=R[2048|l];--l)if(void 0!==m.Ka.kb){for(var g=0;g<W[32].length&&W[32][g]!=m.Ka.kb;++g);g<W[32].length&&h.push({tag:"N",type:5,
hai:W[32][g]})}if(a&2)if(m=W[48],W[64])l=""+W[64],g=e>>2,4==m[g]&&(m[g]-=4,""+pa.jb(m)==l&&h.push({tag:"N",type:4,hai:4*g}),m[g]+=4);else for(g=0;34>g;++g)4>m[g]||h.push({tag:"N",type:4,hai:4*g});h.length||(a&=-3);h.length&&(c[2098693]=c[401412]=h[0],M.va(t[401412],b(H(180))+" ",4,.7,h[0].hai),h.shift(),++f);h.length&&(c[2098693]=c[401416]=h[0],M.va(t[401416],b(H(180))+" ",4,.7,h[0].hai),h.shift(),++f);h.length&&(c[2098693]=c[401417]=h[0],M.va(t[401417],b(H(180))+" ",4,.7,h[0].hai),h.shift(),++f);
if(a&128)if(0==(A.s&2048)||W[64])m={tag:"N",type:10},W[64]&&(m.hai=e),c[2098693]=c[401414]=m,t[401414].innerHTML=H(185),++f;else{m=[];for(l=0;l<W[32].length;++l)if(h=W[32][l],g=h>>2,0==g||4==g||8==g||30==g)m[h]={tag:"N",type:10,hai:h};h=[401414,401415,401418,401419,401417];if(g=m[120]||m[121]||m[122]||m[123])c[2098693]=c[h[0]]=g,M.va(t[h[0]],b(H(181))+" ",4,.7,g.hai),h.shift(),++f;if(g=m[0]||m[1]||m[2]||m[3])c[2098693]=c[h[0]]=g,M.va(t[h[0]],b(H(181))+" ",4,.7,g.hai),h.shift(),++f;if(g=m[16])c[2098693]=
c[h[0]]=g,M.va(t[h[0]],b(H(181))+" ",4,.7,g.hai),h.shift(),++f;if(g=m[17]||m[18]||m[19])c[2098693]=c[h[0]]=g,M.va(t[h[0]],b(H(181))+" ",4,.7,g.hai),h.shift(),++f;if(g=m[32]||m[33]||m[34]||m[35])c[2098693]=c[h[0]]=g,M.va(t[h[0]],b(H(181))+" ",4,.7,g.hai),h.shift(),++f}d();t.X(512);t[2098693].parentNode.style.visibility=1==f?"":"hidden";t[3670533].parentNode.style.visibility=1<f?"":"hidden";1==f&&(t[2098693].innerHTML=a&128?H(185):a&2?H(184):"?");a&&Pb(8,0,0);return a}},Lc:function(a,e){if(1==A.a||
4==A.a){for(var f=~~(e/4/9),h=~~(e/4)%9,m={},l=0;l<W[32].length;++l){var g=W[32][l],k=~~(g/4);if(3>f&&2<=h&&k==9*f+h-2||3>f&&1<=h&&k==9*f+h-1||k==9*f+h||3>f&&7>=h&&k==9*f+h+1||3>f&&6>=h&&k==9*f+h+2)k|=J.xb(g)<<8,m[k]?m[k].push(g):m[k]=[g]}l=0;c={2360326:{tag:"N"}};a&8&&(c[2360328]={tag:"N",type:6});g=m[0|9*f+h]||[];k=m[256|9*f+h]||[];a&2&&3==g.length+k.length&&(M.va(t[409604],b(H(180))+" ",4,.8,(k.length?k:g)[0]),c[2098693]=c[409604]={tag:"N",type:2},++l);a&1&&(1==k.length&&2==g.length?(c[409606]=
[g[0],g[1]],c[409607]=[k[0],g[0]],l+=2):2<=g.length?(c[409607]=[g[0],g[1]],++l):1==k.length&&1==g.length&&(c[409607]=[k[0],g[0]],++l));if(a&4)for(var n=0;3>n;++n){var v=(n&1)<<8,z=(n&2)<<7;(g=m[v|9*f+h-2])&&(k=m[z|9*f+h-1])&&(c[n?409614:409610]=[g[0],k[0]],++l);(g=m[v|9*f+h-1])&&(k=m[z|9*f+h+1])&&(c[n?409613:409609]=[g[0],k[0]],++l);(g=m[v|9*f+h+1])&&(k=m[z|9*f+h+2])&&(c[n?409612:409608]=[g[0],k[0]],++l)}c[409607]&&!c[409606]&&(c[409606]=c[409607],delete c[409607]);c[409614]&&!c[409610]&&(c[409610]=
c[409614],delete c[409614]);c[409613]&&!c[409609]&&(c[409609]=c[409613],delete c[409613]);c[409612]&&!c[409608]&&(c[409608]=c[409612],delete c[409612]);d();t.X(1024);oc.i(0,t[2360326]);t[2098693].parentNode.style.visibility=1==l?"":"hidden";t[3671045].parentNode.style.visibility=1<l?"":"hidden";1==l&&(t[2098693].innerHTML=a&4?H(183):a&1?H(182):a&2?H(184):"?");a&&Pb(8,0,0)}},Mc:function(a){if(1==A.a||4==A.a)c={2360326:{tag:"N"}},a&8&&(c[2360328]={tag:"N",type:6}),d(),t.X(1024),oc.i(0,t[2360326]),t[2098693].parentNode.style.visibility=
t[3671045].parentNode.style.visibility="hidden",a&&Pb(8,0,0)},J:function(a){oc.O();t.X(256);xc();4==A.a?x.nc(c[a]):Y.J(c[a])}}}();
function zc(b){var d=~~b.m,c=d&3,a;if(d&4){b[2]=3;a=(d&64512)>>10;var e=a%3;a=~~(a/3);a=4*(9*~~(a/7)+a%7);a=[a+0+((d&24)>>3),a+4+((d&96)>>5),a+8+((d&384)>>7)];a.splice(0,0,a.splice(e,1)[0])}else d&24?(b[2]=d&16?5:1,b[4]=(d&96)>>5,a=(d&65024)>>9,e=a%3,a=4*~~(a/3),a=[a+0,a+1,a+2,a+3],b[4]=a.splice(b[4],1)[0],a.splice(c^3,0,a.splice(e,1)[0]),d&16&&(a=[b[4]])):d&32?(b[2]=10,a=[(d&65280)>>8]):0==c?(b[2]=4,a=(d&65280)>>8&-4,a=[a+2,a+0,a+1,a+3]):(b[2]=2,d=(d&65280)>>8,a=d&-4,a=[a+0,a+1,a+2,a+3],a.splice(d&
3,1),a.splice(1==c?3:c^3,0,d));b[3]=c;b[0]=a};var t=function(){function b(a,b,c){var f=t[a];c?f.innerHTML="<span class=nobr style='pointer-events:none;"+(t.o[a]?"":"color:#888;")+"'>"+(t.o[a]?"":"")+b+"</span>":(f.innerHTML="<span style='pointer-events:none;"+(t.o[a]?"":"color:#888;")+"'>"+b+"<br>"+(t.o[a]?"":"")+"</span>",f.parentNode.style.fontSize="85%")}function d(a){a&&(t.o[a]=!t.o[a]);var c=E.desktop&1;b(1183749,H(157),c);b(1183750,H(158),c);b(1183751,H(159),c);b(1183752,H(160),c);b(1183753,H(161),c);1183750==a&&
t.o[1183750]&&(W.qb(0),W.pb())}function c(a){a&&(t.o[a]=!t.o[a]);b(1277961,H(162));b(1277957,H(163));b(1277960,H(164));b(1212429,H(165));E.check=E.check&-16|(t.o[1277961]?0:1)|(t.o[1277957]?0:2)|(t.o[1277960]?0:4)|(t.o[1212429]?8:0);1212429==a&&(J.a=E.check&8?3:~~E.yama,0==J.a&&E.desktop&&(J.a=1),Vb());a&&(3==A.a&&Qb.Ta(0),2==A.a&&Rb.zb())}function a(a){for(var b=1;b<arguments.length;++b)arguments[b].parentNode.style.visibility=a}return{b:u("DIV",Zb,"nosel",{},{position:"absolute",display:"none",
color:"#FFF",fontFamily:"icons2,sans-serif",fontSize:"140%"}),a:0,o:{},ia:function(){for(var a=[2360326,"&times;",2098693,"",3670533," "+H(150),3671045," "+H(150),1572868,"",3678213,"&times;",3686405,"&times;",1675268,"&times;",2359816,H(151),2360328,H(152),2359814,H(153),401414,"",401415,"",401418,"",401419,"",2359815,H(154),401412,"",401416,"",401417,"",409610,"",409609,"",409608,"",409614,"",409613,"",409612,"",409606,"",409607,"",409604,"",1574918,"",1574917,"",425995,
"?",495623,H(156),1183749,"",1183750,"",1183751,"",1183752,"",1183753,"",1277961,"",1277957,"",1277960,"",1212429,"",1802246,H(167)+" <span style='font-size:25%;vertical-align:50%;'>▼</span>",1736714,H(168)+" <span style='font-size:25%;vertical-align:50%;'>▼</span>",1736718,H(169)+" <span style='font-size:25%;vertical-align:50%;'>▼</span>",1736716,H(155)+" <span style='font-size:25%;vertical-align:50%;'>▼</span>"],b=0;b<a.length;b+=2){var c=a[b+0],d=u("DIV",t.b,"tbl",{},{position:"absolute"});
t[c]=u("DIV",d,"tbc"+(c&2097152?" bblink":""),{id:"m"+c,innerHTML:a[b+1]},{textAlign:"center",verticalAlign:"middle",pointerEvents:"none"});c&262144&&(d.style.display="none");c&524288&&(t[c].style.borderRadius="0.6em")}a=E.check;t.o[1277961]=!(a&1);t.o[1277957]=!(a&2);t.o[1277960]=!(a&4);t.o[1212429]=!!(a&8);t[1572868].classList.add("cblink")},X:function(b){t.a=126976==b?t.a&3840:b&126976?b|t.a&3840:b|t.a&102400;b=t.a&126976?t.a&126976:t.a&3840;256==b&&3==A.a&&(b=2048);for(var f in t)if(1572868!=
f){var h=t[f];h!=t.b&&h.tagName&&(h.parentNode!=t.b&&(h=h.parentNode),h.style.display=!b||~f&b?"none":"")}t[1572868].parentNode.style.display=t.a&126976?"none":"";f=E.desktop&1;if(4096==b||f)d(),a(1==A.a&&~A.s&1?"":"hidden",t[495623]),a("hidden",t[1183751]);32768==b||65536==b?(a(!ob&&r.ob?"hidden":"",t[495623]),c()):256==b&&a("hidden",t[2360326]);Ac.Ya&&Ac.Ya();if(1==A.a&&f){t[1572868].parentNode.style.display="none";b=[t[495623],t[1183749],t[1183750],t[1183752],t[1183753]];for(f=0;f<b.length;++f)b[f].parentNode.style.display=
"";d()}},L:function(){gc.style.left="";var a=~~(R[82]/q),b=~~(R[81]/q),c=~~((R[82]-R[86]-N[1])/4/q),d=~~((R[81]-R[33])/2.5/q),d=Math.max(d,~~((V[4]+T[4])/q)),l=0;3==A.a&&(Zb.offsetHeight<Zb.offsetWidth&&.5*~~(.5*c)<=Zb.offsetWidth-~~(ec/q)?(l=1,a=~~(ec/q)+~~(.5*c)):Zb.offsetWidth<=Zb.offsetHeight&&1*d<=Zb.offsetHeight-~~(fc/q)&&(l=2,b=~~(fc/q)+d));var g=E.desktop&1,k;for(k in t){var n=t[k];if(n!=t.b&&n.parentNode){var v=n.style;n.parentNode.parentNode==t.b&&(v=n.parentNode.style);var z=((k&3)>>0)+
1,B=(k&12)>>2;g&&2360326==k&&(z=1);v.left=a-c*z+"px";v.top=b-d*B+"px";v.width=c+"px";v.height=d+"px";v.fontSize="";n.style.border="solid 1px "+(k&131072?"#222":"rgba(0,0,0,0.25)");k&131072?(n.classList.remove("ts0"),n.classList.add("bgb")):(n.classList.remove("bgb"),n.classList.add("ts0"))}}if(1==A.a){if(l=[t[1183749],t[1183753],t[1183752],t[1183751],t[1183750],null,t[495623]],g)for(c=~~(ec/q/8),d=~~(V[1]/q),a=(R[80]+13*N[4])/q+O.B.canvas.offsetLeft,b=gc.offsetHeight-1*d,g=0;g<l.length;++g)l[g]&&
(v=l[g].parentNode.style,v.left=a-c*(g+1)+"px",v.top=b+"px",v.width=c+"px",v.height=d+"px",v.fontSize="50%",l[g].classList.remove("bgb"),l[g].classList.add("ts0"),l[g].style.borderStyle="none")}else if(3==A.a){if(1==l||2==l)t[1572868].style.borderColor=t[1574918].style.borderColor=t[1574917].style.borderColor=3==A.a?"#444":"rgba(0,0,0,0.25)";2==l?t[1572868].parentNode.style.top=t[1574918].parentNode.style.top=t[1574917].parentNode.style.top=b-d+"px":1==l?(g=~~(1.5*d),c=~~(.5*c),Zb.offsetWidth<a&&
(a=~~Zb.offsetWidth,c=Zb.offsetWidth-~~(ec/q)),gc.style.left="-"+~~(c/2)+"px",v=t[1574918].parentNode.style,v.left=a-1*c+"px",v.top=b-d-2*g+"px",v.width=c+"px",v.height=g+"px",v=t[1574917].parentNode.style,v.left=a-1*c+"px",v.top=b-d-1*g+"px",v.width=c+"px",v.height=g+"px",v=t[1572868].parentNode.style,v.left=a-1*c+"px",v.top=b-d-0*g+"px",v.width=c+"px",v.height=d+"px"):(v=t[1574918].parentNode.style,v.left=a-4*c+"px",v.top=b-d-2*d+"px",v.width=c/2+"px",v.height=2*d+"px",v=t[1574917].parentNode.style,
v.left=a-.5*c+"px",v.top=b-d-2*d+"px",v.width=c/2+"px",v.height=2*d+"px")}t.b.style.left=gc.offsetLeft+"px";t.b.style.top=gc.offsetTop+"px"},oa:function(a,b){switch(a){case 2360326:oc.ac();break;case 409606:case 409607:case 409604:case 409610:case 409609:case 409608:case 409614:case 409613:case 409612:case 401412:case 401416:case 401417:case 401414:case 401415:case 401418:case 401419:case 2359815:case 2360328:case 2359816:case 2359814:case 2098693:yc.J(a);break;case 3670533:t.X(8192);break;case 3671045:t.X(16384);
break;case 1572868:4==A.a?x.Yb(1):t.X(3==A.a?32768:2==A.a?65536:4096);break;case 3678213:case 3686405:case 1675268:t.X(126976);break;case 1574917:Qb.Ta(1);break;case 1574918:Qb.Ta(-1);break;case 1802246:t.X(126976);for(var f="",e=0;4>e;++e)A.w[e]&&(f+="<div class='A"+(0==e?" _selected_":"")+"' id='#tw-"+e+"'><span class=dan"+~~A.ab[e]+">"+ra[~~A.ab[e]]+"</span>"+(Nb(A.La[e])?"R"+~~A.La[e]:"")+"　"+A.w[e]+"</div>");!1===t.o[14]&&(f+="<div class=A id='#tw-4'>("+H(166)+" ON)</div>");!0===t.o[14]&&
(f+="<div class=A id='#tw-4'>("+H(166)+" OFF)</div>");w.$(f,"font-size:75%;text-align:left;",0);break;case 1736718:t.X(126976);Qb.mc();break;case 1736714:t.X(126976);Qb.lc();break;case 1183749:case 1183750:case 1183751:case 1183752:case 1183753:d(a);break;case 1277961:case 1277957:case 1277960:case 1212429:c(a);break;case 1736716:if(3!=A.a)break;t.X(126976);w.$("<div class=A id='#edit-T'>TRANING editor</div><div class=A id='#edit-M'>MJLOG editor</div>","",0);break;case 425995:3==A.a&&w.i("<div style='text-align:left;font-size:75%;'>"+
H(205)+"</div>");break;case 495623:if(r.ob){location.reload();break}case 11:t.X(126976),-1!=A.ma&&(r.ob||(delete r.log,delete r.wg),Qb.fa(),Rb.fa(),A.fa()),t.o[14]=!1,A.a=0,r.log?(A.a=3,Y.O()):r.wg?A.a=2:(t.b.style.display="none",A.a=1),Vb(),b?x.i({tag:"SPLASH"}):r.log?(Qb.Ic(r.log),t.L(),S.L()):r.wg?(Y.ib(),Y.J({tag:"HELO",name:"NoName",sx:"M"})):(Y.ib(),x.i({tag:495623==a?"AUTOLOGIN":"LOGIN"}))}}}}();var oc=function(){var b,d,c,a,e,f,h,m=u("DIV",null,"nosel tbl ts0",{},{position:"absolute",pointerEvents:"none",fontFamily:"sans-serif",textAlign:"right"});m.innerHTML="<div class=tbc style='vertical-align:bottom;padding:0 0.1em;'></div>";return{Vc:function(){var b=(A.s&8?7:3)-(A.s&16?1:0);0==A.S[0]&&0==A.S[1]?(d=A.Sb,c=a=A.Tb):b<=A.S[0]?(d=A.Wb,c=a=A.Xb):(d=A.Ub,c=a=A.Vb)},i:function(a,g,k){m.firstChild.innerHTML="";g||(g=Z.ok);oc.L(g,k);1==A.a&&(("BUTTON"==h.tagName?h.parentNode:h instanceof uc?
gc:h).appendChild(m),b=0>a?-a+1E3:(a||d)+c+1E3,f=b-1E3,e=b-1E3,rc().count=function(c){if(0>e)return oc.O(),!1;b-=c;if(0<=b&&~~(1+e/1E3)==~~(1+b/1E3))return!0;e=b;0<=b?(0>a?Pb(1E3>b?0:3,0,0):3E3>b&&Pb(7,0,0),m.firstChild.innerText=~~(b/1E3)):oc.ac();return!0})},L:function(a,b){a&&(h=a);h instanceof uc&&~h.ca&1&&(h=void 0);if(!h)for(var c=13;(h=R[1024|c])&&!(h.u&&R[1024|c].ca&1);--c);h&&(c=m.style,c.fontSize=xb.style.fontSize,h instanceof uc?(c.left=~~((b?h.c:h.I)/q)+O.B.canvas.offsetLeft+"px",c.top=
~~((b?h.h:h.K)/q)+"px",c.width=~~(N[4]/q)+"px",c.height=~~((V[4]+T[4])/q)+"px"):(c.left=h.offsetLeft+"px",c.top=h.offsetTop+"px",c.width=(h.offsetWidth||parseInt(h.parentNode.style.width))+"px",c.height=(h.offsetHeight||parseInt(h.parentNode.style.height))+"px"))},ac:function(){if(h instanceof uc)A.Pb(h.Y);else if(h&&h.name){if(!h.disabled)x[h.name]()}else oc.O(),yc.J(2360326)},kc:function(){c<a&&(c+=1E3)},Uc:function(){return h},O:function(){m.parentNode&&(b<c&&(c=1E3*~~(0>b?0:b/1E3)),f<b&&oc.kc(),
e=-1,m.parentNode.removeChild(m),h=void 0)}}}();for(var S={b:u("DIV",gc,"",{},{position:"absolute"}),L:function(){var b=S.b.style,d=N[4]/q,c=~~Math.min(~~(2*d),(Zb.offsetHeight-fc/q)/2);3==A.a&&(c=0);if(Gb||c<d||E.desktop&1)S.b.style.display="none";else switch(b.top=gc.offsetTop+(R[81]+V[4]+T[4])/q+"px",b.display="",~~E.cptype){case 1:var a=Math.min(2.25*c,Zb.offsetHeight-gc.offsetHeight);b.width=gc.offsetWidth+"px";b.height=a+"px";b.background="linear-gradient(to bottom, rgba(0,0,0,1.0) 0%,rgba(0,0,0,1.0) 50%,rgba(24,24,24,1.0) 100%)";b.borderTop=
b.borderBottom="solid 1px #222";for(var e=0;13>=e;++e)S[e].style.display="none";for(e=20;28>=e;++e)b=S[e].style,b.top="0px",b.width=3*d+"px",b.height=a-c+"px",b.display="";S.Lb(0);S[30].style.display=S[31].style.display="none";b=S[30].style;b.width="50%";b.height=1*c+"px";b.display="";b.marginTop=a-c+"px";b=S[31].style;b.width="50%";b.height=1*c+"px";b.display="";b.marginTop=a-c+"px";S[30].innerHTML="&#12296;";S[31].innerHTML="&#12297;";S[30].name="CP_L";S[31].name="CP_R";break;default:case 2:a=2*
d;b.width=7.5*a+1+"px";b.height=2*c+1+"px";b.background="";b.borderTop=b.borderBottom="none";for(var f=W[32],f=f&&f.length?3*~~(f.length/3)+1:13,e=20;28>=e;++e)S[e].style.display="none";for(e=0;13>=e;++e)b=S[e].style,b.width=a+1+"px",b.height=c+1+"px",b.top=c*(e&1)+"px",b.left=R[80]/q+d*e+"px",b.display=e<f?"":"none";S[30].style.display=S[31].style.display="none"}},$a:function(b,d,c){var a=R[1024|b];if(a&&(a.na(d,c,!0),!(a.ca&8))){c=!!(a.ca&1)&&a.u;if(!S[20].style.display){var e=N[4]/q;a.ca&6&&S.Qb(R[80]/
q+e*(b+.5))}e="";a.ca&4?(c&&oc.L(a),e=c?"#060":"#600"):a.ca&2&&(e=c?"#030":"#300");!e&&d&6||(S[0+b].style.backgroundColor=S[24].style.backgroundColor=e)}},Qb:function(b){var d=N[4]/q;b<R[80]/q+0*d&&(b+=3*d);R[80]/q+14*d<b&&(b-=3*d);b=(~~((b-R[80]/q)/d)+.5)*d+R[80]/q;for(var c=20;28>=c;++c)S[c].style.left=~~(b+3*d*(c-24-.5))+"px";return b},Lb:function(b){S.Qb(~~(S[24].offsetLeft+S[24].offsetWidth/2+N[4]/q*b))}},Bc=0;13>=Bc;++Bc)S[Bc]=u("DIV",S.b,"",{},{position:"absolute",border:"solid 1px #333",background:"linear-gradient(135deg, rgba(255,255,255,0) 0%,rgba(255,255,255,0) 50%,rgba(255,255,255,0.15) 100%)"}),
u("DIV",S[Bc],"",{},{width:"50%",height:Bc&1?"25%":"20%",backgroundColor:Bc&1?"#333":"#555",pointerEvents:"none"});S[13].parentNode.removeChild(S[13]);for(Bc=20;28>=Bc;++Bc)S[Bc]=u("DIV",S.b,"",{},{position:"absolute",borderLeftStyle:"none",borderLeft:"solid 1px #333",background:"linear-gradient(135deg, rgba(255,255,255,0) 0%,rgba(255,255,255,0) 50%,rgba(255,255,255,0.10) 100%)"}),u("DIV",S[Bc],"",{},{position:"absolute",marginLeft:"50%",width:"1px",height:"50%",pointerEvents:"none",background:"linear-gradient(to bottom, rgba(195,0,0,1.0) 0%,rgba(255,0,0,1.0) 10%,rgba(0,0,0,0) 100%)"});
S[28].style.borderRight="solid 1px #333";S[30]=u("BUTTON",S.b,"gray",{name:"CPda"},{background:"none"});S[31]=u("BUTTON",S.b,"gray",{name:"CPok"},{background:"none"});S[30].style.borderRight="none";function Pb(){}function Cc(){}function Dc(){}var tc=function(){var b={};return function(d,c,a){if(arguments.length){for(var e in b)if(b[e]==d&&a-.008<e&&e<a+.008)return;b[a]=d;Pb(d,c,a)}else b={}}}();p.AudioContext=p.AudioContext||p.webkitAudioContext;
(function(){function b(a){function b(){wb.removeEventListener("touchend",a,!1);wb.removeEventListener("mousedown",a,!1);a&&(a(),a=void 0)}Wa(wb,"touchend",b);Wa(wb,"mousedown",b)}if(AudioContext){var d={},c=new AudioContext,a,e,f=function(b,f){var g=c.createBufferSource();g.buffer=d[b].$b;g.connect(a);g.start?g.start(c.currentTime+f):g.noteOn(c.currentTime+f);return g},h=function(){Pb=function(b,c,g){if("0"!=E.sevol&&!jc.aa&&0!=b&&a){if(d[b])return f(b,g);switch(b){case 12:Pb(25,c,g);Pb(38,c,g);break;
case 13:Pb(26,c,g);Pb(38,c,g);break;case 14:Pb(27,c,g);Pb(38,c,g);break;case 15:Pb(28,c,g);Pb(38,c,g);break;case 16:Pb(29,c,g);Pb(38,c,g);break;case 17:Pb(30,c,g);Pb(38,c,g);break;case 18:Pb(31,c,g);Pb(39,c,g);break;case 19:Pb(32,c,g);Pb(39,c,g);break;case 20:Pb(33,c,g);Pb(37,c,g);break;case 21:Pb(34,c,g);Pb(37,c,g);break;case 22:Pb(35,c,g);Pb(37,c,g);break;case 23:Pb(36,c,g),Pb(37,c,g)}}}},m=0,l=function(a,b){++m;var g=new XMLHttpRequest;g.open("GET",a,!0);g.responseType="arraybuffer";g.onload=function(){200==
this.status&&c.decodeAudioData(this.response,function(a){for(var c in b)d[b[c]].$b=a;--m||h()})};g.send()};yb&&u("AUDIO",xb,"",{},{position:"absolute",display:"none"});Cc=function(){a.gain.value=~~(E.sevol||5)/10};b(function(){var b=~~(E.sevol||5)/10;a=c.createGain?c.createGain():c.createGainNode();a.connect(c.destination);a.gain.value=b;e=c.createGain?c.createGain():c.createGainNode();e.connect(c.destination);e.gain.value=0;a.gain.value=.001;f(4,0);setTimeout(function(){a.gain.value=b},1E3)});var g=
function(){var a={},b;for(b in d)(a[d[b].url]=a[d[b].url]||[]).push(b);for(var c in a)l(c,a[c])};Dc=function(){var a=[1,3,4,5,6,7,8,9,10,11,25,27,29,31,33,35,26,28,30,32,34,36,37,38,39,24,40,41],b;for(b in a)d[a[b]]={$b:void 0,url:"https://cdn.tenhou.net/3/res/snd/"+rb(2,a[b])+".wav"};d[40].url=d[41].url=d[1].url;var c=E.se;Kb(c)?lb(c,function(a){try{c=JSON.parse(a)}catch(ba){alert(ba)}for(var b in c.se)d[b]&&(d[b].url=c.se[b].url);g()},function(a){console.log("err",a);g()}):g()};Dc()}else{var k=
{};k[1]=k[8]=k[9]=k[10]=k[12]=k[13]=k[14]=k[15]=k[16]=k[17]=k[18]=k[19]=k[20]=k[21]=k[22]=k[23]=k[24]=1;for(var n=5,v=function(){this.currentTime&&(this.removeEventListener("timeupdate",arguments.callee,!1),this.pause(),Wa(this,"timeupdate",function(){this.endTime<this.currentTime&&(this.pause(),this.Ob=0)}),--n||(Pb=function(a,b,c){if(40==a||41==a)a=1;"0"==E.sevol||jc.aa||0==a||setTimeout(function(){for(var b=0;5>b&&(n=(n+1)%5,!B[n].paused&&k[B[n].Ob]&&!k[a]);++b);5!=b&&(b=B[n],b.paused||b.pause(),
b.currentTime=2*a,b.endTime=2*a+(1==a?3:1),b.Ob=a,b.play())},1E3*c)}))},z=~~(E.sevol||5)/10,B=[],y=0;5>y;++y)B[y]=u("AUDIO",xb,"",{src:"https://cdn.tenhou.net/3/res/snd/se.m4a"},{position:"absolute",display:"none"}),B[y].endTime=0,B[y].Ob=0,B[y].volume=z,Wa(B[y],"timeupdate",v);Cc=function(){for(var a=~~(E.sevol||5)/10,b=0;b<B.length;++b)B[b].volume=a};b(function(){for(var a=0;a<B.length;++a)B[a].play()});Dc=function(){E.se&&w.i(H(0))}}})();
if(p.gr&&p.gr.eworx&&p.gr.eworx.AVAudioSessionAdapter){var Ec=gr.eworx.AVAudioSessionAdapter;(new Ec).setCategoryWithOptions(Ec.Categories.PLAYBACK,Ec.CategoryOptions.MIX_WITH_OTHERS,function(){},function(){})};var kc=function(){var b={M:[0,12,14,16,14,14,20,22,18,0,9,0],F:[0,13,15,17,15,15,21,23,19,0,9,0]};b[""]=b.C=b.M;var d={};return{b:u("DIV",Zb,"",{},{position:"absolute",pointerEvents:"none",top:"0px"}),P:function(c,a,e){if(!jc.aa){var f=H(190)[a];if(f){var h=10*-c,m=u("SPAN",kc.b,"tsv nosel",{innerHTML:f},{position:"absolute",fontWeight:"bold",color:"#FFF",opacity:0,whiteSpace:"nowrap"}),l=gc.offsetWidth/40,g=~~(R[64+2*c]/q)+gc.offsetLeft+O.B.canvas.offsetLeft,k=~~(R[65+2*c]/q)+gc.offsetTop,n=m.style,
v=vb++;e&1&&(d[v]=!0);~e&2&&(n.display="none");rc()[v]=function(f){if(!m.parentNode)return 0;if(0>h)return h+=f,0<h&&(h=0),1;0==h&&e&4&&(Pb(b[A.Za[c]][a],c,0),++h);h+=f;if(250>h)return n.opacity=h/250,n.fontSize=l*(4+(250-h)/250*4)+"px",n.left=g-m.offsetWidth/2+"px",n.top=k-m.offsetHeight/2+"px",1;if(750>h){if(1==n.opacity)return 1;n.opacity=1;n.fontSize=4*l+"px";n.left=g-m.offsetWidth/2+"px";n.top=k-m.offsetHeight/2+"px";return 1}return d[v]?(h-=f,1):1250>h?(n.opacity=(1250-h)/500,1):(m.parentNode.removeChild(m),
0)}}}},fa:function(){for(;kc.b.firstChild;)kc.b.removeChild(kc.b.firstChild)},Hb:function(){d={}}}}();var Fc=function(){function b(){d=0}var d=0,c;Xa(p,{touchstart:b,touchend:b,touchcancel:b,mousedown:b,mouseup:b,mouseover:b,mouseout:b,keydown:b,blur:b});return{ad:function(a){Gb&&2==A.a&&(d=0);d||(d=a);a=36E5-(a-d);0>a&&(location.reload(),d=a=0);2E4>a?(c||(c=u("DIV",gc,"ts0",{},{position:"absolute",left:"0px",top:"0px"})),c.innerText="ENTERING POWERSAVING MODE "+~~(a/1E3)):c&&(c.parentNode.removeChild(c),c=null)}}}();var Qb=function(){function b(a){if(a){var c=/<([a-zA-Z0-9]+)[^>]*>|[^<]+|<\/(.*)>/g,g=c.exec(a);if(g){var f={};f.tag=g[1];for(var d=/ ([a-zA-Z0-9]+)="([^"]*)"/g,h;h=d.exec(g[0]);)f[h[1]]=h[2];for(;(g=c.exec(a))&&!g[2];)f.childNodes||(f.childNodes=[]),f.childNodes.push(g[1]?b(g[0]):~~g[0]);return f}}}function d(a){for(var b=-1,c=h;0<=--c;){switch(e[c].tag){case "INIT":return c+1;case "N":a=e[c][2];if(2==a||4==a||5==a)b=-1;break;case "D":case "E":case "F":case "G":if(-1!=b)return b;break;case "T":case "U":case "V":case "W":a||
(b=c)}a=!1}return-1}function c(a,c){c&&(e=b(c).childNodes);if(c&&e){for(var g=!1,d=0;40>d;++d){var k=E["log"+d];try{k=JSON.parse(k)}catch(U){continue}if(k.log==a){g=!0;break}}g||(t.o[14]=void 0);for(var l,d=0;d<e.length;++d){switch(e[d].tag){case "SHUFFLE":l=J.Pc(e[d].seed);break;case "GO":Y.ra(e[d])}if("UN"==e[d].tag)break}for(f=[];d<e.length;++d){var k=e[d],m=[0,0,0,0],K=d;switch(k.tag){case "INIT":f.push(d);break;case "RYUUKYOKU":if("ron3"==k.type)for(g=0;4>g;++g)k["hai"+g]&&(m[g]=6);break;case "AGARI":for(;k=
e[d],m[~~k.who]=k.who==k.fromWho?7:6,k.paoWho&&(m[~~k.paoWho]=11),d+1<e.length&&"AGARI"==e[d+1].tag;++d);break;case "N":zc(k);m[~~k.who]=k[2];break;default:Qb.rb(k)}if(m[0]||m[1]||m[2]||m[3])e.splice(K,0,{tag:"VOICE",type:m}),++d}if(l)for(d=0;d<f.length;++d){var k=e[f[d]],g=eb(k.seed),g=6==g[3]&&0==g[4],G;l&&(G=k[5]=l(~~k.oya,g));if(G)if(g){if(A.s&16)for(D=0;6>D;++D)G[D]|=1280;for(g=0;g<(A.s&16?3:4);++g){for(D=0;4>D;++D)G[34*g+D]|=1280;for(;34>D;++D)G[34*g+D]|=g+1<<8}for(var m=0,D=f[d]+1;D<e.length&&
"INIT"!=e[D].tag;++D)k=e[D],"N"!=k.tag||4!=k[2]&&2!=k[2]&&5!=k[2]&&10!=k[2]||(g=~~k.who,G[m/4*34+m%4^1]|=g+1<<8,++m)}else{for(var ja=!1,K=13*(A.s&16?3:4),m=0,g=-1,D=f[d]+1;D<e.length&&"INIT"!=e[D].tag;++D)switch(k=e[D],k.tag){case "N":ja=4==k[2]||2==k[2]||5==k[2]||10==k[2];break;case "T":case "U":case "V":case "W":g=k.tag.charCodeAt(0)-84,G[ja?m++^1:G.length-1-K++]|=g+1<<8,ja=!1}for(k=A.s&16?3:4;K<G.length-14-m;++K)g=(g+1)%k,G[G.length-1-K]|=g+1<<8;for(;K<G.length;++K)G[G.length-1-K]|=1280}}for(d=
0;d<e.length;++d)Rb.yb(r.tw,e[d]);for(d=0;"INIT"!=e[d].tag;++d)switch(e[d].tag){case "BYE":case "SHUFFLE":case "GO":break;case "UN":case "TAIKYOKU":Y.ra(e[d]);break;default:throw console.log(d,e[d]);}h=f[~~r.ts];delete r.ts}else w.i(H(2003),1,function(){r.ob?location.reload():delete r.log})}function a(a){var b=a.split("-");if(4!=b.length)return a;if(120==b[3].charCodeAt(0)){a=parseInt(b[3].substr(1,4),16);var c=parseInt(b[3].substr(5,4),16),g=parseInt(b[3].substr(9,4),16),d=0;"2010041111gm"<=b[0]&&
(d=~~("3"+b[0].substr(4,6))%(34-~~b[0].substr(9,1)-1));b[3]=rb(4,(a^c^l[d+0]).toString(16))+rb(4,(c^l[d+0]^g^l[d+1]).toString(16))}return b.join("-")}var e,f,h,m={D:!0,E:!0,F:!0,G:!0,T:!0,U:!0,V:!0,W:!0,N:!0,RYUUKYOKU:!0,VOICE:!0},l=[22136,52719,55146,42104,59591,46934,9248,28891,49597,52974,62844,4015,18311,50730,43056,17939,64838,38145,27008,39128,35652,63407,65535,23473,35164,55230,27536,4386,64920,29075,42617,17294,18868,2081];return{rb:function(a){var b=a.tag;if(1<b.length){var c=a.tag.charCodeAt(1);
48<=c&&57>=c&&(a[0]=~~b.substr(1),a.tag=b.substr(0,1))}return a},Ic:function(b){b=a(b);lb("https://tenhou.net/0/log/?"+b,function(a){c(b,a)},function(){c(b)})},Ta:function(a){if(e){if(0==arguments.length){for(var b=h;0<=b&&"INIT"!=e[b].tag;--b);if(0<=b)return Qb.cc(e,b,h-b)}else if(0>=a){var c=d(0>a);if(-1==c)return;if(0>a&&h==c+1)for(c=c-1==f[0]?e.length-1:c-2;"AGARI"==e[c-1].tag;--c);for(var g=[],b=0;b<f.length&&!(c<f[b]);++b);for(var l=f[b-1],b=l;b<c;++b)g.push(e[b]);Y.ra(Qb.cc(e,l,c-l));h=c;1==
c-l&&Gc.set()}else if(Z.ok&&!Z.ok.disabled){x.ok();return}if(!(e.length<=h))for(jc.Ea(),b=!1;!b&&h<e.length;++h){switch(e[h].tag){case "REACH":2!=e[h].step&&(b=!0);break;case "AGARI":h+1<e.length&&"AGARI"!=e[h+1].tag&&(b=!0);break;default:m[e[h].tag]&&(b=!0)}Y.ra(e[h])}}},fa:function(){h=0;e=void 0},mc:function(a,b){if(e&&e.length)if(a)h=~~b+1,Qb.Ta(0);else{for(var c=-1,g=h;0<=g&&(-1==c&&"T"==e[g].tag&&(c=g),"INIT"!=e[g].tag);--g);if(!(0>g)){var d="",f=0;for(++g;g<e.length;++g){json=e[g];if("INIT"==
json.tag)break;"T"==json.tag&&(d+="<div class='A"+(g==c?" _selected_":"")+"' id='#tj-"+g+"'>"+ ++f+"巡目</div>")}w.$(d,"",0)}}},lc:function(a,b){if(e&&e.length)if(a)h=~~b+1,Qb.Ta(0);else{for(var c=0,g=h;0<=g;--g)if("INIT"==e[g].tag){c=g;break}for(var d="",f=-1,k="",g=0;g<e.length;++g){var l=e[g];switch(l.tag){case "INIT":f=eb(l.seed);k=f[0];k="東南西北".substr(~~(k/4),1)+(k%4+1)+C("局")+f[1]+C("本場");f=g;break;case "RYUUKYOKU":var m=wa[l.type],d=d+("<div class='A"+
(f==c?" _selected_":"")+"' id='#ts-"+f+"'>"+k+"<br>流局"+(m?" "+m:"")+"</div>");break;case "AGARI":var m=~~l.who,D=~~l.fromWho,l=eb(l.ten),d=d+("<div class='A"+(f==c?" _selected_":"")+"' id='#ts-"+f+"'>"+k+"<br>"+C(m==D?"ツモ:":"ロン:")+A.w[m]+" "+l[1]+(m!=D?"<br>"+C("放銃:")+A.w[D]:"")+"</div>")}}w.$(d,"font-size:70%;text-align:left;",0)}},zb:function(a,b){var c=~~b;if(4==c)t.o[14]=!t.o[14];else if(4>c){for(var g=0;g<e.length;++g)Rb.yb(c,e[g]);r.tw=(r.tw+c)%4}for(g=
0;g<e.length;++g)if("UN"==e[g].tag){Y.ra(e[g]);hc.Z();Qb.Ta(0);break}},cc:function(a,b,c){var g=a[b];if("INIT"!=g.tag)return null;for(var d=[],f=eb(g.hai0);f.length;)d[f.pop()]=1;for(f=eb(g.hai1);f.length;)d[f.pop()]=2;for(f=eb(g.hai2);f.length;)d[f.pop()]=3;for(f=eb(g.hai3);f.length;)d[f.pop()]=4;for(var k=eb(g.seed),l=eb(g.ten),f=eb(g.chip),h=~~g.oya,n=g[5],e=[[],[],[],[]],m=[[],[],[],[]],ba=-1;b<a.length&&c;++b,--c)switch(g=a[b],g.tag){case "D":case "E":case "F":case "G":var L=g.tag.charCodeAt(0)-
68,ca=g[0]==ba,ba=g[0];d[ba]=0;ca&&m[L].push(254);m[L].push(ba);break;case "T":case "U":case "V":case "W":L=g.tag.charCodeAt(0)-84;ba=g[0];d[ba]=L+1;break;case "N":for(var ba=-1,L=~~g.who,ca=~~g.m,ya=g[3],Aa=g[0],ua=0;ua<Aa.length;++ua)d[Aa[ua]]=0;5!=g[2]&&4!=g[2]&&10!=g[2]&&(ya=m[(L+ya)%4],ya.pop(),254==ya[ya.length-1]&&ya.pop());if(5==g[2]){for(ua=0;ua<e[L].length&&e[L][ua]!=(ca^24);++ua);if(ua==e[L].length)throw console.log("Log2ReiniXML INVALID KAKAN");e[L][ua]=ca}else e[L].unshift(ca);break;
case "REACH":L=~~g.who;ca=~~g.step;2==ca?(g=eb(g.ten),g.length?l=g:l[L]-=10):(1==ca?m[L].push(255):(m[L].push(255),l[L]-=10),++k[2]);break;case "DORA":k.push(~~g.hai)}g=a[b];"AGARI"==g.tag&&g.who==g.fromWho&&(d[~~g.machi]=0);a={tag:"REINIT",seed:""+k,ten:""+l,oya:h,hai0:[],hai1:[],hai2:[],hai3:[]};for(b=0;136>b;++b)d[b]&&a["hai"+(d[b]-1&3)].push(b);n&&(a[5]=n);f.length&&(a.chip=f);for(L=0;4>L;++L)e[L].length&&(a["m"+L]=e[L]);for(L=0;4>L;++L)m[L].length&&(a["kawa"+L]=m[L]);return a}}}();var Hc=p.oemLoginEmail?{iH:24,iS:10,iV:6,hR:0,hG:0,hB:0}:{iH:0,iS:10,iV:7,hR:0,hG:0,hB:0},Ic={},M=function(){function b(b,c){var d;if(2==b&&99==c)return M[4195];var f=0,g=M[4096|100*b+c];g||(g=M[4096|100*b+c]=Xa(new Image,{load:O.Ab,error:function(){Lb("IMAGE ONERROR",f++,this.src);10>f&&setTimeout(function(){g.src=g.src},2E3)}}));d=d||(99==c?"":a);var k=N[b];1==b&&99==c&&(k=N[0]);8==b&&99==c&&(k=N[0]);var h="https://p.mjv.jp/5/img/vieww"+b+rb(2,c)+rb(3,k)+("000000ffffff000000"==d?"":d)+".png";620>=
N[0]&&(""==d||"000000ffffff000000"==d)&&(h="https://cdn.tenhou.net/3/res/img/20201203/vieww"+b+rb(2,c)+rb(3,k)+".png");k&&g.src!=h&&(g.src=h);return g}function d(a,b,c){for(var d=3;d<arguments.length;++d){var g=arguments[d],f=g>>8&7;M[g]=bb(M[g]||{},{za:a,eb:b%10*N[f],fb:(V[f]+T[f])*~~(b/10),ka:N[f],wa:V[f]+T[f],offsetX:0,offsetY:0,ec:c});if(5==f||7==f)M[g].offsetY+=V[f%4]+T[f%4]-(V[f]+T[f]);5==f&&(M[g].offsetX+=N[f%4]-N[f])}}function c(a,b,c,d,g){for(var f=5;f<arguments.length;++f){var l=arguments[f],
h=l>>8&7;Ic[l]=bb(Ic[l]||{},{za:a,eb:b,fb:c,ka:d,wa:g,offsetX:Jc[h],offsetY:V[h]+T[h]-g});if(5==h||7==h)Ic[l].offsetY+=V[h%4]+T[h%4]-(V[h]+T[h]);5==h&&(Ic[l].offsetX+=N[h%4]-N[h])}}var a,e;return{Wc:function(){e=rb(3,10*Hc.iH)+rb(3,10*Hc.iS)+rb(3,10*Hc.iV);Jb(E.backgroundImage)?(r.Wa=!1,gc.style.background="url('https://cdn.tenhou.net/4/res/img/1/_bg9_1024x0768_080000.png') center center /cover no-repeat,url('"+E.backgroundImage+"') center center /cover no-repeat"):(E.backgroundImage&&E.backgroundImage.match(/^([0-9]{9})$/)&&
(e=E.backgroundImage),r.Wa=!0,gc.style.background="url('https://cdn.tenhou.net/4/res/img/1/_bg9_1024x0768_080000.png') center center /cover no-repeat,url('https://cdn.tenhou.net/4/res/img/3/_bg0_1024x0768_"+e+".jpg') center center /cover no-repeat");a="000000ffffff000000";E.msk&&E.msk.match(/^([0-9a-f]{6})$/)&&(a=RegExp.$1+a.substr(6));d(b(5,48),0,-1,1328);d(b(7,48),0,-1,1840);for(var f=0;4>=f;++f){for(var h=b(f,0),m=0;34>m;++m){var l=10*(~~(m/9)+1)+m%9+1;d(h,l-10,m,f<<8|l)}d(h,0,4,f<<8|51);d(h,10,
13,f<<8|52);d(h,20,22,f<<8|53)}h=M[4096];d(h,30,-1,48,560);d(h,38,-1,49,561);d(h,39,-1,50,562);h=M[4196];d(h,30,-1,304,816);d(h,38,-1,305,817);d(h,39,-1,306,818);h=M[4296];d(h,30,-1,1584);d(h,38,-1,60,572);h=M[4396];d(h,38,-1,316,828);h=M[4496];d(h,30,-1,1084);d(h,38,-1,1073);d(h,39,-1,1074);for(f=0;8>f;f+=2){h=b(f,99);m=N[f]+T[f];l=0;if(0==f||2==f)l=~~(47*m/43);if(4==f||6==f)l=~~(24*m/43);var g=~~(T[f]/12*5);c(h,0,0,m-Jc[f],l,f<<8|0);c(h,0,l-g,2*g,g,f<<8|3,f<<8|2)}var f=V[1]+T[1],m=2*~~(47*(N[0]+
T[0])/43),l=T[0]/12,g=T[0]+~~(5*l),k,h=b(8,99);k=0;c(h,0,k+m-V[0],g,V[0],1,513);c(h,0,k+~~(17*l),g,V[0],5,517);c(h,0,k,g,V[0]+~~(12*l),4,516);c(h,0,k+m-V[1],g,V[1],257,769,1281,1793);c(h,0,k+~~(17*l),g,V[1],261,773,1285,1797);c(h,0,k,g,V[1]+~~(12*l),260,772,1284,1796);h=b(1,99);k=0;c(h,0,k,g,f,256,768,1280,1792);c(h,0,k+f-~~(5*l),2*~~(5*l),~~(5*l),259,771,1283,1795,258,770,1282,1794)},va:function(a,b,c,d){var g=M[4096|100*c];if(g.complete||!g.height){var f=N[c],l=V[c]+T[c],h=f*(arguments.length-4),
e=1*l;a.innerHTML=b+"<canvas width="+h+" height="+e+" style='width:"+h/q+"px;height:"+e/q+"px;pointer-events:none;vertical-align:middle;'></canvas>";h=a.getElementsByTagName("CANVAS")[0].getContext("2d");h.clearRect(0,0,h.canvas.width+1,h.canvas.height+1);h.globalAlpha=d;for(e=4;e<arguments.length;++e){var m=arguments[e],y;J.xb(m)?(y=0,m=~~(m/4/9)):(m=J.cb[m],48==m&&(m=40),y=m%10,m=~~(m/10)-1);h.drawImage(g,y*f,m*l,f,l,f*(e-4),0,f,l)}}}}}();var Rb=function(){function b(a,b){var c=b.split(",");8==c.length?c=[c[(0+a)%4*2+0],c[(0+a)%4*2+1],c[(1+a)%4*2+0],c[(1+a)%4*2+1],c[(2+a)%4*2+0],c[(2+a)%4*2+1],c[(3+a)%4*2+0],c[(3+a)%4*2+1]]:16==c.length&&(c=[c[(0+a)%4*2+0],c[(0+a)%4*2+1],c[(1+a)%4*2+0],c[(1+a)%4*2+1],c[(2+a)%4*2+0],c[(2+a)%4*2+1],c[(3+a)%4*2+0],c[(3+a)%4*2+1],c[(0+a)%4*2+8],c[(0+a)%4*2+9],c[(1+a)%4*2+8],c[(1+a)%4*2+9],c[(2+a)%4*2+8],c[(2+a)%4*2+9],c[(3+a)%4*2+8],c[(3+a)%4*2+9]]);return c.join(",")}function d(b){if(!e.length)return 0;
c+=b;if(c<a)return 1;b=e.shift();b.tag?Y.ra(b):a+=b;return 1}var c,a,e=[],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=["","","",""],m=["","","",""];return{yb:function(a,c){if(!a)return c;var d=c.tag,f=d.charCodeAt(1);if(1==d.length||48<=f&&57>=f)f=d.charCodeAt(0),78==f?c.who=(4+~~c.who-a)%4:68<=f&&71>=f?c.tag="DEFG".substr((4+(f-68)-a)%4,1)+d.substr(1):84<=f&&87>=f&&(c.tag="TUVW".substr((4+(f-84)-a)%4,1)+d.substr(1));else switch(d){case "UN":d=[c.n0,c.n1,c.n2,c.n3];c.n0=
d[(a+0)%4];c.n1=d[(a+1)%4];c.n2=d[(a+2)%4];c.n3=d[(a+3)%4];c.dan&&(d=c.dan.split(","),c.dan=d.concat(d.splice(0,a)).join(","));c.rate&&(d=c.rate.split(","),c.rate=d.concat(d.splice(0,a)).join(","));c.sx&&(d=c.sx.split(","),c.sx=d.concat(d.splice(0,a)).join(","));c.rc&&(d=c.rc.split(","),c.rc=d.concat(d.splice(0,a)).join(","));c.gold&&(d=c.gold.split(","),c.gold=d.concat(d.splice(0,a)).join(","));break;case "TAIKYOKU":case "KANSEN":c.oya=(4+~~c.oya-a)%4;break;case "REINIT":d=[c.m0,c.m1,c.m2,c.m3],
c.m0=d[(a+0)%4],c.m1=d[(a+1)%4],c.m2=d[(a+2)%4],c.m3=d[(a+3)%4],d=[c.kawa0,c.kawa1,c.kawa2,c.kawa3],c.kawa0=d[(a+0)%4],c.kawa1=d[(a+1)%4],c.kawa2=d[(a+2)%4],c.kawa3=d[(a+3)%4];case "INIT":c.oya=(4+~~c.oya-a)%4;d=[c.hai0,c.hai1,c.hai2,c.hai3];c.hai0=d[(a+0)%4];c.hai1=d[(a+1)%4];c.hai2=d[(a+2)%4];c.hai3=d[(a+3)%4];d=c.ten.split(",");c.ten=d.concat(d.splice(0,a)).join(",");void 0!=c.chip&&(d=c.chip.split(","),c.chip=d.concat(d.splice(0,a)).join(","));break;case "REACH":c.who=(4+~~c.who-a)%4;c.ten&&(d=
c.ten.split(","),c.ten=d.concat(d.splice(0,a)).join(","));break;case "RYUUKYOKU":d=[c.hai0,c.hai1,c.hai2,c.hai3];c.hai0=d[(a+0)%4];c.hai1=d[(a+1)%4];c.hai2=d[(a+2)%4];c.hai3=d[(a+3)%4];c.sc=b(a,c.sc);void 0!=c.owari&&(c.owari=b(a,c.owari));break;case "AGARI":c.who=(4+~~c.who-a)%4;c.fromWho=(4+~~c.fromWho-a)%4;void 0!=c.paoWho&&(c.paoWho=(4+~~c.paoWho-a)%4);c.sc=b(a,c.sc);void 0!=c.owari&&(c.owari=b(a,c.owari));break;case "VOICE":d=c.type;c.type=d.concat(d.splice(0,a));break;case "BYE":c.who=(4+~~c.who-
a)%4}if(c.childNodes)for(d=c.childNodes,f=0;f<d.length;++f)d[f].tag&&Rb.yb(a,d[f]);return c},Ac:function(a){if(a=a.childNodes){jc.aa=!0;for(var b=0;b<a.length;++b)Y.ra(Qb.rb(a[b]));Y.ra({tag:"INITBYLOG"})}else jc.aa=!1;return 1},Fc:function(b){rc().ed||(c=a=0,rc().ed=d);b=b.childNodes;for(var f=0;f<b.length;++f)b[f].tag&&Qb.rb(b[f]);Array.prototype.push.apply(e,b);return 1},Oc:function(){for(var a=0;a<f.length;++a)f[a]=0;for(a=0;4>a;++a)m[a]=h[a]=""},fa:function(){for(;e.length;)e.pop()},zb:function(a,
b){if(a){var c=~~b;4==c?t.o[14]=!t.o[14]:4>c&&(r.tw=(r.tw+c)%4)}Rb.fa();A.fa();Y.ib();Y.J({tag:"HELO",name:"NoName",sx:"M"})},tc:function(a){var b=""+W[48|a];if(m[a]!=b&&(m[a]=b,W[64|a]=pa.jb(W[48|a]),b=""+W[64|a],h[a]!=b)){h[a]=b;for(a=0;a<f.length;++a)f[a]=0;for(b=0;4>b;++b)if(W[64|b])for(a=0;a<W[64|b].length;++a)f[W[64|b][a]]=1;for(a=0;a<R.sa.length;++a)b=R.sa[a],b.l&&b.na&&b.na(-1025,f[b.l.ec]?1024:0,!0)}},uc:function(a){a.l&&a.na&&a.na(-1025,f[a.l.ec]?1024:0,!0)}}}();var Z={};function Kc(b,d){for(var c=[b],a=d||{};c.length;){b=c.pop();for(var e=0;e<b.childNodes.length;++e)c.push(b.childNodes[e]);b.id?a[b.id]=b:b.name&&(a[b.name]=b)}Z=a}
var x=function(){var b,d=[],c={SPLASH:1,LOGIN:1,LOBBY:1,STORE:1};return{b:null,i:function(a,c){x.b?"RYUUKYOKU"==b.tag&&"OWARI"==a.tag||"AGARI"==b.tag&&"OWARI"==a.tag||"AGARI"==b.tag&&"AGARI"==a.tag?d.push(a):x.O(a,c):(b=a,x.b=u("DIV",gc,"tbc",{},{position:"relative",textAlign:"center",verticalAlign:"middle"}),x.b.innerHTML="<div style='background-color:rgba(0,0,0,0.85);color:#FFF;border:solid 1px #444;padding:1em 0.5em;'></div>",x.L(),x[b.tag](b,x.b.firstChild),c&&c())},L:function(){if(x.b){var a=
~~(N[1]/q);if(a){c[b.tag]&&(a=0);var d=x.b.style;d.paddingLeft=a+"px";d.paddingRight=~~(gc.offsetWidth-ec/q+a)+"px"}}},O:function(a,b){function c(){for(var c in Z)delete Z[c];x.b&&(x.b.parentNode.removeChild(x.b),x.b=null,Z={});a instanceof Function?a():a&&x.i(a);Ac.Ya&&Ac.Ya();b&&b()}x.b&&"none"!=x.b.style.display?rc().hd=Lc(c):c()},fa:function(){d=[]},nop:function(){},ok:function(a){Hb(!0,"ok");oc.O();if(d.length)x.O(d.shift());else if("TRAINING"==b.tag)x.bd(a);else if("SPLASH"==b.tag)t.oa(11);
else if("LOGIN"==b.tag||"AUTOLOGIN"==b.tag){var c=E.sx||"M";E.gpid?(p.oemLoginEmail?Y.J({tag:"HELO",tsssessionid:E.tsssessionid,sx:c,gpid:E.gpid}):Y.J({tag:"HELO",name:E.uname||"NoName",sx:c,gpid:E.gpid}),E.removeItem("gpid")):p.oemLoginEmail?"AUTOLOGIN"==b.tag&&E.tsssessionid?Y.J({tag:"HELO",tsssessionid:E.tsssessionid,sx:c}):w.i("<table align=center cellpadding=0 cellspacing=0 style='padding:auto;'><tr><td align=right>Email:</td><td align=left><input name=email placeholder=\"メールアドレス\" style='font-size:100%;' value='"+
(E.tsssessionid?"######@###########":"")+"'/></td></tr><tr><td align=right>Password:</td><td align=left><input type=password name=password placeholder=\"パスワード\" style='font-size:100%;' value='"+(E.tsssessionid?"##########":"")+"'/></td></tr><tr><td align=right>Voice:</td><td align=left><input id=sxm class=radio type=radio name=sx value=M "+("F"!=c?"checked":"")+"/><label class=radio for=sxm>"+H(323)+"</label><input id=sxf class=radio type=radio name=sx value=F "+("F"==c?"checked":
"")+"/><label class=radio for=sxf>"+H(324)+"</label></td></tr></table>",3,function(a){a=a.getElementsByTagName("INPUT");var b=a[0].value,d=a[1].value;if("######@###########"==b&&"##########"==d)Y.J({tag:"HELO",tsssessionid:E.tsssessionid,sx:c});else{a[2].checked?(E.removeItem("sx"),c="M"):E.sx=c="F";if(!b&&!d)return Y.J({tag:"HELO",sx:c});nb("//b7.mjv.jp/mjmember/","email="+encodeURIComponent(b)+"&password="+encodeURIComponent(d),function(){if(200!=this.status||!this.response.match(/^tsssessionid=([0-9a-f]{32})$/))return A.ERR({code:1003});
E.tsssessionid=RegExp.$1;Y.J({tag:"HELO",tsssessionid:E.tsssessionid,sx:c})},function(a){alert(a)})}},function(){Hb(!1,0)}):Y.J({tag:"HELO",name:E.uname||"NoName",sx:c});Hb(!0,0)}else"OWARI"==b.tag?(2!=A.a||r.ob||delete r.wg,t.oa(495623)):"NINTEI"==b.tag?x.Jb():(1==A.a&&Y.J({tag:"NEXTREADY"}),3==A.a&&Qb.Ta(1))},lang:function(){var a="",b;for(b in Wb)a+="<div class=A id='#lang-"+b+"'>"+b+"</div>";w.$(a,"",0)},"#lang":function(a,b){var c=pb.Va(),d=a?b:pb.Va();Mc.firstChild.innerHTML=d;pb.Va(d);c!=d&&
location.reload()},cfg:function(){Y.ib();x.i({tag:"CONFIG"})},exit:function(){t.oa(495623)}}}();bb(x,function(){function b(a,b){return a?"<span style='color:"+(0<a?"#0FF":"#F00")+";'>"+(0<a?"+":"")+a+(void 0!=b?b:"")+"</span>":""}function d(a){for(var c=a.sc?eb(a.sc):[],d=["","","",""],f=0;4>f;++f)d[f]+="<span style='font-weight:bold;color:#888;'>"+A.lb[f]+"</span> ",c.length||(d[f]+=(p.oemLoginEmail?"":ra[A.ab[f]])+(Nb(A.La[f])?" <span style='color:#888;'>R</span>"+~~A.La[f]:"")+"<br>"),d[f]+="<span class=popup_un"+f+" style='font-weight:bold;color:#CCC;'>"+ib(A.w[f])+"</span><br>";f=2.4;if(8==
c.length||16==c.length)d[0]+=c[0]+"<span style='font-size:80%;opacity:0.70;'>00</span>"+(c[1]?" "+b(c[1],"<span style='font-size:80%;opacity:0.70;'>00</span>"):""),d[1]+=c[2]+"<span style='font-size:80%;opacity:0.70;'>00</span>"+(c[3]?" "+b(c[3],"<span style='font-size:80%;opacity:0.70;'>00</span>"):""),d[2]+=c[4]+"<span style='font-size:80%;opacity:0.70;'>00</span>"+(c[5]?" "+b(c[5],"<span style='font-size:80%;opacity:0.70;'>00</span>"):""),d[3]+=c[6]+"<span style='font-size:80%;opacity:0.70;'>00</span>"+
(c[7]?" "+b(c[7],"<span style='font-size:80%;opacity:0.70;'>00</span>"):"");16==c.length&&(++f,d[0]+="<br>"+c[8]+"枚"+(c[9]?" "+b(c[9],"枚"):""),d[1]+="<br>"+c[10]+"枚"+(c[9]?" "+b(c[11],"枚"):""),d[2]+="<br>"+c[12]+"枚"+(c[9]?" "+b(c[13],"枚"):""),d[3]+="<br>"+c[14]+"枚"+(c[9]?" "+b(c[15],"枚"):""));c="";a.ba&&(c=eb(a.ba),c=C("")+c[0]+" "+C("")+c[1]);return"<table cellpadding=0 cellspacing=0 style='margin:0.5em 0;width:100%;text-align:center;'><tr><td rowspan=1 style='width:33%;height:"+
f/2+"em;font-family:icons2,sans-serif;'>"+c+"</td><td rowspan=2 style='width:34%;'><div id=sc02 style='height:"+1*f+"em;padding:0.2em 0;'"+(A.w[2]?" class=bbg5>"+d[2]:"'>")+"</div></td><td rowspan=1 style='width:33%;height:"+f/2+"em;' class=gray>"+Ia(A.s)+"</td></tr><tr><td rowspan=2><div id=sc03 style='height:"+1*f+"em;padding:0.2em 0;'"+(A.w[3]?" class=bbg5>"+d[3]:"'>")+"</div></td><td rowspan=2><div id=sc01 style='height:"+1*f+"em;padding:0.2em 0;'"+(A.w[1]?" class=bbg5>"+d[1]:"'>")+"</div></td></tr><tr><td rowspan=2><div id=sc00 style='height:"+
1*f+"em;padding:0.2em 0;'"+(A.w[0]?" class=bbg5>"+d[0]:"'>")+"</div></td></tr><tr><td rowspan=1 id=d34 style='height:"+f/2+"em;'></td><td rowspan=1 id=d35 style='height:"+f/2+"em;'></td></tr></table>"}function c(a,c){return A.w[c].length?"<tr><td align=center class=bbg5 style='padding:0.5em;'>"+ib(A.w[c])+"<table cellpadding=0 cellspacing=0 align=center><tr><td align=right style='width:6em;'>"+a[2*c+0]+"<span style='font-size:80%;opacity:0.70;'>00</span></td><td align=right style='width:5em;'>"+b(a[2*
c+1].toFixed(1))+"</td>"+(16==a.length?"<td align=right style='width:4em;'>"+b(a[2*c+8],"枚")+"</td>":"")+"<td style='width:3em;'></td></tr></table></td></tr>":""}function a(a,b){for(var c,d=0;c=Z["yaku"+d];++d)c.childNodes[0].style.opacity=c.childNodes[1].style.opacity=0;Z.sc00.style.opacity=Z.sc01.style.opacity=Z.sc02.style.opacity=Z.sc03.style.opacity=Z.total.style.opacity=0;Z.ok.disabled=!0;var f=!!a.doraHaiUra;f&&(Z.d35.style.opacity=0);var h=!!a.yakuman,e=-(h?3E3:750),v=0;rc().fd=function(a){if(0>
e)return e+=a,0<e&&(e=0),1;0==e&&Pb(h&&0==v?41:11,0,0);var c=Math.min(1,e/(h?3E3:600)),g=Z["yaku"+v];g.childNodes[0].style.opacity=g.childNodes[1].style.opacity=c;v==d-1&&(f&&(Z.d35.style.opacity=c),Z.sc00.style.opacity=Z.sc01.style.opacity=Z.sc02.style.opacity=Z.sc03.style.opacity=Z.total.style.opacity=c);e+=a;1==c&&(v++,e=-(~A.s&2048&&f&&v==d-1?1200:250));return v<d?1:(b(),0)}}var e={TAIKYOKU:"對局",SAIKAI:"再開",KANSEN:"觀戰"};return{TAIKYOKU:function(a,c){var b="TAIKYOKU"==
a.tag;c.innerHTML="<div style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;'>"+e[a.tag]+"</div>"+d(a)+(b?"<button name=ok style='padding:0 2em;'>OK</button>":"<button disabled>"+decodeURIComponent(a.msg||"WAIT")+"</button>");Kc(c);b&&oc.i(-A.sb-5E3)},AGARI:function(c,b){var f="";Pb(10,0,0);c.ten=eb(c.ten);c.chip=eb(c.chip);for(var h=c.who!=c.fromWho,g=0,e=0;e<c.chip.length;e+=2)g+=c.chip[e+1];var g=g?g+C(h?"枚":"枚∀"):"",n;n=h?c.ten[1]+C("点"):A.s&16&&A.Ja[0]&8388608?~~(c.ten[1]/
2)+"点∀":xa[(A.s&16?0:2)+(A.ma==c.who?1:0)][c.ten[1]]+C(A.ma==c.who?"点∀":"点");var f=f+"<div id=total style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:250%;'>",v=[];if(c.yakuman){c.yakuman=eb(c.yakuman);f+=C("役滿")+n+g;for(e=0;e<c.yakuman.length;e+=1)v.push([qa[c.yakuman[e]],2*e<c.chip.length?c.chip[2*e+1]+C("枚"):""]);for(e*=2;e<c.chip.length;e+=2)v.push([qa[c.chip[e+0]],c.chip[e+1]+C("枚")])}else{c.yaku=eb(c.yaku);for(var z=sa[c.ten[2]],B=0,e=0;e<c.yaku.length;e+=
2)B+=c.yaku[e+1];if(30==c.ten[0]&&4==B||60==c.ten[0]&&3==B)!h&&A.s&16?c.ten[1]==(A.ma==c.who?8E3:6E3)&&(z=sa[1]):c.ten[1]==(A.ma==c.who?12E3:8E3)&&(z=sa[1]);~A.s&2048&&(f+=(z?"":c.ten[0]+C("符")+B+C("飜"))+C(z)+n+g);for(h=e=0;e<c.yaku.length;e+=2)g=c.yaku[e+1]+C(A.s&2048?"点":"飜"),h<c.chip.length&&c.yaku[e+0]==c.chip[h+0]&&(g+=c.chip[h+1]+C("枚"),h+=2),v.push([qa[c.yaku[e+0]],g])}f+="</div><table cellpadding=0 cellspacing=0 style='width:100%;font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:150%;'><tr>";
e=4>v.length?0:Math.ceil(v.length/2);for(h=0;h<v.length;++h){if(0==h||h==e)f+="<td width=50% align=center valign=top><table cellpadding=0 cellspacing=0>";f+="<tr id=yaku"+h+">";f+="<td align=left style='position:relative;'>"+v[h][0]+"</td>";f+="<td align=left style='position:relative;'>　"+v[h][1]+"</td>";f+="</tr>";if(h==e-1||h==v.length-1)f+="</table></td>"}f+="</tr></table>";v=eb(c.doraHai);for(e=c.doraHaiUra?eb(c.doraHaiUra):[];5>v.length;)v.push(136);for(;5>e.length;)e.push(136);f+=d(c)+
"<button name=ok style='padding:0 2em;'>OK</button>";b.innerHTML=f;Kc(b);M.va(Z.d34,"",0,1,v[0],v[1],v[2],v[3],v[4]);M.va(Z.d35,"",0,1,e[0],e[1],e[2],e[3],e[4]);3!=A.a&&a(c,function(){Z.ok.disabled=!1;if(!c.owari){var a=(A.s&8?7:3)-(A.s&16?1:0);oc.i(0==A.S[0]&&0==A.S[1]?-A.sb:a<=A.S[0]?-A.Eb:-A.Db)}})},RYUUKYOKU:function(a,c){c.innerHTML="<div style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;'>"+(a.type?wa[a.type]:"流局")+"</div>"+d(a)+"<button name=ok style='padding:0 2em;'>OK</button>";
Kc(c);2!=A.a||a.owari||(Z.ok.disabled=!0);if(!a.owari){var b=(A.s&8?7:3)-(A.s&16?1:0);oc.i(0==A.S[0]&&0==A.S[1]?-A.sb:b<=A.S[0]?-A.Eb:-A.Db)}},OWARI:function(a,b){A.fa();hc.Z();var d;d=a.sc;d=d.split(",");for(var f=0;f<d.length;++f)d[f]=Number(d[f]);for(var f=[0,1,2,3],g=1;4>g;++g)if(!(d[2*f[g-1]+1]>=d[2*f[g]+1])){var e=f[g];f[g]=f[g-1];f[g-1]=e;g=0}d=""+("<div style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;'>終局</div><table cellpadding=0 cellspacing=0 width=75% align=center style='text-align:center;margin-top:1m;margin-bottom:0.5em;'>"+
c(d,f[0])+c(d,f[1])+c(d,f[2])+c(d,f[3])+"</table>");rc().Tc=Nc(1500);b.innerHTML=d+"<button name=ok style='padding:0 2em;'>OK</button>";Kc(b)}}}());x.KANSEN=x.SAIKAI=x.TAIKYOKU;bb(x,function(){function b(a){var c=Z.panes.childNodes,b=c.length;h=(h+a+b)%b;for(a=0;a<b;++a)c[a].style.display=a==h?"":"none";Z.paneDisp.innerHTML=c[h].firstChild.innerHTML+C(" / "+H(10))}function d(){J.a=~~E.yama;0==J.a&&E.desktop&&(J.a=1);Vb();A.fa();A.connected=15;for(var a=[],c=~~(Date.now()/1E3),b=0;65>b;++b)a.push((c+b)%34*4+(c&1));c=[0,1,14,22][c%4];A.s=1;A.UN({tag:"UN",n0:"COM",n1:"COM",n2:"COM",n3:"COM",sx:",,,"});A.ia({tag:"REINIT",seed:"2,1,1,"+~~(6*Math.random())+","+~~(6*Math.random())+
","+~~(137*Math.random()),ten:"123,234,345,456",oya:"0",hai0:a.slice(0,10).join(","),hai1:a.slice(13,23).join(","),hai2:a.slice(26,36).join(","),hai3:a.slice(39,49).join(","),m0:"27905",m1:"28929",m2:"29953",m3:"30977",kawa0:a.slice(26,26+c).join(","),kawa1:a.slice(39,39+c).join(","),kawa2:a.slice(0,0+c).join(","),kawa3:a.slice(13,13+c).join(",")});R.L();E.desktop&1?(t.b.style.display="",t[1572868].innerHTML="",t.X(126976)):t.b.style.display="none"}function c(a){Ub("hideid",~~a.target.checked,
0)}function a(){Z.cfgDefaultSE.checked?(Z.cfgUseDefaultSE0.style.display="none",Z.cfgSE.value="",e()):Z.cfgUseDefaultSE0.style.display=""}function e(){var a=Z.cfgSE.value;Kb(a)?(E.se=a,Dc()):(E.removeItem("se"),Dc(),a&&w.i(H(36)))}function f(a){Ub("autowin",~~a.target.checked,0)}var h=0,m=8;return{CONFIG:function(h,g){Oc.style.display="none";d();var k;k="<div id=paneDisp style='font-size:125%;pointer-events:none;'>　</div><hr><div id=panes style='height:12em;'>"+("<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+
H(11)+"</span><span class=bth>"+H(14)+":</span><div class=select-wrapper><button name=sco></button></div><br>"+C(H(16))+"<br><br><input class=checkboxt type=checkbox id=cfgSelShowID /><label class=bth for=cfgSelShowID>"+H(17)+"</label><br>"+C(H(18))+"<br></div>");k+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+H(12)+"</span><span class=bth>"+H(19)+":</span><div class=select-wrapper><button name=cpt></button></div><br>"+C(H(21))+"<br><br><span class=bth>"+
H(22)+":</span><div class=select-wrapper><button name=dtp></button></div><br>"+C(H(23))+"<br></div>";k+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+H(12)+"</span><span class=bth>"+H(26)+":</span><div class=select-wrapper><button name=lth></button></div><br>"+C(H(27))+"<br><br><br><span class=bth>"+H(24)+":</span><div class=select-wrapper><button name=yam></button></div><br></div>";k+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+
H(13)+"</span><br><input class=checkboxt type=checkbox id=cfgDefaultSE /><label class=bth for=cfgDefaultSE>"+H(29)+"</label> <div class=select-wrapper><button name=sevol></button></div><br><br><div id=cfgUseDefaultSE0>"+H(30)+"<input name=cfgSE style='width:100%;font-size:125%;'/><br></div></div>";k+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+H(31)+"</span><br><input class=checkboxt type=checkbox id=cfgUseDefaultIMG /><label class=bth for=cfgUseDefaultIMG>"+
H(32)+"</label><br><br><div id=cfgUseDefaultIMG1><div class=select-wrapper><button name=iH style='width:4em;'></button></div><div class=select-wrapper><button name=iS style='width:4em;'></button></div><div class=select-wrapper><button name=iV style='width:4em;'></button></div><br></div><div id=cfgUseDefaultIMG0>"+H(33)+":"+C("(.jpg|.png|.gif)")+"<input name=cfgBGIMG style='width:100%;font-size:125%;'/><br></div></div>";k+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+
H(37)+"</span><br><br><div class=bth>"+H(38)+":</div><div class=select-wrapper><button name=hR style='width:4em;'></button></div><div class=select-wrapper><button name=hG style='width:4em;'></button></div><div class=select-wrapper><button name=hB style='width:4em;'></button></div><br>"+C(H(35))+"<br></div>";k+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+H(42)+"</span><br><input class=checkboxt type=checkbox id=cfgDefaultAutoWin /><label class=bth for=cfgDefaultAutoWin>"+
H(43)+"</label> <br><br></div>";g.innerHTML=k+"</div><hr><button name=cfgPrev class=ra1 style='width:33%;'>&laquo;</button><button name=cfgNext class=ra2 style='width:33%;'>&raquo;</button><button name=cfgClose style='width:34%;'>CLOSE</button>";Kc(g);Z.cfgSelShowID.checked=!!E.hideid;Z.sco.disabled=!ob;Wa(Z.cfgSE,"change",e);Wa(Z.cfgBGIMG,"change",x["#iV"]);Wa(Z.cfgSelShowID,"change",c);Wa(Z.cfgDefaultSE,"change",a);Wa(Z.cfgDefaultAutoWin,"change",f);Wa(Z.cfgUseDefaultIMG,"change",x["#iV"]);E.se?
Z.cfgSE.value=E.se:Z.cfgDefaultSE.checked=!0;Jb(E.backgroundImage)?Z.cfgBGIMG.value=E.backgroundImage:Z.cfgUseDefaultIMG.checked=!0;Z.cfgDefaultAutoWin.checked=!!E.autowin;x["#sco"]();x["#yam"]();x["#sevol"]();x["#cpt"]();x["#hB"]();x["#iV"]();x["#dtp"]();x["#lth"]();b(0);a()},hB:function(a){for(var c="iH"==a.name?36:16,b=~~Z[a.name].innerText.substr(2),d="",f=0;f<c;++f)d+="<div class='A"+(f==b?" _selected_":"")+"' id='#"+a.name+"-"+f+"'>"+f+(f==Hc[a.name]?"<div class=desc>(default)</div>":"")+"</div>";
w.$(d,"",0)},"#iV":function(a,c){var b=E.backgroundImage,d=rb(3,10*Hc.iH)+rb(3,10*Hc.iS)+rb(3,10*Hc.iV),f=b&&b.match(/^\d{9}$/)?b:d,g=~~f.substr(0,3),e=~~f.substr(3,3),h=~~f.substr(6,3);if(Z.cfgUseDefaultIMG.checked){Z.cfgUseDefaultIMG0.style.display="none";Z.cfgUseDefaultIMG1.style.display="";if(a)switch(f=10*~~c,a){case "#iH":g=f;break;case "#iS":e=f;break;case "#iV":h=f}f=rb(3,g)+rb(3,e)+rb(3,h);Ub("backgroundImage",f,d)}else Z.cfgUseDefaultIMG0.style.display="",Z.cfgUseDefaultIMG1.style.display=
"none",(d=Z.cfgBGIMG.value)?Jb(d)?E.backgroundImage=d:a&&a.target==Z.cfgBGIMG&&w.i(H(36)):E.removeItem("backgroundImage");b!=E.backgroundImage&&Vb();Z.iH.innerHTML=C("H:")+~~(g/10);Z.iS.innerHTML=C("S:")+~~(e/10);Z.iV.innerHTML=C("V:")+~~(h/10)},"#hB":function(a,c){var b=E.msk,d=b||"000000",f=parseInt(d.substr(0,2),16),g=parseInt(d.substr(2,2),16),e=parseInt(d.substr(4,2),16);if(a)switch(d=17*~~c,a){case "#hR":f=d;break;case "#hG":g=d;break;case "#hB":e=d}d=rb(2,f.toString(16))+rb(2,g.toString(16))+
rb(2,e.toString(16));Ub("msk",d,"000000");Z.hR.innerHTML=C("R:")+~~(f/17);Z.hG.innerHTML=C("G:")+~~(g/17);Z.hB.innerHTML=C("B:")+~~(e/17);b!=E.msk&&Vb()},sco:function(){w.$("<div class=A id='#sco-0'>"+H(15)[0]+"</div><div class=A id='#sco-1'>"+H(15)[1]+"</div><div class=A id='#sco-2'>"+H(15)[2]+"</div>","",0)},"#sco":function(a,c){var b=E.scro,b=~~(a?c:b);Ub("scro",b,0);ob&&p.screen.orientation.lock&&p.screen.orientation.lock(1==b?"portrait":2==b?"landscape":"any");Z.sco.innerHTML=H(15)[b]},yam:function(){w.$("<div class=A id='#yam-0'>"+
H(25)[0]+"</div><div class=A id='#yam-1'>"+H(25)[1]+"</div><div class=A id='#yam-2'>"+H(25)[2]+"</div>","",0)},"#yam":function(a,c){var b=E.yama,f=~~(a?c:b);Ub("yama",f,0);Z.yam.innerHTML=H(25)[f];b!=f&&d()},sevol:function(a){for(var c="",b=~~(E.sevol||5),d=0;10>=d;++d)c+="<div class='A"+(d==b?" _selected_":"")+"' id='#"+a.name+"-"+d+"'>"+d+(0==d?"<div class=desc>(off)</div>":5==d?"<div class=desc>(default)</div>":"")+"</div>";w.$(c,"",0)},"#sevol":function(a,c){var b=~~(E.sevol||5),b=~~(a?c:b);Ub("sevol",
b,5);Z.sevol.innerHTML=H(28)+":"+b;Cc();arguments.length&&(console.log(m),Pb(m,0,0),m=(m+1)%25,0!=m&&2!=m||m++)},cpt:function(){w.$("<div class=A id='#cpt-0'>"+H(20)[0]+"</div><div class=A id='#cpt-1'>"+H(20)[1]+"</div><div class=A id='#cpt-2'>"+H(20)[2]+"</div>","",0)},"#cpt":function(a,c){var b=~~(a?c:E.cptype);Ub("cptype",b,0);S.L();Z.cpt.innerHTML=H(20)[b]},dtp:function(){w.$("<div class=A id='#dtp-0'>"+H(25)[0]+"</div><div class=A id='#dtp-1'>"+H(25)[1]+"</div><div class=A id='#dtp-2'>"+H(25)[2]+
"</div>","",0)},"#dtp":function(a,c){var b=E.desktop;3==b&&(b=0);var f=~~(a?c:b);Z.dtp.innerHTML=H(25)[f];0==f&&Gb&&(f=3);Ub("desktop",f,0);b!=f&&d()},lth:function(){w.$("<div class=A id='#lth-0'>"+H(25)[0]+"</div><div class=A id='#lth-1'>"+H(25)[1]+"</div><div class=A id='#lth-2'>"+H(25)[2]+"</div>","",0)},"#lth":function(a,c){var b=E.lthai,f=~~(a?c:b);Ub("lthai",f,0);Z.lth.innerHTML=H(25)[f];b!=f&&d()},cfgPrev:function(){b(-1)},cfgNext:function(){b(1)},cfgClose:function(){x.i({tag:"AUTOLOGIN"})}}}());
x["#iH"]=x["#iS"]=x["#iV"];x.iH=x.iS=x.iV=x.hR=x.hG=x.hB;x["#hR"]=x["#hG"]=x["#hB"];bb(x,function(){function b(){for(var a=[],c=~~E.lognext,b=0;40>b;++b){var d=(c+40-1-b)%40;try{a.push(JSON.parse(E["log"+d]))}catch(m){}}return a}function d(a,c){for(var b=0;b<c.length;++b){var d=c[b],e="<div style='position:absolute;width:100%;height:100%;padding:0.2em 0.5em;pointer-events:none;'>",l="javascript:void(0)",e=e+"<table cellpadding=0 cellspacing=0 width=100% height=100%><tr>",e=e+("<td rowspan=3 class=gray width=6% >"+(b+1)+".</td>");if(d){var l="https://tenhou.net/0/?log="+d.log+"&tw="+
(4-~~d.oya)%4,e=e+"<td colspan=2>",e=e+(C(H(200)+" | ")+d.log.substr(4,2)+"/"+d.log.substr(6,2)+C(" | ")),e=e+Ia(d.type),g=d.lobby;g&&(e+=" "+(1E4>g?"L":"C")+rb(4,g));var e=e+"</td>",e=e+"</tr><tr>",g=d.uname,k=~~d.oya;if(d=d.sc){for(var d=d.split(","),n=0;n<d.length;++n)d[n]=Number(d[n]);for(n=0;4>n;++n)e+="<td width=47% >",g[n]&&(e=n?e+("ABCD".substr((n+4-k)%4,1)+":"):e+(0+~~(g[1]&&d[3]>d[1])+~~(g[2]&&d[5]>d[1])+~~(g[3]&&d[7]>d[1])+1+"位 "),e+=ib(g[n])+"("+sb(d[2*n+1].toFixed(1))+")"),e+="</td>",
1==n&&(e+="</tr><tr>")}else if(g)for(n=0;4>n;++n)e+="<td width=47% >"+ib(g[n])+"</td>",1==n&&(e+="</tr><tr>")}e+="</tr></table>";e+="</div>";e+="<a href='"+l+"' class=bt3 target=_blank></a>";u("DIV",a,"",{innerHTML:e},{height:"3.4em",position:"relative",textAlign:"left"}).childNodes[1].onclick=x.logOpen}u("DIV",a,"gray",{innerHTML:H(201)},{fontSize:"75%",align:"left",padding:"1em 0 6em 0"})}function c(a,c){var b=c.split("\n");b[e-1]||b.pop();for(var e=0;e<b.length;++e){var m=b[e].split(" "),l=m[0],
g=~~m[1];b[e]={type:parseInt(l.split("-")[1],16),lobby:~~l.split("-")[2],log:l,oya:(4-g)%4,uname:[m[2+(0+g)%4],m[2+(1+g)%4],m[2+(2+g)%4],m[2+(3+g)%4]],sc:[0,m[6+(0+g)%4],0,m[6+(1+g)%4],0,m[6+(2+g)%4],0,m[6+(3+g)%4]].join()}}a.innerHTML="";e=u("DIV",a,"",{innerHTML:"<a class=bt3 href='https://tenhou.net/mjlog.html' target=_blank style='padding:1em 0;'>"+H(204)+"</a>"},{textAlign:"center"});e.childNodes[0].onclick=function(){x.pc(a);return!1};e=u("DIV",a,"bt3",{innerHTML:H(203)},{textAlign:"center",
padding:"0.5em 0"});d(a,b.reverse())}return{pc:function(a){a.innerHTML="";var e=u("DIV",a,"select-wrapper",{innerHTML:"<button name=exana style='height:1.75em;'>Analyze/AI</button>"},{"float":"right"}),e=u("DIV",a,"",{innerHTML:"<a class=bt3 href='https://tenhou.net/mjlog.html' target=_blank style='padding:1em 0;'>"+H(202)+"</a>"},{textAlign:"center"});e.childNodes[0].onclick=function(){a.innerHTML="<br>L O A D I N G ...";lb("https://tenhou.net/0/log/find.cgi?un="+E.uname+"&raw=1",function(b){c(a,
b)},function(){alert("DOWNLOAD ERROR")});return!1};d(a,b())},logOpen:function(a){if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey)&&(a=a.target,a=a.href.split(/\?log=|&tw=/),1!=a.length))return r.log=a[1],r.TW=r.tw=~~a[2],r.ts=0,t.oa(11),!1},exana:function(a){w.$("<div class='A' id='#"+a.name+"-0'>NAGA<div class=desc>© 2021 DWANGO Co., Ltd.</div></div><div class='A' id='#"+a.name+"-1'>Custom URL</div>","",0)},"#exana":function(a,c){function d(a){for(var c=b(),d=[],f=0;f<c.length;++f)d.push(c[f].log+
"%25tw="+(4-~~c[f].oya)%4);p.open(a+"?lang="+pb.Va()+"&tenhou="+d.join(","),ob?"_system":"_blank")}0==c?d("https://naga.dmv.nico/naga_report/order_form/"):1==c&&w.i("Analyzer URL:<input type=text size=22 value='https://' style='font-size:100%;margin:0.25em'/><br>",3,function(a){a=a.getElementsByTagName("INPUT")[0];d(a.value);return!0})}}}());bb(x,function(){function b(){Z.wgF0.innerText=e&2?"四":e&4?"三":"－";Z.wgF1.innerText=e&8?"東":e&16?"南":"－";Z.wgF2.innerText=e&32?"雀":e&64?"特":e&128?"鳳":"－"}function d(){var b=Z.klist;b.innerHTML="";var d=0;if(a)for(var m=0;m<a.length;++m){var l="<div style='position:absolute;width:100%;height:100%;padding:0.2em 0.5em;pointer-events:none;'>",l=l+"<table cellpadding=0 cellspacing=0 width=100% height=100%>",l=l+("<tr><td rowspan=3 class=gray width=6%>"+
(d+1)+".</td>"),g,k=a[m],n=~~k[3];if(e&6){if(~n&16&&~e&2)continue;if(n&16&&~e&4)continue}if(e&24){if(~n&8&&~e&8)continue;if(n&8&&~e&16)continue}if(e&224&&0==c){if(0!=(n&1536)&&~e&32)continue;if(!(n&3584)&&2==Ca(n)&&~e&64)continue;if(!(n&3584)&&3==Ca(n)&&~e&128)continue}g="https://tenhou.net/0/?wg="+k[0];for(var v=[k[4],k[7],k[10],k[13]],z=0;4>z;++z)v[z]&&(v[z]=decodeURIComponent(escape(atob(v[z]))));for(var B=[~~k[5],~~k[8],~~k[11],~~k[14]],y=[~~k[6],~~k[9],~~k[12],~~k[15]],l=l+("<td colspan=2>"+
C(H(210)+" | ")+k[2]+C(" | ")+Ia(n)+"</td></tr><tr>"),z=0;4>z;++z)v[z]&&(l+="<td width=47%>",l+="<span class=dan"+B[z]+">"+ra[B[z]]+"</span>"+C("R")+y[z]+C("/")+v[z],l+="</td>",1==z&&(l+="</tr><tr>"));l+="</tr></table>";l+="</div>";l+="<a href='"+g+"' class=bt3 target=_blank></a>";u("DIV",b,"",{innerHTML:l},{height:"3.4em",position:"relative",textAlign:"left"}).childNodes[1].onclick=x.wgOpen;++d}d||(b.innerHTML="<br>"+H(211));u("DIV",b,"gray",{innerHTML:H(212)},{fontSize:"75%",align:"left",padding:"1em 0 6em 0"})}
var c,a,e=128;return{dd:function(f){c=f;lb("https://mjv.jp/0/wg/"+(1E4>c?rb(4,c):c)+".js",function(c){if(a=c.substr(3,c.length-3-2))try{a=JSON.parse(a)}catch(m){return}if(a)for(c=0;c<a.length;++c)a[c]=a[c].split(",");d()});d();b();Z.wgF2.style.display=0==c?"":"none"},wgF0:function(){e=e&-7|(e&2?4:e&4?0:2);b();d()},wgF1:function(){e=e&-25|(e&8?16:e&16?0:8);b();d()},wgF2:function(){e=e&-225|(e&32?64:e&64?128:e&128?0:32);b();d()},wgOpen:function(a){if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey))return a=
a.target,r.wg=a.href.split("?wg=")[1],r.TW=r.tw=0,t.oa(11),!1}}}());var Pc=p.oemLoginEmail?[4353,4361,4377]:[1,65,9,73,17,81,25,89,129,193,137,201,145,209,153,217,33,97,41,105,49,113,57,121,161,225,169,233,177,241,185,249,1057,545,1569,1065,553,1577,1585,1593],Qc=[7,3,15,11,135,131,143,139,39,35,47,43,167,163,175,171];
bb(x,function(){function b(a){function c(a){return a.replace(RegExp("[^ⒶⒷⒸⒹⒺⒻⒼⒽⒾⒿⓀⓁⓂⓃⓄⓅⓆⓇⓈⓉⓊⓋⓌⓍⓎⓏⓐⓑⓒⓓⓔⓕⓖⓗⓘⓙⓚⓛⓜⓝⓞⓟⓠⓡⓢⓣⓤⓥⓦⓧⓨⓩ]","g"),"")}var b=x[0];return(a=c(a))&&a!=c(b)}function d(){return(""+(E.rule||"")).split(",")}function c(){function a(a,
c){var d=b[a].childNodes[1];d.className="";d.innerHTML=c}function c(c,b,d){a(c,b==d?"1.00":(b/d).toFixed(3).substr(1))}if(Z.pftab){Z.pftab.style.display="none";Z.pftab_.style.display="";for(var b=Z.pftab.getElementsByTagName("TR"),f=1;f<b.length;++f)if(!(2>b[f].childNodes.length)){var e=b[f];e.style.borderBottom="1px solid #444";e=b[f].childNodes[0];e.className="gray";e.style.textAlign="left";e=b[f].childNodes[1];e.innerHTML="-";e.className="gray";e.style.textAlign="right"}b[16].childNodes[0].innerHTML=
"";if(f=~~d()[4]){var g,e=4,h=0,n="";switch(K(U,f)){case 4:e=4;h=0;g=x[17];n=H(240);break;case 3:e=3;h=0;g=x[16];n=H(241);break;case 601:e=4;h=0;g=x[18];break;case 602:e=4;h=2;g=x[19];break;case 603:e=4;h=5;g=x[20];break;case 611:e=4;h=0;g=x[21];break;case 612:e=4;h=2;g=x[22];break;case 613:e=4;h=5;g=x[23];break;case 623:e=3;h=5;g=x[24];break;case 633:e=3;h=5;g=x[25];break;case 2004:e=4;h=0;g=x[33];break;case 2003:e=3,h=0,g=x[32]}b[16].childNodes[0].innerHTML=n;g&&(Z.pftab.style.display="",Z.pftab_.style.display=
"none",n=~~g[4]+~~g[5]+~~g[6]+~~g[7])&&(c(1,g[4],n),c(2,g[5],n),c(3,g[6],n),4==e&&c(4,g[7],n),c(5,g[8],n),a(6,n),a(7,(0<g[3]?"+":"")+(g[3]/n).toFixed(1)),a(8,((1*~~g[4]+2*~~g[5]+3*~~g[6]+4*~~g[7])/n).toFixed(2)),0!=(f&1536)&&(f=1*g[3]+g[0]*h,a(9,(0<f?"+":"")+(f/n).toFixed(1)),a(10,(~~g[0]/n).toFixed(2))),c(11,g[10],g[9]),c(12,g[11],g[9]),c(13,g[12],g[9]),c(14,g[13],g[9]),a(15,~~g[2]))}}}function a(a){function c(a){for(var c,b=1;b<arguments.length;++b)c=g[a].childNodes[b],c.className="",c.innerHTML=
arguments[b]}function b(a,b,d){c(a,b,(d?d:"- ")+C(pb.Ca(d)))}function f(a,b,d,f){c(a,b==d?"1.00":(b/d).toFixed(3).substr(1),(f?f:"- ")+C(pb.Ca(f)))}var e=Z.rnktab;if(e){Z.rnktab.style.display="none";Z.rnktab_.style.display="";for(var g=e.getElementsByTagName("TR"),h=1;h<g.length;++h){var e=g[h],n=e.childNodes;if(!(2>n.length)){16!=h&&18!=h&&(e.style.borderBottom="solid 1px #444");n[0].style.textAlign="left";n[0].className="gray";for(var k=1;k<n.length;++k)e=n[k],e.className="gray",e.style.textAlign=
"right",e.style.paddingLeft="0.5em",1!=h&&6!=h&&(e.innerHTML="-")}}c(18,C("-"));e=~~d()[3];Y.Sa!=e&&(Y.Sa=e,Y.J('<PXR V="'+e+'" />'));if(e&&(Z.rnktab.style.display="",Z.rnktab_.style.display="none",a&&(a=a.v2.split(","),15==a.length||21==a.length))){var h=~~a[0],n=~~a[1],k=~~a[2],m=~~a[3],l=h+n+k+m,v=a[4],G=1500;switch(K(U,e)){case 4:G=x[17][2];break;case 3:G=x[16][2];break;case 601:G=x[18][2];break;case 602:G=x[19][2];break;case 603:G=x[20][2];break;case 611:G=x[21][2];break;case 612:G=x[22][2];
break;case 613:G=x[23][2];break;case 623:G=x[24][2];break;case 633:G=x[25][2];break;case 2004:G=x[33][2];break;case 2003:G=x[32][2]}var B=~~a[6],Q=~~a[7],y=~~a[8],D=~~a[9],z=~~a[10],ja=~~a[11],L=~~a[12],ca=~~a[13],ba=~~a[14];if(l){var ya=e&16?30*h+0*n+-30*k:30*h+10*n+-10*k+-30*m,ta=e&16?1*h+2*n+3*k:1*h+2*n+3*k+4*m,va=h+n,Aa=e&16?k:m;b(2,sb(v),Q);b(7,sb((v/l).toFixed(1)),y);b(3,sb(ya),D);b(8,(ta/l).toFixed(2),z);f(11,h,l,ja);~e&16&&f(12,va,l,L);f(13,Aa,l,ca)}if(21==a.length){var v=a[15],ja=a[16],ua=
~~a[17],za=~~a[18],L=~~a[19],ca=~~a[20];b(4,sb(v),ua);b(9,sb((v/l).toFixed(1)),za);b(5,sb(ja),L);b(10,sb((ja/l).toFixed(2)),ca)}v="-";15==a.length&&y&&(v=Q+y+D+z);21==a.length&&za&&(v=ua+za);b(15,~~G,ba);b(16,v,B);c(18,h+C(" + ")+n+C(" + ")+k+(e&16?"":C(" + ")+m)+C(" = ")+l)}}}function e(a,c){if(a){var b=L[c].bb,d="",d=d+(b&8?"東南":"東風"),d=d+(b&16?"サンマ":"戦"),d=d+" ",d=d+(b&4?"喰ナシ":"喰あり"),d=d+(b&2?"赤ナシ":"赤あり"),
d=d+" ";Ba(U,b)&&(d+="速");b&256&&(d+="暗");b&512&&(d+="祝");var f="",e=H(256),g="-",h=L[c].dc;3==h?(f=H(259),e=H(257)):5==h&&(f=H(260),e=H(258));lb("//b7.mjv.jp/mjranking?lobby="+U+"&rule="+b+"&gspan="+h+"&un="+encodeURIComponent(x[0]),function(b){try{var n=JSON.parse(b)}catch(Da){}var m=b="- -",l=["-"];if(n&&n.sc)for(var l=n.sc,v=0;v<l.length;++v)l[v]=sb(Number(l[v]).toFixed(1));n&&n.rank&&(b=Math.max(1,n.rank[0]),m=n.rank[2],l.length==h&&(g=sb(Number(n.max).toFixed(1))));var v="nrank1434"+
c,G=wb.querySelector("."+v),B=G?~~G.innerText:"-";b="<span class="+v+">"+b+"</span>"+pb.Ca(b);l.length&&l.length<h&&(b=C("("+b+")"));b+=C("<span style='font-size:50%;'> /"+m+"</span>");m=""+("<table cellpadding=0 cellspacing=0 style='margin:0 auto;text-align:left;'><tr><td><table cellpadding=0 cellspacing=0><tr><td colspan=3>"+C(H(251)+"JST")+"<br></td></tr><tr><td>"+C(H(252))+"</td><td>&nbsp;</td><td>"+(n?k(n.ts):"")+"</td></tr><td>"+C(H(253))+"</td><td></td><td>"+(n?k(n.te):"")+"</td></tr></td></tr></table></td><td style='padding:0 0 0 1em;'><table cellpadding=0 cellspacing=0><tr><td>"+
C(H(254))+"<br>"+d+"</td></tr><tr><td style='padding-top:0.25em;'>"+C(H(266))+" なし<br></td></tr></table></td></tr></table>");m+=C(H(255))+e+"<br>";m=m+("<div style='display:inline-block;font-size:300%;padding:0.1em 0;'>"+b+"</div>　")+("<div style='display:inline-block;'>"+C(H(261))+"<br>"+g+"</div><br>");m+=C(f)+l.join(" ")+"<br>";a.innerHTML=m;if(n&&n.rank&&B!=n.rank[0]&&(G=wb.querySelector("."+v))){G.style.opacity=0;G.innerText=~~G.innerText+50;var Q=function(){var a=Number(G.style.opacity)+
.02;G.style.opacity=1<a?1:a;G.innerText=~~G.innerText-1;1>a&&setTimeout(Q,20)};Q()}})}}function f(){e(wb.getElementById("a25"),0);e(wb.getElementById("a26"),1);ua&&(clearTimeout(ua),ua=void 0);ua=setTimeout(f,6E4)}function h(){var a=wb.getElementById("plist");a&&mb(function(){function c(a,c,g){return(e&&0==a%e?"</tr><tr>":"")+"<td style='"+(4>=b.length?"text-align:left;":"")+(12>=b.length||1>a/e?"":"padding-top:0.4em;")+(4>=b.length&&a%e?"padding-left:1em;'":"")+"'><div style='position:relative;display:inline-block;overflow:hidden;width:"+
d+"rem;height:"+d+"rem;border-radius:10%;border:0.08rem solid #444;vertical-align:middle;font-size:"+d/10+"rem;'><img src='https://cdn.tenhou.net/3/ron2/res/240x240/_"+(kb(c)?hb(c).replace(/%/g,""):"")+".jpg' style='height:100%;'/>"+(!c||4>=b.length?"":"<div class=ts1 style='position:absolute;width:100%;padding:"+d/10*.15+"rem 0 0 0;bottom:0;background:rgba(0,0,0,0.8);text-align:center;'>"+c+"</div><div class=ts1 style='position:absolute;width:100%;padding:"+d/10*.15+"rem "+d/10*.5+"rem;top:0;background:rgba(0,0,0,0.5);'>"+
g+"</div>")+"</div>"+(4>=b.length?"<div class=ts1 style='display:inline-block;font-size:"+f+"rem;vertical-align:middle;'>"+c+(c?"<br>":"")+g+"</div>":"")+"</td>"}var b=(this.response||"").split(/\r?\n/).map(function(a){return gb(a)}).filter(function(a){return kb(a)}),d=10>=b.length?6:5.1,f=2>=b.length?1.2:4>=b.length?1:d/9,e=4>=b.length?2:12>=b.length?b.length+1>>1:6,g;g=""+("<table cellpadding=0 cellspacing=0 style='"+(4>=b.length?"margin:auto;":"width:100%;")+"height:100%;'><tr>");for(var n=0;n<
b.length;++n)g+=c(n,b[n].slice(0,-2),"G"==b[n].slice(-1)?"対戦中":C("待機中"));for(var k=Math.max(1,Math.ceil(b.length/e));n<e*k;++n)g+=c(n,"",C("準備中"));a.innerHTML=g+"</tr></table>";ta&&(clearTimeout(ta),ta=void 0);ta=setTimeout(h,6E4)})}function m(){if(M[4096]&&M[4096].complete&&M[4196]&&M[4196].complete&&M[4296]&&M[4296].complete&&M[4396]&&M[4396].complete&&M[4496]&&M[4496].complete)return!0;w.i(H(215));return!1}function l(a){var c=Z.panes.childNodes,b=c.length;
Aa=(Aa-1+a+b-1)%(b-1)+1;for(a=1;a<b;++a)c[a].style.display=a==Aa?"":"none";Z.paneDisp.innerHTML=c[Aa].firstChild.innerHTML;Z.panePrev.innerHTML=2>Aa?"&laquo;":"　";Z.paneNext.innerHTML=2>Aa?"&raquo;":"　";Z.hdr.style.display=c[Aa].classList.contains("nohdr")?"none":"";c=c[Aa].classList;c.contains("init_tlist")&&(c.remove("init_tlist"),x.wc(Z.tlist));c.contains("init_hlist")&&(c.remove("init_hlist"),x.pc(Z.hlist));c.contains("init_klist")&&(c.remove("init_klist"),x.dd(U))}function g(a){return(new Date(a.substr(0,
4),a.substr(4,2)-1,a.substr(6,2),a.substr(8,2),a.substr(10,2),a.substr(12,2))).getTime()}function k(a){return a.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)/,function(a,c,b,d,f,e){return c+"."+b+"."+d+"("+H(250)[(new Date(c,b-1,d)).getDay()]+") "+f+":"+e})}function n(){var a=x[1];Z.expdisp.innerHTML=C(H(218)+":")+(a?a.replace(/(\d\d\d\d)(\d\d)(\d\d)/,"$1.$2.$3"):"- - - -")}function v(a){var c=~~a.players,b=~~a.premiumonly,d=~~a.joinfee,f=a.rule,e=parseInt(f[2],16),g;g=""+(e&8?"東南":"東風")+
(e&16?"サンマ":"戦")+" "+(e&4?"喰ナシ":"喰あり")+(e&2?"赤ナシ":"赤あり")+" ";Ba(U,e)&&(g+="速");e&256&&(g+="暗");e&512&&(g+="祝");var h="",n=~~f[3],m=~~f[4],l=~~f[5],v=~~f[6];a.Fa=!!a.join;if(a.Fa){var G=(e&16?x[16]:x[17])[0];n&&m?a.Fa=n<=G&&G<=m:n?a.Fa=n<=G:m&&(a.Fa=G<=m)}a.Fa&&(e=(e&16?x[16]:x[17])[2],l&&v?a.Fa=l<=e&&e<=v:l?a.Fa=l<=e:v&&(a.Fa=e<=v));n&&m&&n==m?h+=ra[n]+"限定":n&&m?h+=ra[n]+"～"+ra[m]:n?h+=ra[n]+
"以上":m&&(h+=ra[m]+"以下");h.length&&(l||v)&&(h+=" & ");l&&v?h+="R"+l+"～R"+v:l?h+="R"+l+"以上":v&&(h+="R"+v+"以下");h.length||(h+="段位R指定なし");h+="<br>";h=d?h+"だれでもOK":b?h+(c?"固定 "+c+" 名(有効期限3日以上)":"有効期限3日以上"):h+(c?"固定 "+c+" 名":"だれでもOK");c=d?"有効期限"+d+"日分":c?"- - -":
b?"なし":"無料";return""+("<div style='font-size:150%;padding-top:0.25em;'>"+gb(a.title)+"</div><hr><table cellpadding=0 cellspacing=0 style='margin:0 auto;text-align:left;'><tr><td><table cellpadding=0 cellspacing=0><tr><td colspan=3>"+C(H(251)+"JST")+"<br></td></tr><tr><td>"+C(H(252))+"</td><td>&nbsp;</td><td>"+k(f[0])+"</td></tr><td>"+C(H(253))+"</td><td></td><td>"+k(f[1])+"</td></tr></td></tr><tr><td colspan=3 style='padding-top:0.25em;'>"+C(H(254))+"<br>"+g+"</td></tr></table></td><td style='padding:0 0 0 1em;'><table cellpadding=0 cellspacing=0><tr><td>"+
C(H(266))+"<br>"+c+"<br></td></tr><tr><td style='padding-top:0.25em;'>"+C(H(267))+"<br>"+h+"</td></tr></table></td></tr></table>")}function z(a,c){var b=c.rankingcs.split(","),d="",f=H(256),e=H(263),g="",h="-",n=[],m="- -";b[0]=b[0]||a.ranking;if("sc3m"==b[0]||"sc3c0m"==b[0]||"sc3c2m"==b[0]||"sc3c5m"==b[0])f=H(257),"sc3c2m"==b[0]&&(e=H(264)),"sc3c5m"==b[0]&&(e=H(265)),g=H(259),b[8]&&(m=b[8]),b[6]&&(h=sb(Number(b[6]).toFixed(1))),b[3]&&n.push(sb(Number(b[3]).toFixed(1))),b[2]&&n.push(sb(Number(b[2]).toFixed(1))),
b[1]&&n.push(sb(Number(b[1]).toFixed(1))),n.length&&n.push("= "+sb((1*b[1]+1*b[2]+1*b[3]).toFixed(1)));else if("sc5m"==b[0]||"sc5c0m"==b[0]||"sc5c2m"==b[0]||"sc5c5m"==b[0])f=H(258),"sc5c2m"==b[0]&&(e=H(264)),"sc5c5m"==b[0]&&(e=H(265)),g=H(260),b[9]&&(m=b[9]),b[7]&&(h=sb(Number(b[7]).toFixed(1))),b[5]&&n.push(sb(Number(b[5]).toFixed(1))),b[4]&&n.push(sb(Number(b[4]).toFixed(1))),b[3]&&n.push(sb(Number(b[3]).toFixed(1))),b[2]&&n.push(sb(Number(b[2]).toFixed(1))),b[1]&&n.push(sb(Number(b[1]).toFixed(1))),
n.length&&n.push("= "+sb((1*b[1]+1*b[2]+1*b[3]+1*b[4]+1*b[5]).toFixed(1)));n=n.length?n.join(" "):"--";d+="<div style='display:inline-block;text-align:left;'>"+C(H(255))+"　"+f+"<br>"+C(H(261))+"　"+h+"　"+C(H(262))+"　"+e+"</div>";d+="<div style='font-size:375%;padding:0.1em 0;'>"+m+pb.Ca(m)+"</div>";return d+=C(g)+" "+n+"<br>"}function B(){va=void 0;Z.joincs0&&Y.J("<DATE />")}function y(a){return"<div style='margin:0.5em 0;'><div class=select-wrapper><button name=rule id=rule"+a+
" style='width:11.5em;text-align:left;'></button></div><button name=join id=join"+a+" disabled>"+H(216)+"</button></div>"}function K(a,b){if(1==a)return b&16?2003:2004;if(0!=(b&1536))switch(b){case 1057:return 601;case 545:return 602;case 1569:return 603;case 1065:return 611;case 553:return 612;case 1577:return 613;case 1585:return 623;case 1593:return 633}else return b&16?3:4}function G(a){return a?(Ia(a)+"　　　").substr(0,6)+"&nbsp;&nbsp;"+ca[a]:"SELECT GAME"}function D(a){return a.replace(/,/g,
"</td><td>").replace(/\|/g,"</td></tr><tr><td>").replace(/>\(/g,"><table cellpadding=0 cellspacing=0 width=100% style='border-collapse:collapse;'><tr><td>").replace(/\)</g,"</td></tr></table><")}function ja(){x["#rule0"]();for(var a=0;3>a;++a)Z["lnj"+a]&&(Z["lnj"+a].innerText=~~ca.Pa[0]),Z["lng"+a]&&(Z["lng"+a].innerText=~~ca.Oa[0]);for(a=0;a<Va.length;++a){var b=Va[a];L[0].bb==b&&(Z.ev0lnj&&(Z.ev0lnj.innerText=~~ca.Pa[a]),Z.ev0lng&&(Z.ev0lng.innerText=~~ca.Oa[a]));L[1].bb==b&&(Z.ev1lnj&&(Z.ev1lnj.innerText=
~~ca.Pa[a]),Z.ev1lng&&(Z.ev1lng.innerText=~~ca.Oa[a]))}}var U,ba,L=[{bb:257,dc:3},{bb:281,dc:5}],ca={n:[],Pa:[],Oa:[]},ya={},Aa=location.search.match(/^\?(C[0-9]{8})/)?2:1,ua,ta,va;return{Jb:function(){ya={};location.search.match(/^\?L([1-9][0-9]{3})/)?(Y.J({tag:"LOBBY",id:RegExp.$1}),U=~~RegExp.$1):location.search.match(/^\?(C[0-9]{8})/)?(U=~~("1"+RegExp.$1.substr(1,4)),Y.J({tag:"CS",lobby:RegExp.$1})):(U=0,p.oemLoginEmail&&(U=1),x.i({tag:"LOBBY"}))},LOBBY:function(b,d){Mc.style.display="none";Oc.style.display=
"";Oc.disabled=!1;Y.Sa=0;if(r.tr||r.tredit)return x.TRAINING({file:r.tr||r.tredit},d);var e;e="<div id=panes style='height:16em;'>"+("<div id=hdr><table cellpadding=0 cellspacing=0 style='width:100%;white-space:nowrap;text-align:right;'><tr><td><table cellpadding=0 cellspacing=0 style='width:100%;'><tr><td style='text-align:left;'>"+C(H(220)+":")+"<span id=lnn0>"+~~ca.n[0]+"</span> "+C(H(221)+":")+"<span id=lnn2>"+~~ca.n[2]+"</span> "+C(H(222)+":")+"<span id=lnn3>"+~~ca.n[3]+"</span> </td><td class=c11></td></tr><tr><td colspan=2> <span id=iddisp>"+
ib(x[0])+"</span>  <span id=expdisp></span> <span class=c12></span></td></tr></table></td><td rowspan=2 style='width:1px;padding-left:0.25em;' class=c10></td></tr></table><div style='display:none;'></div><hr></div>");e+="<div style='display:none;padding:1em 1em;'><span style='display:none;'>　</span><div id=lbinfo style='height:3em;'>"+C((ob?"":H(230))+" "+H(231))+"</div><br><div class=select-wrapper><button name=testplay>"+H(217)+"</button></div><br><br><br>"+C(H(232))+"</div>";p.oemLoginEmail&&
(e+="<div style='display:none;height:13rem;'><span style='display:none;'>プロ情報</span><div style='position:relative;height:100%;'><div class=sscl id=plist style='position:relative;height:100%;border:solid 1px #444;overflow-y:scroll;'></div><div class=sblink style='visibility:hidden;'>▼</div></div></div>");0<=U&&1E4>U&&(e+="<div style='display:none;padding:0.25em 0;'><span style='display:none;'>"+(1<U?"個室L"+rb(4,U):"対戦")+"</span>"+y(0)+y(1)+y(2)+"</div>");
1E4<=U&&2E4>U&&(e+="<div style='display:none;'><span style='display:none;'>大会C"+rb(4,U%1E4)+"</span><div id=csmain style='height:9em;'></div><span style='font-size:150%;padding:0 1em;'>"+C(H(268))+"<span id=lnj0>"+~~ca.Pa[0]+"</span>"+C(H(270))+" "+C(H(269))+"<span id=lng0>"+~~ca.Oa[0]+"</span>"+C(H(270))+"</span>",e+="<button name=join id=joincs0 disabled>　</button></div>");1E4<=U&&2E4>U&&(e+="<div style='display:none;'><span style='display:none;'>大会C"+rb(4,U%1E4)+"</span><div id=csranking style='height:9em;'></div><span style='font-size:150%;padding:0 1em;'>"+
C(H(268))+"<span id=lnj1>"+~~ca.Pa[0]+"</span>"+C(H(270))+" "+C(H(269))+"<span id=lng1>"+~~ca.Oa[0]+"</span>"+C(H(270))+"</span>",e+="<button name=join id=joincs1 disabled>　</button></div>");1<U&&(e+="<div style='display:none;'><span style='display:none;'>"+(1E4>U?"個室L":"大会C")+rb(4,U%1E4)+"</span><div style='height:8.5em;border:1px solid #444;text-align:left;margin-bottom:0.5em;position: relative;'><button name=chatInput style='font-size:100%;position:absolute;right:0;top:8.5em;'>&middot;&middot;&middot;</button><div id=chat style='height:100%;font-size:75%;overflow-y:scroll;user-select:text;'><div>#ENTER LOBBY "+
U+"</div></div></div>",1E4>U?e+=y(3):2E4>U&&(e+="<span style='font-size:150%;padding:0 1em;'>"+C(H(268))+"<span id=lnj2>"+~~ca.Pa[0]+"</span>"+C(H(270))+" "+C(H(269))+"<span id=lng2>"+~~ca.Oa[0]+"</span>"+C(H(270))+"</span><button name=join id=joincs2 disabled>　</button>"),e+="</div>");0==U&&(e+=D("<div style='display:none;'><span style='display:none;'>"+H(282)+"</span>"+y(3)+"<table cellpadding=0 cellspacing=0 id=rnktab style='margin:0 auto;'><tr><td valign=top style='min-width:10em;'>(,"+H(283)[0]+
","+H(283)[1]+"|"+H(283)[2]+",,|"+H(283)[3]+",,|"+H(283)[4]+",,|"+H(283)[5]+",,)</td><td style='width:0.5em;'></td><td valign=top style='min-width:7em;'>(,"+H(283)[6]+","+H(283)[7]+"|,,|,,|,,|,,)</td><td rowspan=2 style='width:1em;'></td><td rowspan=2 valign=top style='min-width:11em;'>("+H(283)[8]+",,|"+H(283)[9]+",,|"+H(283)[10]+",,|<div style='border-bottom:1px solid transparent;'>&nbsp;</div>|"+H(283)[12]+",,|"+H(283)[13]+",,)</td></tr><tr><td colspan=3 align=right style='padding:0;'><table cellpadding=0 cellspacing=0 style='border-collapse:collapse;'><tr><td style='padding-right:0.5em;'>"+
H(283)[14]+",</td></tr></table></tr></table><div id=rnktab_><br><br>"+C(H(280))+"</div></div>"));if(0==U||1==U)e+=D("<div style='display:none;'><span style='display:none;'>"+H(284)+"</span>"+y(4)+"<table cellpadding=0 cellspacing=0 id=pftab style='margin:0 auto;'><tr><td valign=top style='min-width:6.5em;'>("+H(285)[0]+",|"+H(285)[1]+",|"+H(285)[2]+",|"+H(285)[3]+",|"+H(285)[4]+",)</td><td style='width:1em;'></td><td valign=top style='min-width:8em;'>("+H(285)[5]+",|"+H(285)[6]+",|"+H(285)[7]+",|"+
H(285)[8]+",|"+H(285)[9]+",)</td><td style='width:1em;'></td><td valign=top style='min-width:6.5em;'>("+H(285)[10]+",|"+H(285)[11]+",|"+H(285)[12]+",|"+H(285)[13]+",|"+H(285)[14]+",)</td></tr><tr><td colspan=5 class=gray style='font-size:75%;padding:0.2em;'></td></tr></table><div id=pftab_><br><br>"+C(H(280))+"</div></div>");e+="<div class='nohdr init_hlist' style='display:none;height:100%;'><span style='display:none;'>"+H(200)+"</span><div style='position:relative;height:100%;'><div class=sscl id=hlist style='position:relative;height:100%;border:solid 1px #444;overflow-y:scroll;'></div><div class=sblink style='visibility:hidden;'>▼</div></div></div>";
e+="<div class='nohdr init_klist' style='display:none;height:100%;'><span style='display:none;'>"+H(210)+"</span><div style='position:relative;height:100%;'><div class=sscl id=klist style='position:relative;height:100%;border:solid 1px #444;overflow-y:scroll;'></div><div class=sblink style='visibility:hidden;'>▼</div><button name=wgF0 class='ra0 bgb' style='position:absolute;left:0em;bottom:0em;'>－</button><button name=wgF1 class='ra0 bgb' style='position:absolute;left:2em;bottom:0em;'>－</button><button name=wgF2 class='ra0 bgb' style='position:absolute;left:4em;bottom:0em;'>－</button></div></div>";
p.oemLoginEmail&&1==U&&(e+="<div class='nohdr' style='display:none;'><span style='display:none;'>イベント1</span><span style='font-size:150%;padding-top:0.25em;'>定期開催テスト1β</span><br><hr><div id=a25 style='height:9.5em;'></div><button id=detail disabled>詳細</button><span style='font-size:150%;padding:0 0.5em;'>"+C(H(268))+"<span id=ev0lnj>-</span>"+C(H(270))+" "+C(H(269))+"<span id=ev0lng>-</span>"+C(H(270))+"</span><button name=join id=a23>"+
H(216)+"</button></div>",e+="<div class='nohdr' style='display:none;'><span style='display:none;'>イベント2</span><span style='font-size:150%;padding-top:0.25em;'>定期開催テスト2β</span><br><hr><div id=a26 style='height:9.5em;'></div><button id=detail disabled>詳細</button><span style='font-size:150%;padding:0 0.5em;'>"+C(H(268))+"<span id=ev1lnj>-</span>"+C(H(270))+" "+C(H(269))+"<span id=ev1lng>-</span>"+C(H(270))+"</span><button name=join id=a24>"+
H(216)+"</button></div>");p.oemLoginEmail||(e+="<div class='nohdr init_tlist' style='display:none;height:100%;'><span style='display:none;'>Trainingβ</span><div style='position:relative;height:100%;'><div class=sscl id=tlist style='position:relative;height:100%;border:solid 1px #444;overflow-y:scroll;'></div><div class=sblink style='visibility:hidden;'>▼</div></div></div>");e=p.oemLoginEmail?e+("<div style='display:none;padding:2em 0'><span style='display:none;'>Tools</span> <button name=openurl>OpenURL</button> <button name=openmember>会員ページ</button><br><br><button name=purchase>"+
H(288)+"</button><br><br><div style='font-size:75%;'>"+C("Powered by tenhou.net")+"</div></div>"):e+("<div style='display:none;padding:2em 0'><span style='display:none;'>Tools</span> <button name=openurl>OpenURL</button> <button name=help>"+H(286)+"</button> <button name=hairi>"+H(287)+"</button><br><br><button name=purchase>"+H(288)+"</button><br></div>");Ab&&(e+="<div style='display:none;'><span style='display:none;'>Caution</span><div style='padding:1em 4em;'>"+H(213)+"</div></div>");e+="</div><hr>";
var g=!!Object.keys(ya).length;d.innerHTML=e+("<table cellpadding=0 cellspacing=0 style='width:100%;'><tr><td style='position:relative;vertical-align:middle;'><div id=paneDisp style='position:absolute;font-size:300%;width:100%;padding:0.25em 0;pointer-events:none;'>　</div><button name=panePrev class=ra1 style='font-size:300%;width:50%;height:1.5em;'>　</button><button name=paneNext class=ra2 style='font-size:300%;width:50%;height:1.5em;'>　</button></td><td style='width:9.5em;'><button name=cancel style='width:100%;height:2.5em;"+
(g?"":"display:none;")+"'>CANCEL</button><button name=logout style='width:100%;height:2.5em;"+(g?"display:none;":"")+"'>LOGOUT</button></td></tr></table>");e=x[2];var g=x[p.oemLoginEmail?33:17],m=x[p.oemLoginEmail?32:16];p.oemLoginEmail?(g.length||(g=[0,0,1500]),m.length||(m=[0,0,1500]),wb.querySelector(".c11").innerHTML=C("四麻R")+~~g[2]+" "+C("三麻R")+~~m[2],wb.querySelector(".c12").innerHTML=C("BP:")+x[34],e=x[0],wb.querySelector(".c10").innerHTML="<div style='position:relative;display:inline-block;overflow:hidden;width:2rem;height:2rem;border-radius:10%;border:0.08rem solid #444;vertical-align:middle;font-size:0.2rem;'><img src='https://cdn.tenhou.net/3/ron2/res/240x240/_"+
(kb(e)?hb(e).replace(/%/g,""):"")+".jpg' style='height:100%;'/><div style='position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,0.2);'></div></div>"):e||g.length||m.length?(g.length||(g=[0,0,1500]),m.length||(m=[0,0,1500]),wb.querySelector(".c10").innerHTML="<table cellpadding=0 cellspacing=0 align=right><tr><td class=gray>四麻:</td><td>"+ra[g[0]]+"</td><td class=gray>R</td><td>"+~~g[2]+"</td><td style='padding:0 0 0 0.25em;'>"+g[1]+"</td><td class=gray>/</td><td>"+
Ua[~~g[0]]+"</td><td class=gray>pt</td></tr><tr><td class=gray>三麻:</td><td>"+ra[m[0]]+"</td><td class=gray>R</td><td>"+~~m[2]+"</td><td style='padding:0 0 0 0.25em;'>"+m[1]+"</td><td class=gray>/</td><td>"+Ua[~~m[0]]+"</td><td class=gray>pt</td></tr></table>"):wb.querySelector(".c10").innerHTML="<table cellpadding=0 cellspacing=0 align=right><tr><td class=gray>"+H(219)+"</td></tr></table>";Kc(d);x["#rule0"]();c();a();n();f();h();ja();l(0);1E4<=U&&2E4>U&&(Z.csmain.innerHTML=v(ba),Y.J("<DATE />"),
Z.csranking.innerHTML=z(ba,{rankingcs:""}),Y.Sa=-1,Y.J('<PXR V="-1" />'))},Bc:function(a){ca.n=a.n.split(",");ca.Pa=a.j.split(",");ca.Oa=a.g.split(",");Z.lnn0&&(Z.lnn0.innerText=~~ca.n[0],Z.lnn2.innerText=~~ca.n[2],Z.lnn3.innerText=~~ca.n[3]);ja();return 1},xc:function(a){var b=a.lobby;b&&(4==b.length?(U=~~b,x.i({tag:"LOBBY"})):9==b.length&&(U=~~("1"+b.substr(1,4))));var b=wb.getElementById("chat"),c=a.text;c&&c.length&&(c=decodeURIComponent(c));var d=a.hidden;if(b&&c&&c.length&&"1"!=d){var d=a.uname,
f=a.color&&a.color.match(/[0-9A-Fa-f]{6}/)?"#"+a.color:d?"":"#FF0";d&&d.length&&(c=decodeURIComponent(d)+": "+c);a=wb.createElement("DIV");f&&(a.style.color=f);a.innerText=c;d=b.scrollHeight;f=b.scrollTop+1.1*b.clientHeight;b.appendChild(a);d<=f&&(b.scrollTop=b.scrollHeight)}if(c&&c.match(/^\/prompt /)){var b=c.split(" "),e=b[1],c=~~b[2],g=b[3],h=b[4];a="";for(d=5;d<b.length;++d)a+=b[d]+(d!=b.length-1?" ":"");a=ib(a).replace(/&lt;br&gt;/g,"<br>");w.i(a,3,function(){Y.J({tag:"CHAT",text:"/prompt "+
e+" "+g})},function(){Y.J({tag:"CHAT",text:"/prompt "+e+" "+h})},c,g,h)}else"/attention please"==c&&(Aa=4,l(0));return 1},yc:function(a){a&&(ba=a,ba.rule=(""+(ba.rule||"")).split(","),ba.csrule=(""+(ba.csrule||"")).split(","),ba.join=~~ba.join,ba.joinfee=~~ba.joinfee,ba.players=~~ba.players,ba.premiumonly=~~ba.premiumonly);if(Z.joincs0)return Z.csmain.innerHTML=v(ba),Y.J("<DATE />"),1;x.i({tag:"LOBBY"},function(){Y.Ea()})},zc:function(a){var c=Z.joincs0;if(!c)return 1;a=g(a.t);var d=g(ba.rule[0]),
f=g(ba.rule[1]);if(f<=a)c.innerText=H(277),c.disabled=!0;else if(b(gb(ba.title)))c.innerText=H(276),c.disabled=!0;else if(ba.Fa)if(a<d){var e=(d-a)/1E3;c.innerText=H(278)[0]+(86400<e?(e/24/60/60).toFixed(1)+H(278)[1]:3600<e?(e/60/60).toFixed(1)+H(278)[2]:60<e?(e/60).toFixed(1)+H(278)[3]:5*~~(e/5)+H(278)[4]);c.disabled=!0}else parseInt(ba.csrule[0],16)&1073741824?(c.innerText="- - -",c.disabled=!0):(e=parseInt(ba.rule[2],16),c.innerText=H(216),c.disabled=!!ya[e]);else ba.joinfee?(c.innerText=H(274),
c.disabled=!1):ba.premiumonly?(c.innerText=H(275),c.disabled=!1):(c.innerText=H(276),c.disabled=!0);Z.joincs1.innerText=Z.joincs2.innerText=c.innerText;Z.joincs1.disabled=Z.joincs2.disabled=c.disabled;va||(va=setTimeout(B,a<d-6E4||f<a||d<a&&a<f-3E4?3E4:5E3));return 1},Dc:a,Ec:function(a){Z.joincs0&&(Z.csranking.innerHTML=z(ba,a))},panePrev:function(){l(-1)},paneNext:function(){l(1)},testplay:function(){w.$(p.oemLoginEmail?"<div class=A id='#testplay-4352'>4人打ち WRC 東風 赤アリ</div><div class=A id='#testplay-4368'>3人打ち WRC 東風 赤アリ</div>":
"<div class=A id='#testplay-64'>"+Ia(64)+"<div class=desc>(４人打 東風 喰断アリ 赤アリ 速)</div></div><div class=A id='#testplay-0'>"+Ia(0)+"<div class=desc>(４人打 東風 喰断アリ 赤アリ)</div></div><div class=A id='#testplay-16'>"+Ia(16)+"<div class=desc>(３人打 東風 喰断アリ 赤アリ)</div></div><div class=A id='#testplay-1536'>"+Ia(1536)+"<div class=desc>(４人打 東風 喰断アリ 赤アリ 祝儀)</div></div><div class=A id='#testplay-1552'>"+
Ia(1552)+"<div class=desc>(３人打 東風 喰断アリ 赤アリ 祝儀)</div></div><div class=A id='#testplay-2064'>東天紅 三麻β<div class=desc>(３人打 東天紅)</div></div>","font-size:80%;text-align:left;",0)},"#testplay":function(a,b){if(m()){var c=~~b;Hb(!0,3,1);Z.cancel.style.display="";Z.logout.style.display="none";Y.J({tag:"JOIN",t:U+","+c})}},rule:function(a){x["#rule0"]("#"+a.id)},"#rule0":function(b,
e){for(var g=0;g<Va.length;++g)ca[Va[g]]=~~ca.Pa[g]+":<div class=n2r>"+~~ca.Oa[g]+"</div>";var h=[],n=x[2],m=x[p.oemLoginEmail?33:17],k=x[p.oemLoginEmail?32:16],l="";b&&void 0===e&&(l+="<div class=A id='"+b+"-0'>SELECT GAME</div>");var v=Pc;~~E.swar&&(v=v.concat(Qc));for(g=0;g<v.length;++g){var B=!0,y=v[g],D=y&16?k:m;if(0==U)switch(Ca(y)+4*(0!=(y&1536))){case 0:B=13<=D[0]&&1800<=D[2]?!1:!0;break;case 1:B=16<=D[0]&&2E3<=D[2]?!1:9<=D[0]||60<=n;break;case 2:B=13<=D[0]&&1800<=D[2]?!0:!1;break;case 3:B=
16<=D[0]&&2E3<=D[2]?n:!1;break;case 6:B=13<=D[0]&&1800<=D[2]?n:!1}else if(1!=U&&1E4>U&&Ca(y)+4*(0!=(y&1536)))continue;B?(h[y]=1,l&&(l+="<div class='A nobr' id='"+b+"-"+y+"'>"+G(y)+"</div>")):l&&"#rule3"==b&&(l+="<div class='A nobr' id='"+b+"-"+y+"'>"+Ia(y)+"</div>")}0==U&&b&&"#rule3"!=b&&l&&(9<=m[0]||60<=n||(l+="<div class=A id='"+b+"-128'>※四麻上級卓</div>"),9<=k[0]||60<=n||(l+="<div class=A id='"+b+"-144'>※三麻上級卓</div>"),13<=m[0]&&1800<=m[2]||
(l+="<div class=A id='"+b+"-32'>※四麻特上卓</div>"),13<=k[0]&&1800<=k[2]||(l+="<div class=A id='"+b+"-48'>※三麻特上卓</div>"),13<=m[0]&&1800<=m[2]&&n||(l+="<div class=A id='"+b+"-1056'>※四麻雀荘戦</div>"),13<=k[0]&&1800<=k[2]&&n||(l+="<div class=A id='"+b+"-1072'>※三麻雀荘戦</div>"),16<=m[0]&&2E3<=m[2]&&n||(l+="<div class=A id='"+b+"-160'>※四麻鳳凰卓</div>"),16<=k[0]&&2E3<=
k[2]&&n||(l+="<div class=A id='"+b+"-176'>※三麻鳳凰卓</div>"));1!=U&&b&&void 0===e&&(l+="<div class=A id='"+b+"-showall'>※喰断ナシON/OFF</div>");if(l)w.$(l,"text-align:left;",0);else if(b&&"showall"==e)Ub("swar",~~!~~E.swar,0);else{n=d();5>n.length&&(n=[1,9]);if(b){if(n[~~b.slice(-1)]==e)return;n[~~b.slice(-1)]=~~e}for(g=0;6>g;++g)if(Z["rule"+g]&&Z["join"+g]){y=~~n[g];if(0==(y&2048)&&~y&1){switch(y){case 128:case 144:w.i(H(223));break;case 32:case 48:w.i(H(224));
break;case 160:case 176:w.i(H(225));break;case 1056:case 1072:w.i(H(226))}y=0}3==g&&y&&!h[y]?(n[g]=y,Z["join"+g].disabled=!0,Z["rule"+g].innerHTML=Ia(y)):(h[y]||(y=0),ya[y]||(Z["join"+g].disabled=!y),n[g]=y,Z["rule"+g].innerHTML=G(y))}E.rule=n;"#rule3"==b&&a();"#rule4"==b&&c();"#rule5"==b&&f()}},join:function(a){if(m()){var b;if("a23"==a.id)b=L[0].bb,a.disabled=!0;else if("a24"==a.id)b=L[1].bb,a.disabled=!0;else if("joincs0"!=a.id&&"joincs1"!=a.id&&"joincs2"!=a.id){var c=d();b=c[~~a.id.slice(-1)];
for(a=0;6>a;++a)b==c[a]&&Z["rule"+a]&&(Z["rule"+a].disabled=Z["join"+a].disabled=!0)}else if(ba.Fa)b=parseInt(ba.rule[2],16),Z.joincs0.disabled=Z.joincs1.disabled=Z.joincs2.disabled=!0;else{if(ba.joinfee){var f=E.uname;if(!f||!f.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)){w.i(H(272));return}w.i(H(273).replace("###",ba.joinfee),3,function(){lb("https://b.mjv.jp/csreg?lobby="+U+"&uname="+f,function(a){a=jb(a);A.ERR({code:a.res});1027==a.res&&(x[1]=a.expire,n(),x.Jb())})});return}if(ba.premiumonly){f=
E.uname;if(!f||!f.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)){w.i(H(271));return}A.ERR({code:1020});return}}Hb(!0,1);Z.cancel.style.display="";Z.logout.style.display="none";Y.J({tag:"JOIN",t:U+","+b});ya[b]=1}},openurl:function(){w.i(H(289)+"<br><input type=text size=20 style='font-size:100%;'/>",3,function(a){a=a.getElementsByTagName("INPUT")[0];r.Zc(a.value)})},cancel:function(){Hb(!1,"rule","join",1);Z.cancel.style.display="none";Z.logout.style.display="";ya={};x["#rule0"]();Y.J({tag:"JOIN"})},
logout:function(){Hb(!0,3,1);t.oa(11)},openmember:function(){p.open("member/?"+E.tsssessionid,"_blank")},purchase:function(){if(p.oemLoginEmail)p.open("member/?"+E.tsssessionid,"_blank");else{var a=E.uname;a&&a.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)?ob&&store?x.i({tag:"STORE"}):p.open("https://tenhou.net/reg/?ID"+RegExp.$1,"_blank"):w.i("ログイン画面の「新規ID」からIDを取得してください")}},hairi:function(){p.open("https://tenhou.net/2/",
ob?"_system":"_blank")},help:function(){p.open("https://tenhou.net/man/",ob?"_system":"_blank")},chatInput:function(){w.i("CHAT:<input type=text size=15 style='font-size:100%;'/>",3,function(a){a=a.getElementsByTagName("INPUT")[0];(a=a.value)&&Y.J({tag:"CHAT",text:a})})},Yc:function(a){if(Z.hdr&&!Z.joincs0){var b=Z.hdr.childNodes;if(b&&!(2>b.length))if(a&&"join"==a.name){var c=b[1];a=~~d()[~~a.id.slice(-1)];var f=~~x[17][0],e=~~x[16][0],g="";if(!(a&3584)){var h=[0,0,0,0];switch(Ca(a)){case 0:h[0]=
20;h[1]=10;break;case 1:h[0]=40;h[1]=10;break;case 2:h[0]=50;h[1]=20;break;case 3:h[0]=60,h[1]=30}a&16?(h[0]+=h[1],h[1]=0,h[2]=Ta[e]):h[3]=Ta[f];a&8&&(h[0]*=1.5,h[1]*=1.5,h[2]*=1.5,h[3]*=1.5);g+=ra[a&16?e:f]+C("[");g=a&16?g+(C("1"+pb.Ca(1))+"+"+h[0]+"   "+C("2"+pb.Ca(2))+"+"+h[1]+"   "+C("3"+pb.Ca(3))+(0>h[2]?"":"+")+h[2]):g+(C("1"+pb.Ca(1))+"+"+h[0]+"   "+C("2"+pb.Ca(2))+"+"+h[1]+"   "+C("3"+pb.Ca(3))+"+0   "+C("4"+pb.Ca(4))+(0>h[3]?"":"+")+h[3]);g+=C("]")+" "}g+=Tb((0!=(a&2048)?"１局":a&
8?"東南":"東風")+(a&3584?"打ち切り":a&16?"+3局サドンデス":"+4局サドンデス"));g+=" "+Tb(C("ウマ")+(0!=(a&2048)?"×":0!=(a&1536)?a&16?"0-30":"10-30":a&16?"0-20":"10-20"));g+=" "+Tb(C("1本場")+(0!=(a&2048)?"--":0!=(a&1536)&&~a&8?a&16?"1000":"1500":a&16?"200":"300"));g+=" "+Tb(C("明槓ドラ")+(a&3584?"先":"後"));g+=" "+Tb(C("喰断")+(a&4?"×":"○"));g+=" "+Tb(C("祝儀")+
(~a&512?"×":a&1024?"1枚5000点":"1枚2000点"));g+=" "+Tb(C("東西場")+(0!=(a&1536)&&~a&8?"○":"×"));g+=" "+Tb(C("和了止め")+"○");g+=" "+Tb(C("聴牌止め")+"○");0!=(a&1536)&&(g+=" "+Tb(C("段位変動")+"ナシ"));c.innerHTML=g;b[0].style.display="none";b[1].style.display=""}else b[1].innerHTML="",b[0].style.display="",b[1].style.display="none"}},cd:function(a){var b=d();b[3]=b[4]=a;E.rule=b}}}());
x["#rule1"]=x["#rule2"]=x["#rule3"]=x["#rule4"]=x["#rule5"]=x["#rule0"];bb(x,function(){function b(b){for(var a=0;3>a;++a)Z["pane"+a].style.display=a==b?"":"none"}var d=new Image;setTimeout(function(){d.src="https://cdn.tenhou.net"+(p.oemLoginEmail?"/3/ron2/res/logo_20220119.png":"/3/res/img/bglogow_0921x0651.png")},1);return{LOGIN:function(c,a){Mc.style.display="";Oc.style.display="none";for(var e=0;4>e;++e)hc.Nb[e].style.display="none";t.b.style.display="none";A.fa();e="";location.search.match(/^\?(L[1-9][0-9]{3})/)?e=C(H(300))+RegExp.$1:location.search.match(/^\?(C[0-9]{8})/)&&
(e=C(H(301))+RegExp.$1.substr(0,5));e=""+("<div style='position:relative;'><img src='"+d.src+"' width="+~~(3.683*N[1]*2.3/q)+" style='margin:0.5em 0;'/><span style='position:absolute;bottom:2em;'>"+e+"</span></div><div id=pane0><button name=clearid>"+H(320)+"</button><div class=select-wrapper><button name=sx></button></div><div class=select-wrapper><button name=mvlb>"+(e?H(326):H(325))+"</button></div><button name=ok style='padding:0 1em;'>OK</button></div><div id=pane1><button class=w100 name=ok>"+
H(310)+"</button><br><button name=regid>"+H(311)+"</button><button name=idcont>"+H(312)+"</button><br></div><div id=pane2><button name=regemail>"+H(311)+"</button><button name=ok>LOGIN</button><br></div>");a.innerHTML=e;Kc(a);b(-1);Z["pane"+(p.oemLoginEmail?2:E.uname?0:1)].style.display="";x["#sx"]();"AUTOLOGIN"==c.tag||E.gpid?(x.b.style.display="none",x.ok()):(a.style.border="",a.parentNode.style.background="#000")},NINTEI:function(b,a){rc().Tc=Nc(3E3);var c=b.nintei,d="%E6%96%B0%E4%BA%BA %EF%BC%99%E7%B4%9A %EF%BC%98%E7%B4%9A %EF%BC%97%E7%B4%9A %EF%BC%96%E7%B4%9A %EF%BC%95%E7%B4%9A %EF%BC%94%E7%B4%9A %EF%BC%93%E7%B4%9A %EF%BC%92%E7%B4%9A %EF%BC%91%E7%B4%9A %E5%88%9D%E6%AE%B5 %E4%BA%8C%E6%AE%B5 %E4%B8%89%E6%AE%B5 %E5%9B%9B%E6%AE%B5 %E4%BA%94%E6%AE%B5 %E5%85%AD%E6%AE%B5 %E4%B8%83%E6%AE%B5 %E5%85%AB%E6%AE%B5 %E4%B9%9D%E6%AE%B5 %E5%8D%81%E6%AE%B5 %E5%A4%A9%E9%B3%B3%E4%BD%8D".split(" "),
h=!1,m=-1,l="",g="20201010";c.match(/%E3%82%B5%E3%83%B3%E3%83%9E/)&&(h=!0);c.match(/ ((?:%[0-9A-F]{2})+)%0A%0A/)&&(m=d.indexOf(RegExp.$1));c.match(/%0A%0A([^ ]+) %E6%AE%BF%0A/)&&(l=decodeURIComponent(RegExp.$1));c.match(/%0A%0A(\d{4})%E5%B9%B4(\d{2})%E6%9C%88(\d{2})%E6%97%A5%0A/)&&(g=RegExp.$1+RegExp.$2+RegExp.$3);c=decodeURIComponent(c);0<m&&l&&(c=(h?H(361):H(360)).replace(/\$UNAME/g,l).replace(/\$DAN/g,decodeURIComponent(d[m])).replace(/\$YYYY/g,g.substr(0,4)).replace(/\$MM/g,g.substr(4,2)).replace(/\$DD/g,
g.substr(6,2)));c=c.replace(/\n/g,"<br>");a.innerHTML="<div style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;'>認定</div><div style='text-align:left;margin:1em 0;display:inline-block;'>"+c+"</div><button name=ok style='padding:0 2em;'>OK</button>";Kc(a)},clearid:function(){w.i("<hr><input type=text readonly value='"+(E.hideid?"ID########-########":E.uname)+"' style='border:none;width:100%;text-align:center;font-size:100%;'/><hr>"+H(331),3,function(){E.removeItem("uname");b(1)})},
sx:function(){w.$("<div class=A id='#sx-M'>"+H(323)+"</div><div class=A id='#sx-F'>"+H(324)+"</div>","",0)},"#sx":function(b,a){"F"==(b?a:"F"==E.sx?"F":"")?(Z.sx.innerHTML=H(322),E.sx="F"):(Z.sx.innerHTML=H(321),E.removeItem("sx"))},mvlb:function(){w.$("<a class=A href='?L0000' >"+H(340)+H(341)+"</a><a class=A href='?C00112233' >"+H(342)+H(343)+"</a><a class=A href='?C00223344' >"+H(344)+H(345)+"</a><a class=A href='?C00334455' >"+H(346)+H(347)+"</a><div class=A id='#sellb' >"+H(348)+H(349)+"</div><a class=A href='https://tenhou.net/make_lobby.html' target=_blank>"+
H(350)+H(351)+"</a>","font-size:80%;",0)},"#sellb":function(){var b="0000";location.search.match(/^\?(L[1-9][0-9]{3}|C[0-9]{8})/)&&(b=RegExp.$1.substr(1));w.i(H(330)+"<div style='font-size:75%;'>"+H(300)+"L<span style='color:#F00;'>8141</span> / "+H(301)+"C<span style='color:#F00;'>00112233</span></div><input type=text size=15 value='"+b+"' style='font-size:100%;'/><br>",3,function(a){a=a.getElementsByTagName("INPUT")[0];a=a.value;a.match(/^L?(\d{4})$/)?location.href="?L"+RegExp.$1:a.match(/^C?(\d{8})$/)&&
(location.href="?C"+RegExp.$1)})},regid:function(){w.i(H(313)+"<br><input type=text size=22 style='font-size:100%;'/><br>",3,function(c){c=c.getElementsByTagName("INPUT")[0];var a=c.value;if(a)return lb("https://b.mjv.jp/regid?q=1&uname="+encodeURIComponent(a),function(c){c=jb(c);0!=c.res?A.ERR({code:c.res}):(a=decodeURIComponent(c.uname),w.i(a+"<br><br>"+H(314),3,function(){lb("https://b.mjv.jp/regid?uname="+encodeURIComponent(a),function(a){a=jb(a);1012!=a.res?A.ERR({code:a.res}):(E.uname=a.id,
w.i("<hr><input type=text readonly value='"+E.uname+"' style='border:none;width:100%;text-align:center;font-size:100%;'/><hr>"+H(1012)),b(0))})}))}),!0})},idcont:function(){w.i(H(327)+"<br><input type=text size=22 value='ID00000000-aabbccdd' style='font-size:100%;margin:0.25em'/><br><div id=info></div><small class=gray>"+H(328)+"</small>",3,function(c){c=c.getElementsByTagName("INPUT")[0];var a=c.value;c=wb.getElementById("info");if("ID00000000"!=a.substr(0,10)&&a.match(/^ID[0-9A-F]{8}\-[0-9a-zA-Z]{8}$/))c.innerHTML=
"";else return c.innerHTML="<span style='font-size:75%;color:#F00'>"+H(329)+"</span>",!1;E.uname=a;b(0);return!0})},regemail:function(){function b(a,b){var c=wb.querySelector("#a22");c.innerHTML="loading";var d=wb.querySelector("INPUT[type=submit]");d.disable=!0;nb(a,b,function(b){c.innerHTML=this.response;d.value="//b7.mjv.jp/mjmember/?tos"!=a?"OK":"ja"==pb.Va()?"同意する":"AGREE";Ib(c);if(b=wb.querySelector("INPUT[name=tsssessionid]"))E.tsssessionid=b.value},function(a){alert(a)})}
function a(){x.i({tag:"LOGIN"})}var d="";w.i("loading",3,function(c){for(var f=c.getElementsByTagName("INPUT"),e={},l=0;l<f.length;++l)f[l].name&&f[l].value&&(e[f[l].name]=encodeURIComponent(f[l].value));if(e.email&&e.email_){if(!/^[a-zA-Z0-9]+[a-zA-Z0-9\._-]*@[a-zA-Z0-9_-]+[a-zA-Z0-9\._-]+$/.test(gb(e.email))||e.email!=e.email_)return alert("メールアドレスを確認してください。+記号は使用できません。"),
!1;b("//b7.mjv.jp/mjmember/?email=","email="+e.email+"&email_="+e.email_)}else if(e.digit6&&e.eid)b("//b7.mjv.jp/mjmember/?mailsended="+e.eid,"digit6="+e.digit6);else if(e.uname&&e.eid)b("//b7.mjv.jp/mjmember/?"+e.eid,"uname="+e.uname),d=e.uname;else if(e.password&&e.password_&&e.eid){if(6>gb(e.password).length||e.password!=e.password_)return alert("パスワードをもう一度確認してください"),!1;b("//b7.mjv.jp/mjmember/?"+e.eid,"password="+
e.password+"&password_="+e.password_+"&uname="+d)}else if(e.eid)b("//b7.mjv.jp/mjmember/?mailsended="+e.eid);else if(c.getElementsByTagName("TEXTAREA").length)b("//b7.mjv.jp/mjmember/?email=",null);else return a();return!1},a);x.O(function(){b("//b7.mjv.jp/mjmember/?tos")})}}}());x.AUTOLOGIN=x.LOGIN;bb(x,{SPLASH:function(b,d){for(var c=p.tenhouEventInfo,a=4>c.length?2:5,e=.5>Math.random()?0:2,f="<table cellpadding=0 cellspacing=0 align=center width=100% style='font-size:0;'><tr>",h=0;h<a;++h){var m=c.splice(Math.floor(Math.random()*c.length),1)[0],l=h!=e&&5==a?1:2,g=m.href,k=m.img?m.img:m.href+"title.jpg";"https://"!=g.substr(0,8)&&(g="https://tenhou.net"+g);"https://"!=k.substr(0,8)&&(k="https://cdn.tenhou.net"+k);f+="<td rowspan="+l+" colspan="+l+" width="+25*l+"% ><a href='"+g+"' target=_blank><img src='"+
k+"' border=0 style='width:100%;'/></a></td>";2==h&&(f+="</tr><tr>");c.length<a-h-1&&c.push(m)}f+="</tr></table><div style='padding:0.75em 0;'><small>";p.info&&(f+=p.info);p.tenhouAnnounce&&(f+=p.tenhouAnnounce);c=location.href.replace(/^https?:/,"tenhouapp:");a="https://tenhou.net/4/"+location.search;f+="</small></div><div style='position:relative;'><button disabled name=ok style='width:6em;'>OK</button>";ob||p.oemLoginEmail||(f+="<a href='"+c+"' style='position:absolute;border:1px solid #444;border-radius: 0.2em;top:0.75em;padding:0.5em;color:#888;right:0;'>アプリで開く</a>");
ob||p.oemLoginEmail||(f+="<div style='position:absolute;left:0;top:1.25em;'><span style='position:absolute;color:#F00;font-weight:bold;font-size:75%;top:-2em;'>NEW!</span><a href='"+a+"' style='border:1px solid #444;border-radius:0.2em;padding:0.5em;color:#888;'>Desktop4K版で開く</a></div>");d.innerHTML=f+"</div>";Kc(d);setTimeout(function(){Z.ok.disabled=!1},1E3)}});bb(x,function(){var b;return{STORE:function(d,c){b=-1;var a;a=""+("<div><br><br>"+H(362)+"<br><br><div class=select-wrapper><button name=iap>SELECT PRODUCT</button></div><br><br><button name=storePurchase style='width:8em;'>"+H(363)+"</button><br></div><br><br><hr><button name=exit style='width:6em;'>CLOSE</button>");c.innerHTML=a;Kc(c)},storePurchase:function(){if(-1!=b){var d=E.uname;d.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)&&(d=RegExp.$1,store.order(b).then(function(){Hb(!0,2)}).error(function(b){Hb(!1,
2);w.i("STORE ERROR "+b.code+": "+b.message)}))}},iap:function(){var b="",c;for(c in store.products){var a=store.products[c];a.valid&&(b+="<div class=A id='#iap-"+c+"'>"+Tb(a.title)+"<br>"+a.price+"</div>")}w.$(b,"font-size:75%;",0)},"#iap":function(d,c){var a=store.products[~~c];b=a.id;Z.iap.innerHTML=a.title+" "+a.price}}}());
ob&&Wa(wb,"deviceready",function(){if(1.3>(p.storeVersion||0)){var b="net.tenhou.catalog20170119.";store.register({id:b+"ex30",type:store.CONSUMABLE});store.register({id:b+"ex60",type:store.CONSUMABLE});store.register({id:b+"ex120",type:store.CONSUMABLE});store.register({id:b+"ex180",type:store.CONSUMABLE});store.register({id:b+"ex300",type:store.CONSUMABLE})}else b="net.tenhou.catalog20170211.",store.register({id:b+"ex30",type:store.NON_RENEWING_SUBSCRIPTION}),store.register({id:b+"ex60",type:store.NON_RENEWING_SUBSCRIPTION}),
store.register({id:b+"ex120",type:store.NON_RENEWING_SUBSCRIPTION}),store.register({id:b+"ex180",type:store.NON_RENEWING_SUBSCRIPTION}),store.register({id:b+"ex300",type:store.NON_RENEWING_SUBSCRIPTION}),store.register({id:b+"ex600",type:store.NON_RENEWING_SUBSCRIPTION});store.when("product").approved(function(b){E.uname.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)?(store.validator="https://tenhou.net/reg/via_cordova.cgi?id="+RegExp.$1,b.verify()):b.finish()});store.when("product").verified(function(b){b.finish()});
store.when("product").finished(function(){Hb(!1,2)});store.when("product").cancelled(function(){Hb(!1,2)});store.error(function(b){"6777001"==b.code||"6777002"==b.code?store=void 0:Lb("------ error",JSON.stringify(b));Hb(!1,2)});store.ready(function(){});store.refresh()});bb(x,function(){function b(a){return a.replace(/\s+$/,"")}function d(a){return na(a).replace(/(\d)([mpsz])(?![mpsz])/g,function(a,b,c){a=("m"==c?10:"p"==c?20:"s"==c?30:40)+~~b;10==a&&(a=51);20==a&&(a=52);30==a&&(a=53);40==a&&(a=69);b=~~(.6*N[0]);return"<img src='https://p.mjv.jp/6/img/edit"+rb(3,b)+0+rb(2,a)+".png' style='background:"+(69==a?"#444":"#EEE")+";vertical-align:middle;' width='"+b/q+"px' />"})}function c(a){var b=a>>2;return(27>b&&16==a%36?"0":b%9+1)+"mpsz".substr(b/9,1)}function a(a){Z.trtitle.innerHTML=
k.title||"天鳳トレーニング";Z.trprogress.innerHTML="<span class=gray style='float:right;font-weight:bold;'>"+(a?"A":"Q")+rb(2,g?g[0]+1:1)+"/"+rb(2,g?g.container.length:1)+"</span>";Z.trmain.innerHTML=d((k[a?"explanation":"question"]||"").replace(/\n/g,"<br>"));Z.trmain.style.height=(a?14:8)+"em";Z.ok.disabled=!1;switch(a){case 0:z=!1;x.b.classList.remove("hide");Z.ok.innerHTML="OK";Y.ib();A.fa();A.connected=15;a=x[17]||"";Y.ra({tag:"UN",n0:x[0]||"自家",n1:"下家",
n2:"対面",n3:"上家",dan:~~a[0]+",0,0,0",rate:parseFloat(a[2])+",0,0,0",sx:("F"==E.sx?"F":"M")+",M,M,M"});A.ma=0;hc.Z();var b=[eb(oa(k.hai0)),eb(oa(k.hai1)),eb(oa(k.hai2)),eb(oa(k.hai3))];a=[];k.packet&&Array.prototype.push.apply(a,JSON.parse(JSON.stringify(k.packet)));2==b[0].length%3&&a.push({tag:"T"+b[0].pop()});var c=(k.seed?k.seed:"0,0,0,0,0,").split(",");k.kyoku&&(c[0]=k.kyoku);k.honba&&(c[1]=k.honba);k.nagare&&(c[2]=k.nagare);k.dora&&(c[5]=c[5]=oa(k.dora));Y.ra({tag:"TRAININGINIT",
seed:""+c,ten:k.ten,oya:~~k.oya,hai0:""+fb(b[0]),m0:k.m0,kawa0:oa(k.kawa0),hai1:""+fb(b[1]),m1:k.m1,kawa1:oa(k.kawa1),hai2:""+fb(b[2]),m2:k.m2,kawa2:oa(k.kawa2),hai3:""+fb(b[3]),m3:k.m3,kawa3:oa(k.kawa3)});for(b=0;b<a.length;++b)Y.ra(Qb.rb(a[b]));break;case 1:Z.ok.innerHTML="NEXT"}x.Yb(1)}function e(a){n?a():lb("https://tenhou.net/3/tr/auth.cgi?"+E.uname,function(b){n=b;a()},function(){A.ERR({code:1200})})}function f(a){k=g=void 0;v=a.match(/\.json$/)?a:"free-sample.json";lb("https://tenhou.net/3/tr/"+
v+"?"+n,function(b){try{k=JSON.parse(b)}catch(ja){alert("JSONに不具合があるため読み込めませんでした\n\n"+ja);return}if("membersonly"==k.error||"subscribe"==k.error){b=E.uname;if(!b||!b.match(/^ID[0-9A-F]{8}-[0-9A-Za-z]{8}$/))return A.ERR({code:1200});"membersonly"==k.error?w.i("この問題は有料会員に公開されています。<br><br>会費のお支払いをお願いいたします。",
3,x.purchase,x.exit):w.$("<div style='margin:0.5em;'>購読期間と料金を選択してください。</div><div class=A id='#trs-1'>1日間 - 有効期限7日分</div><div class=A id='#trs-7'>7日間 - 有効期限8日分</div><div class=A id='#trs-21'>21日間 - 有効期限9日分</div>","",0)}else if(k.container)g=k,x["#trjump"](0,0);else if(r.tredit){if(!Z.json)if(90>x[2])alert("編集機能を利用するには有効期限の残り日数が90日以上必要です。");
else{Yb.style.height=Xb=0;xb.style.overflow="";for(var c="<br><hr><br><table class=trtab width=100%><tr><td class=bth width=1>表題</td><td width=100%><input name=title style='width:100%;'></td></tr><tr><td class=bth width=1>問題</td><td width=100%><textarea name=question maxlength=1024 rows=10 style='width:100%;'></textarea></td></tr><tr><td class=bth width=1>回答</td><td width=100%><input name=answer style='width:100%;'><br>"+C("カンマ区切 例)8m,8p,r2p(リーチ2p)")+
"</td></tr><tr><td class=bth width=1>解説</td><td width=100%><textarea name=explanation maxlength=4096 rows=10 style='width:100%;'></textarea></td></tr><tr><td class=bth width=1>補足</td><td width=100%><textarea name=comment maxlength=4096 rows=10 style='width:100%;'></textarea></td></tr></table><hr><table class=trtab width=100%><tr><td class=bth width=1>局</td><td><input name=kyoku><br>"+C("0:東1局 ... 7:南4局")+"</td></tr><tr><td class=bth width=1>本場</td><td><input name=honba></td></tr><tr><td class=bth width=1>供託</td><td><input name=nagare></td></tr><tr><td class=bth width=1>ドラ</td><td><input name=dora></td></tr><tr><td class=bth width=1>親</td><td><input name=oya><br>"+
C("0:自家 1:下家 2:対面 3:上家")+"</td></tr></table>",d=["自家","下家","対面","上家"],f=0;4>f;++f)c+="<br><hr><br><span class=bth>■"+d[f]+"</span><br><table class=trtab width=100%><tr><td class=bth width=1>点数</td><td width=100%><input name=ten"+f+" style='width:100%;'></td></tr>",f||(c+="<tr><td class=bth width=1>手牌</td><td width=100%><input name=hai"+f+" style='width:100%;'></td></tr>"),c+="<tr><td class=bth width=1>副露</td><td width=100%><input name=m"+
f+" style='width:100%;'></td></tr><tr><td class=bth width=1>河</td><td width=100%><input name=kawa"+f+" style='width:100%;'></td></tr></table>";c=c+"<br><hr><br><div id=verify></div>"+("<br><hr><br><span class=bth>■JSON</span><br><textarea name=json maxlength=8192 rows=40 style='width:100%;font-size:75%;'>"+JSON.stringify(k,null,"\t")+"</textarea>");$b.innerHTML=c;c=$b.getElementsByTagName("TEXTAREA");for(d=0;d<c.length;++d)Wa(c[d],"change","json"==c[d].name?l:m);c=$b.getElementsByTagName("INPUT");
for(d=0;d<c.length;++d)Wa(c[d],"change",m);Kc($b,Z)}123==a.charCodeAt(0)&&(b=k,k=JSON.parse(a),k.title=k.title||b.title,k.question=k.question||b.question,k.answer=k.answer||b.answer,k.explanation=k.explanation||b.explanation,k.comment+=b.comment,b=JSON.stringify(k));Z.json.value=b;l()}else x["#trjump"](0,0)},function(){alert("問題ファイルを読み込めませんでした")})}function h(){var a;a="■合計得点<br>"+("'"+Z.ten0.value+
"' + '"+Z.ten1.value+"' + '"+Z.ten2.value+"' + '"+Z.ten3.value+"' = "+(~~Z.ten0.value+~~Z.ten1.value+~~Z.ten2.value+~~Z.ten3.value)+"<br><br>");a+="■使用枚数<br>";for(var b=oa(Z.hai0.value),b=b+(","+oa(Z.dora.value)),c=0;4>c;++c){var b=b+(","+oa(Z["kawa"+c].value)),f=Z["m"+c].value;if(f)for(var f=f.split(","),e=0;e<f.length;++e){var g={m:f[e]};zc(g);var h=g[0];if(1==h.length)switch(g[2]){case 4:case 5:case 2:g=h[0]>>2,h=[g+0,g+1,g+2,g+3]}h&&(b+=","+h)}}c=[];for(e=0;38>e;++e)c[e]=
0;b=b.split(",");for(e=0;e<b.length;++e)g=b[e],""!=g&&255!=g&&254!=g&&(136==g?c[30]++:16==g?c[0]++:52==g?c[1]++:88==g?c[2]++:c[10*~~(g/4/9)+~~(g/4)%9+1]++);c[30]="-";for(e=0;38>e;++e)a+=d(30==e?"0z":ia(36*~~(e/10)+(e%10?e%10*4-1:16)))+c[e]+" ",9==e%10&&(a+="<br>");Z.verify.innerHTML=a}function m(){if(Z.json){var c=k.packet;k={};k.title=b(Z.title.value);k.question=b(Z.question.value);k.answer=b(Z.answer.value);k.explanation=b(Z.explanation.value);k.comment=b(Z.comment.value);""==k.comment&&delete k.comment;
var d="0 0 0 0 0 ".split(" ");"0"!=Z.kyoku.value&&(d[0]=Z.kyoku.value);"0"!=Z.honba.value&&(d[1]=Z.honba.value);"0"!=Z.nagare.value&&(d[2]=Z.nagare.value);""!=Z.dora.value&&(d[5]=oa(Z.dora.value));k.seed=""+d;k.oya=Z.oya.value;k.ten=[Z.ten0.value,Z.ten1.value,Z.ten2.value,Z.ten3.value];Z.hai0.value&&(k.hai0=ka(oa(Z.hai0.value).split(",")));for(d=0;4>d;++d)""!=k.ten[d]&&(k.ten[d]=~~(k.ten[d]/100)),Z["m"+d].value&&(k["m"+d]=Z["m"+d].value),Z["kawa"+d].value&&(k["kawa"+d]=ka(oa(Z["kawa"+d].value).split(",")));
k.ten=""+k.ten;c&&(k.packet=c);Z.json.value=JSON.stringify(k,null,"\t").replace(/"packet": \[[^\]]*\]/,"'packet': "+JSON.stringify(c));a(0);h()}}function l(){if(Z.json){try{k=JSON.parse(Z.json.value)}catch(K){alert("JSONに不具合があるため読み込めませんでした\n\n"+K);return}var b=(k.seed?k.seed:"0,0,0,0,0,").split(",");Z.title.value=k.title||"";Z.question.value=k.question||"";Z.answer.value=k.answer||"";Z.explanation.value=
k.explanation||k.description||"";Z.comment.value=k.comment||"";Z.kyoku.value=k.kyoku||b[0];Z.honba.value=k.honba||b[1];Z.nagare.value=k.nagare||b[2];Z.dora.value=k.dora||ka(b.slice(5));Z.oya.value=k.oya||0;for(var b=(k.ten?k.ten:",,,").split(","),c=0;4>c;++c)Z["ten"+c].value=""!=b[c]?100*b[c]:"",c||(Z["hai"+c].value=k["hai"+c]||""),Z["m"+c].value=k["m"+c]||"",Z["kawa"+c].value=k["kawa"+c]||"";a(0);h()}}var g,k,n,v="",z=!1;return{TRAINING:function(a,b){A.a=4;Y.O();b.innerHTML="<div style='width:100%;'><table width=100% cellpadding=0 cellspacing=0><tr><td align=left class=gray id=trtitle></td><td id=trprogress align=right></td></tr></table><hr><div style='position:relative;'><div id=trmain class=vscl style='line-height:1.2em;height:8em;overflow-y:scroll;text-align:left;'><br><br>"+
C("<center>左下のメニューからトレーニングを終了して<br><br>もう一度開いてください。</center>")+"</div><div class=sblink style='visibility:hidden;'>▼</div></div><hr><table width=100% cellpadding=0 cellspacing=0><tr><td align=left width=1><button name=trmenu style='font-family:cwTeX-Q-Kai-T,icons2,serif;'></button></td><td class=ra0 style='border:1px solid #444;' width=100%><span class='bt3 ra0' style='color:#444;font-size:150%;'>卓表示<span></td><td align=right width=1><button name=ok style='width:6em;' disabled>OK</button></td></tr></table></div>";
Kc(b);x.b.classList.add("flipinhs");e(function(){f(a.file)})},Yb:function(a){Hb(!1,"ok");x.b.style.display=a?"":"none";t.b.style.display=a?"none":"";t[1572868].innerHTML=" 問題"},bd:function(b){b&&"NEXT"!=Z.ok.innerHTML&&!nc.B.canvas.style.display?(x.Yb(0),2==W[32].length%3&&xc({tag:"T"}),Z.ok.innerHTML="CLOSE"):(x.b.classList.add("hide"),Ya(x.b,"animationend",function(){g&&(g[0]=(g[0]+1)%g.container.length,k=g.container[g[0]]);a(0)}))},nc:function(b){console.log("sendTrainingAns",b);
var d;switch(b.tag){case "REACH":z=!0;Y.ra({tag:"REACH",who:0,step:1});return;case "D":d=(z?"r":"")+c(b.p);break;case "N":d="N",b.type&&(d+="-"+b.type),b.hai0&&(d+="-"+b.hai0),b.hai1&&(d+="-"+b.hai1),b.hai2&&(d+="-"+b.hai2)}if(d){b=k.answer.split(",");for(var f=0;f<b.length&&b[f]!=d;++f);f<b.length&&(d="")}setTimeout(function(){if(d)a(1);else{Pb(24,0,0);var b=u("DIV",gc,"flipinqs tsv",{innerHTML:"○"},{position:"absolute",left:"50%",top:"50%",fontSize:"1600%",fontWeight:"bold",pointerEvents:"none",
marginTop:"-0.5em",marginLeft:"-0.5em"});setTimeout(function(){b.classList.add("hide");Wa(b,"animationend",function(){b.parentNode.removeChild(b);a(1)})},1E3)}},1E3)},trmenu:function(){w.$("<div class=A id='#trmenu-0'>他の問題に移動</div><div class=A id='#trmenu-1'>トレーニング終了</div>","",0)},"#trmenu":function(a,b){if("1"==b)r.tredit?location.reload():x.exit();else{var c="";if(g)for(var d in g.container)c+="<div class=A id='#trjump-"+
d+"'>Q"+rb(2,~~d+1)+"</div>";else k.title&&(c+="<div class=A id='#trjump-0'>"+k.title+"</div>");w.$(c,"text-align:left;",0)}},"#trjump":function(b,c){if(g){var d=~~c;k=g.container[d];g[0]=d}a(0)},"#trs":function(a,b){lb("https://tenhou.net/3/tr/subscribe.cgi?file="+v+"&auth="+n+"&type="+b,function(a){a=JSON.parse(a);if("insufficient"==a.error)return A.ERR({code:1020});"ok"==a.error&&f(v)})},wc:function(a,b){if(b){var c={},d=b.subscribing;if(d)for(var f=0;f<d.length;++f)c[d[f].file]=d[f].expire;a.innerHTML=
"";for(var e={free:"<span style='color:#088;font-weight:bold;'>【無料】</span>",member:"<span style='color:#088;font-weight:bold;'>【会員無料】</span>",subscribing:"<span style='color:#880;font-weight:bold;'>【購読中】</span>"},d=b.all,f=0;f<d.length;++f)d[f].hc=1E3*(d[f].type||"undefined").length+f;d.sort(function(a,b){return a.hc-b.hc});for(f=0;f<d.length;++f){var g=d[f],h=g.file,n=c[h],h="https://tenhou.net/0/?training="+h,k="<div style='position:absolute;width:100%;height:100%;padding:0.2em 0.5em;pointer-events:none;'>",
k=k+("<div class=nobr style='overflow:hidden;text-overflow:ellipsis;'>"+(e[n?"subscribing":g.type]||"")+" ");g.tip&&(k+="<span style='color:#F00;font-weight:bold;font-size:75%;'>"+g.tip+"</span> ");k+=g.title+"</div>";k+="<div class=nobr style='color:#CCC;overflow:hidden;text-overflow:ellipsis;font-size:75%;'>";k+="<span style='color:#000;background-color:#666;'>レベル:"+(g.level||"初中")+"</span> ";k+="問題数:"+g.n+" ";g.type&&(k+="毎月２～３回更新 ");
n&&(k+="購読終了:"+n+" ");k+="</div>";k+="<div class=nobr style='color:#666;overflow:hidden;text-overflow:ellipsis;'>"+(g.memo||"")+"</div>";k+="</div>";k+="<a href='"+h+"' class=bt3 target=_blank></a>";u("DIV",a,"",{innerHTML:k},{height:"3.4em",position:"relative",textAlign:"left"}).childNodes[1].onclick=x.trOpen}u("DIV",a,"gray",{innerHTML:"●「長押し」または「右クリック」から別タブで開く/URLのコピーなどが行えます"},
{fontSize:"75%",align:"left",padding:"1em 0 6em 0"})}else a.innerHTML=C("<br>Loading ..."),c=(c=E.uname)&&c.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)?RegExp.$1:"00000000",lb("https://tenhou.net/3/tr/free-index.json?"+c,function(b){try{b=JSON.parse(b)}catch(Aa){return}x.wc(a,b)})},trOpen:function(a){if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey)){var b=E.uname;if(!b||!b.match(/^ID[0-9A-F]{8}-[0-9A-Za-z]{8}$/))return A.ERR({code:1200}),!1;a=a.target;a=a.href.split(/\?training=/);if(1!=a.length)return x.i({tag:"TRAINING",
file:a[1]}),!1}}}}());var mc=u("DIV",gc,"nosel ts0",{},{position:"absolute",fontSize:"60%",pointerEvents:"none",display:"none"}),W=function(){var b=0;return{ia:function(){mc.innerHTML=H(364);for(var b=0;4>b;++b)W[32|b]=[],W[48|b]=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],W[16|b]=[],delete W[64|b]},$c:function(b){for(var c=[],a=0;a<W[32|b].length;++a)c.push(a);db(c,W[32|b]);for(a=0;a<W[32|b].length;++a)if(c[a]!=a){var d=R[1024|b<<8|c[a]],f=R[1024|b<<8|a];jc.P(0,f,0);f.Ga(!0,b&&!t.o[1277960]?
136:W[32|b][c[a]]);d=jc.P(0,d.c+f.l.offsetX,d.h+f.l.offsetY,f.c+f.l.offsetX,f.h+f.l.offsetY,.04,f.l,.5,f,1);b||tc(4,0,d/1E3)}cb(W[32|b])},oc:function(b){t.X(256);oc.O();if(1==A.a||!t.o[1277960]){var c=0;b&2&&(c=Math.max(c,W[33].length));b&4&&(c=Math.max(c,W[34].length));b&8&&(c=Math.max(c,W[35].length));for(var c=30*c,a=0;a<c;a+=30)Pb(4,0,a/1E3);var d=0,a=0;rc()[vb++]=function(f){for(a+=f;d<a&&d<c;d+=30)for(f=1;4>f;++f)if(!(~b&1<<f)){var e=~~(d/30),m=R[1024|f<<8|e];m.u&&(e=W[32|f][e],O.Aa(),m.ha(0),
m.v=f,m.l=M[f<<8|J.cb[e]],m.ha(1),O.Ba())}return d<c}}},Rb:function(d){O.Aa();for(var c=0,a=W[32|d],e=0;14>e;++e){var f=R[1024|d<<8|e];if(f.u){var h=R[1024|d<<8|c];h.Ga(!0,d&&!t.o[1277960]?136:a[c]);h.c=f.c;h.h=f.h;h.na(-1025,f.ca&1024,!1);h.ha(1);++c;b|=1<<d}else c<a.length&&a.splice(c,1)}for(;14>c;++c)f=R[1024|d<<8|c],f.u&&f.ha(0);O.Ba()},qb:function(d){if((d||t.o[1183750])&&(!d||t.o[1277960])){O.Aa();for(var c=W[32|d],a=[],e=[],f=[],h=-1,m=0;m<c.length;++m){var l=R[1024|d<<8|m];l.u&&(f.push({wb:m,
ca:l.ca,c:l.c,h:l.h}),e.push(c[m]),0==d&&l==oc.Uc()&&(h=a.length),a.push(a.length))}db(a,e);for(m=0;m<a.length;++m)if(c[f[m].wb]=e[a[m]],l=R[1024|d<<8|f[a[m]].wb],a[m]==m){if(l.c!=l.I||l.h!=l.K)b|=1<<d}else{var g=R[1024|d<<8|f[m].wb];g.Ga(!0,d&&!t.o[1277960]?136:e[a[m]]);l=f[a[m]];g.c=l.c;g.h=l.h;g.na(-1042,l.ca&1041,!1);g.ha(1);b|=1<<d}O.Ba();-1!=h&&oc.L(R[1024|d<<8|f[a[h]].wb])}},pb:function(){for(var d=0;4>d;++d)if(!(~b&1<<d)){for(var c=[],a=0,e=0,f=0;14>f;++f){var h=R[1024|d<<8|f];if(h.u){var m=
h.c-h.I,l=h.h-h.K;if(0!=m||0!=l)c.length&&a!=m&&e!=l&&(R.Xa(0,200,c),c=[]),a=m,e=l,c.push(h)}}c.length&&R.Xa(0,200,c)}b=0}}}();
function xc(b){if(1==A.a||4==A.a)if(!x.b||x.b.style.display){var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0];if(b)if("REACH"==b.tag)for(var c=pa.Sc(W[48]),a=0;a<W[32].length;++a){var e=c[~~(W[32][a]/4)];d[a]|=e&&e.length?1:16}else if("T"==b.tag&&W[64])for(a=W[32].length-1,d[a]|=1,--a;0<=a;--a)d[a]|=16;else if("N"!=b.tag||3!=b[2]&&1!=b[2])for(a=0;14>a;++a)d[a]|=1;else for(c={},1==(b[0][2]>>2)-(b[0][1]>>2)?(0<(b[0][1]>>2)%9&&(c[(b[0][1]>>2)-1]=1),8>(b[0][2]>>2)%9&&(c[(b[0][2]>>2)+1]=1)):c[b[0][0]>>2]=1,a=0;a<W[32].length;++a)d[a]|=
c[W[32][a]>>2]?16:1;else oc.O(),t.X(256);O.Aa();for(a=0;14>a;++a)S.$a(a,-18,d[a]);O.Ba();b&&oc.i(0,void 0,"T"==b.tag)}};p.requestAnimationFrame=p.requestAnimationFrame||p.webkitRequestAnimationFrame||p.mozRequestAnimationFrame||p.oRequestAnimationFrame||p.msRequestAnimationFrame||function(b){setTimeout(b,1E3/60)};
var rc=function(){function b(){}var d={},c,a=0,e=0,f=Date.now(),h=requestAnimationFrame;setInterval(function(){var d=Date.now();a&&e&&a==e&&requestAnimationFrame==h&&(requestAnimationFrame=b,c(a+d-f),requestAnimationFrame=h);e=a;f=d;Fc.ad(d)},250);requestAnimationFrame(function(b){c=b?function(b){var f=0,e=1>=a?0:b-a,h;for(h in d)d[h](e)?++f:delete d[h];if(!f)for(h in d)++f;f?(a=b,requestAnimationFrame(c)):a=0}:window.performance&&window.performance.now?function(){var b=performance.now(),f=0,e=1>=
a?0:b-a,h;for(h in d)d[h](e)?++f:delete d[h];if(!f)for(h in d)++f;f?(a=b,requestAnimationFrame(c)):a=0}:function(){var b=Date.now(),f=0,e=1>=a?0:b-a,h;for(h in d)d[h](e)?++f:delete d[h];if(!f)for(h in d)++f;f?(a=b,requestAnimationFrame(c)):a=0};requestAnimationFrame(c)});return function(){!a&&c&&(requestAnimationFrame(c),a=1);return d}}();function sc(b,d){if(0<d)return rc()[vb++]=function(c){return 0<(d-=c)?!0:(b(),!1)},vb-1;b()}
function Nc(b){var d=x.b.style,c=d.opacity=0;return function(a){c+=a;d.opacity=Math.min(1,c/b);if(c<b)return 1;d.opacity=1;return 0}}function Lc(b){var d=x.b,c=d.style,a=0;return function(e){a+=e;c.opacity=Math.max(0,1-a/250);if(250>a)return 1;c.display="none";c.opacity=1;b&&b(d);return 0}};var N=[0,0,0,0,0,0,0,0],V=[0,0,0,0,0,0,0,0],T=[0,0,0,0,0,0,0,0],Jc=[0,0,0,0,0,0,0,0],Rc=[0,0,0,0,0],Sc=[0,0,0,0,0],wc=[0,0,0,0],vc=[0,0,0,0],Tc=[0,0,0,0],Uc=[0,0,0,0],ec=0,fc=0,ic=0,Vc=0,Wc=!1;
function dc(){var b=Zb.offsetWidth*q,d=Zb.offsetHeight*q,c=E.desktop&1;function a(){e[1]=~~(2360*e[0]/31/56);h[0]=h[1]=h[4]=Math.min(~~(12*e[0]/31),~~(12*e[1]/40));f[0]=f[4]=~~(47*e[0]/31)-h[0];f[1]=~~(37*e[1]/40)-h[1];e[4]!=e[0]&&(h[4]=~~(12*e[4]/31),f[4]=~~(47*e[4]/31)-h[4]);e[2]=e[6]=e[0];h[2]=h[6]=h[0];f[2]=f[6]=f[0];e[3]=e[1];h[3]=h[1];f[3]=f[1];e[5]=e[7]=~~(380*f[1]/460);h[5]=h[7]=~~(44*e[5]/19)-f[1];f[5]=f[7]=f[1];var a=2*f[1],g=2*e[0];m=l=0;1==J.a||3==J.a?(m=Math.max(m,g+17*e[0]+2*e[1]+g),
l=Math.max(l,a+17*f[1]+2*f[0]+h[0]+f[4]+h[4]+(c?f[1]:0))):(m=Math.max(m,g+3*e[1]+6*e[0]+3*e[1]+g),l=Math.max(l,a+3*f[0]+6*f[1]+3*f[0]+h[0]+f[4]+h[4]+(c?f[1]:0)));m=Math.max(m,~~(14.1*e[4])+e[0]);Vc=f[7]+h[7]-(f[3]+h[3]);l=Math.max(l,~~(2.1*f[1])+Vc+4*(2*f[1]+f[0])+f[1]+h[1]+f[4]+h[4]);l=Math.max(l,f[0]+4*(2*f[1]+f[0])+~~(2.1*f[1])+Vc+2*f[1]+h[1]+(c?f[1]:0));return m<=b&&l<=d}var e=N,f=V,h=T,m,l;for(e[0]=200;10<e[0];--e[0]){Wc=!0;e[4]=~~(31*(2*f[1]+h[0])/47);if(a())break;Wc=!1;e[4]=~~((b-e[0])/14.1);
if(a())break}e[4]=~~((b-e[0])/14.1);for(e[4]=Math.min(e[4],~~(1.7*e[0]));10<e[4]&&!a();--e[4]);2==E.lthai||!Wc||c||1!=A.a&&4!=A.a||1==J.a||3==J.a||(e[4]=~~((b-e[0])/14.1),e[4]=Math.min(e[4],~~(31*(f[4]+h[4])/47)+h[0]+~~(.3*f[0])),h[4]=~~(12*e[4]/31),f[4]=~~(47*e[4]/31)-h[4]);for(var g=0;8>g;++g)Jc[g]=N[g]-~~(5*T[4==g?4:0]/12);d-l<b-m?l=~~d:m=~~b;ic=Math.max(m,~~(14.1*e[4])+e[0]);ec=m;fc=l};function uc(b){bb(this,b)}
bb(uc.prototype,{Ma:function(){if(this.R&&!this.Da)if(this.l&&1==this.u){var b=0;this.ea&&this.ea.l&&1==this.ea.u&&this.c+N[this.v]==this.ea.c+N[this.ea.v]&&this.h+T[this.v]==this.ea.h+V[this.ea.v]+T[this.ea.v]&&(b|=this.ea.xa&&this.ea.xa.l&&1==this.ea.xa.u&&this.ea.c+N[this.ea.v]==this.ea.xa.c&&this.ea.h==this.ea.xa.h?0:1);this.xa&&this.xa.l&&1==this.xa.u&&this.c+N[this.v]==this.xa.c&&this.h+V[this.v]==this.xa.h+V[this.xa.v]&&(b|=2);this.ya&&this.ya.l&&1==this.ya.u&&this.c+N[this.v]==this.ya.c+N[this.ya.v]&&
this.h+V[this.v]+T[this.v]==this.ya.h+T[this.ya.v]&&(b|=4);Ic[this.v<<8|b]?(this.R.l=Ic[this.v<<8|b],this.R.u=1):(delete this.R.l,this.R.u=0)}else delete this.R.l},na:function(b,d,c){var a=this.ca,a=a&b|d;b=this.la;d=this.da;a&4?(this.la=M[this.v<<8|(a&1?60:50)],this.da=a&1?.3:.2):a&2?(this.la=M[this.v<<8|(a&1?60:50)],this.da=a&1?.2:.1):a&16?(this.la=M[this.v<<8|49],this.da=.3):a&1024?(this.la=M[this.v<<8|50],this.da=.2):a&2048?(this.la=M[this.v<<8|60],this.da=.15):a&256?(this.la=M[this.v<<8|49],
this.da=.3):a&512?(delete this.la,delete this.da):a&4096?(this.la=M[this.v<<8|49],this.da=a&8192?.4:.15):(delete this.la,delete this.da);this.ca=a;!c||this.la==b&&this.da==d||this.ic();return this},ha:function(b){if(!this.l)return this;var d=0,c=0;this.u&&(d=this.R.l?this.R.l.offsetX+this.R.l.ka:this.l.ka,c=this.l.wa);this.u=b;this.Ma();this.ea&&this.ea.Ma();this.ya&&this.ya.Ma();this.nb&&(this.nb.Ma(),this.nb.ya&&this.nb.ya.Ma());this.u&&(d=this.R.l?this.R.l.offsetX+this.R.l.ka:d?d:this.l.ka,c=this.l.wa);
O.Na(this.c+this.l.offsetX,this.h+this.l.offsetY-this.Da,d,c);return this},Ga:function(b,d){var c=this.v%4;b&&(c||(c+=4),c&&136==d&&(c+=4));this.l=M[c<<8|J.cb[d]];this.v=c;this.l||Lb("PH.setImage noimg ",c,d,J.cb[d]);return this},ic:function(){void 0!==this.l&&0!==this.u&&O.Na(this.c,this.h-this.Da,this.l.ka,this.l.wa)},Qa:function(){void 0!==this.l&&0!==this.u&&O.Na(this.c,this.h-this.Da,this.R.l?this.R.l.offsetX+this.R.l.ka:this.l.ka,this.l.wa)}});var R={sa:[]};
(function(){for(var b=[function(a,b){a.xa=b;b.nb=a},function(a,b){a.ea=b;b.ya=a},function(a,b){a.nb=b;b.xa=a},function(a,b){a.ya=b;b.ea=a}],d=[1024,14,2048,34,3072,26,4096,34,5120,5];d.length;)for(var c=d.shift(),a=d.shift(),e=0;4>e;++e){for(var f={},h=0;h<a;++h)R.sa.push(R[c|e<<8|h]=f[h]=new uc({u:0,v:e,c:0,h:0,Da:0,I:0,K:0})),R.sa.push(f[h].R={u:0}),f[h].ua=f[h].R.ua=f[h];for(h=1;h<a;++h)if(!(2048==c&&17==h||3072==c&&6==h||3072==c&&12==h||4096==c&&17==h))b[e](f[h-1],f[h]);if(2048==c)for(h=0;17>
h;++h)b[(e+1)%4](f[h],f[h+17]),f[h].Ka=f[h+17];if(3072==c)for(h=6;18>h;++h)b[(e+1)%4](f[h],f[h-6]);if(4096==c)for(h=17;34>h;++h)b[(e+1)%4](f[h],f[h-17]);if(5120==c)break}for(h=0;b=R[1024|h];++h)b.Y=h})();
bb(R,{L:function(){var b=bb(Rc,[N[0],0,-N[0],0,N[4]]),d=bb(Sc,[0,-V[1],0,V[1],0]),c=bb(wc,[0,N[1],0,-N[1]]),a=bb(vc,[V[0],0,-V[0],0]);bb(Tc,[0,N[1]-N[0],N[0]-N[1],0]);bb(Uc,[V[0]-V[1],V[1]-V[0],0,0]);var e=2*V[1],f=O.B.canvas.offsetWidth*q,h=O.B.canvas.offsetHeight*q,m=~~((f-ec)/2),l=~~((h-fc)/2),g=m+ec,k=l+fc-(E.desktop&1?V[1]:0),n=6*N[0],v=6*V[1],z=m+~~((g-m-n)/2),B=l+e+V[0]*(1==J.a||3==J.a?5:3);if(1==J.a||3==J.a)B=l+e+2*V[0]+~~((17*V[1]+2*V[0]-v-4*V[0])/2);R[112]=z;R[113]=B+v;R[114]=z+n;R[115]=
B+v-V[1];R[116]=z+n-N[0];R[117]=B-V[0];R[118]=z-N[1];R[119]=B;for(var y=0;4>y;++y)R.qc(y);for(var K,G=0;K=R[5120|G];++G)K.c=K.I=z+~~((n-5*N[0])/2)+N[0]*G,K.h=K.K=B;if(3==J.a){y=17*N[0]+2*N[1];K=17*V[1]+2*V[0];for(var D=z+~~((n-y)/2),e=l+e,e=[{Ha:D+y-N[0],Ia:e+K-V[0]},{Ha:D+y-N[1],Ia:e},{Ha:D,Ia:e},{Ha:D,Ia:e+K-V[1]}],y=0;4>y;++y)for(G=0;K=R[4096|y<<8|G];++G)K.c=K.I=e[y].Ha-b[y]*(16-G%17)-(17>G?0:c[y]),K.h=K.K=e[y].Ia-d[y]*(16-G%17)-(17>G?0:a[y]),K.Da=0}else if(1==J.a)for(y=17*N[0]+N[1],K=17*V[1]+
V[0],D=z+~~((n-y)/2),e=B+~~((v-K+T[0])/2),e=[{Ha:D+y-N[0],Ia:e+K-V[0]},{Ha:D+y-N[1],Ia:e},{Ha:D,Ia:e},{Ha:D,Ia:e+K-V[1]}],y=0;4>y;++y)for(G=0;K=R[4096|y<<8|G];++G)K.c=K.I=e[y].Ha-b[y]*(16-G%17),K.h=K.K=e[y].Ia-d[y]*(16-G%17),K.Da=17>G?0:T[y];else for(y=0;4>y;++y)for(G=0;K=R[4096|y<<8|G];++G)K.c=K.h=K.Da=0;B+=T[0];R[16]=z;R[17]=B;R[18]=n;R[19]=v;b=3*N[1];d=3*V[0];R[48]=z+n+T[0];R[49]=B+v+T[0];R[50]=b-T[0];R[51]=d-T[0];R[52]=z+n+T[0];R[53]=B-d;R[54]=b-T[0];R[55]=d-T[0];R[56]=z-b;R[57]=B-d;R[58]=b-T[0];
R[59]=d-T[0];R[60]=z-b;R[61]=B+v+T[0];R[62]=b-T[0];R[63]=d-T[0];e=1==J.a||3==J.a?0:V[0];R[32]=z;R[33]=B+e;R[34]=n;R[35]=v-e-T[0];R[80]=g-~~(14.1*N[4])-N[0];R[81]=k-V[4]-T[4];R[82]=R[98]=g-N[1];R[85]=R[101]=l;R[86]=R[102]=m;R[96]=g-N[0];R[97]=k-T[0]-V[0];R[80]<m&&(b=~~((m-R[80])/2),R[80]+=b,R[96]+=b);K=~~(2.1*V[1])+Vc+4*(2*V[1]+V[0])+(A.s&16?V[1]:0);R[99]=Math.max(l+~~((k-Math.max(2*V[1],V[4]+T[4])-l-K)/2),0);R[83]=Math.min(R[99]+(K-V[1]-T[1]),k-V[4]-T[4]-V[1]);K+=T[1];R[87]=Math.max(l+~~((k-V[4]-
T[4]-l-K)/2),0);R[103]=Math.min(R[87]+(K-V[1]-T[1]),k-V[4]-T[4]-V[1]);y=~~(2.1*N[0])+4*(2*N[0]+N[1])+(A.s&16?N[0]:0);3==J.a&&(y=Math.max(y,17*N[0]+2*N[1]));1==J.a&&(y=Math.max(y,17*N[0]+1*N[1]));R[100]=z+~~((n-y)/2);~A.s&16&&!Wc&&(R[100]=N[1]);A.s&16&&(A.w[1]||(R[100]+=N[0]),A.w[3]||(R[100]=m));R[84]=R[100]+y-N[0];for(y=0;4>y;++y)for(R.vc(y),G=0;K=R[1024|y<<8|G];++G)K.c=K.I,K.h=K.K;lc.L();R[64]=R[68]=~~(R[16]+R[18]/2);R[67]=R[71]=~~(R[17]+R[19]/2);R[65]=~~(R[81]-1.5*V[0]);R[66]=~~(R[82]-1.5*N[1]);
R[69]=~~(R[85]+2.5*V[2]);R[70]=~~(R[86]+2.5*N[3]);for(G in R.sa)R.sa[G].R&&void 0===R.sa[G].I&&console.log(G);R.sa.sort(function(a,b){return(void 0!=a.Y?0:-f*h)+(a.R?f*h:0)+(a.ua.Da+a.ua.K)*f+a.ua.I-((void 0!=b.Y?0:-f*h)+(b.R?f*h:0)+(b.ua.Da+b.ua.K)*f+b.ua.I)})},fa:function(){for(var b=0;b<R.sa.length;++b){var d=R.sa[b];d.u=0;d.R&&(void 0!==d.I&&(d.c=d.I),void 0!==d.K&&(d.h=d.K),d.na(-1,0,!1),delete d.kb)}for(b=0;4>b;++b)R.Bb(b,-2)},vc:function(b){for(var d,c=16;R[2048|b<<8|c];--c);for(var a=0,e=
0,c=16;d=R[2048|b<<8|c];--c){d.I=R[96+2*b]-Rc[b]*(16-c);d.K=R[97+2*b]-Sc[b]*(16-c);var f=d.Ka;f.I=d.I+Rc[(b+1)%4];f.K=d.K+Sc[(b+1)%4];d.v!=b&&(a+=Rc[b]-wc[(b+1)%4],e+=Sc[b]-vc[(b+1)%4]);d.c=d.I+a;d.h=d.K+e;f.c=f.I+a;f.h=f.K+e;d.v!=b&&(d.c+=Tc[b],d.h+=Uc[b],f.c+=Tc[b],f.h+=Uc[b])}for(c=0;d=R[1024|b<<8|c];++c)d.I=0+R[80+2*b]+Rc[b?b:4]*c,d.K=0+R[81+2*b]+Sc[b?b:4]*c},qc:function(b){for(var d=0,c=0,a,e=0;a=R[3072|b<<8|e];++e)if(a.I=R[112+2*b]+Rc[b]*e+(wc[b]-6*Rc[b])*(12<e?2:~~(e/6))+d,a.K=R[113+2*b]+Sc[b]*
e+(vc[b]-6*Sc[b])*(12<e?2:~~(e/6))+c,a.v!=b&&(a.I+=Tc[b],a.K+=Uc[b],d=-Rc[b]+wc[(b+1)%4],c=-Sc[b]+vc[(b+1)%4]),a.c=a.I,a.h=a.K,5==e||11==e)d=c=0}});bb(R,{Bb:function(b,d){for(var c,a=0;c=R[3072|b<<8|a];++a)c.v!=b&&(c.v=b),-1!=d||c.u||(d=a);0<=d&&(R[3072|b<<8|d].v=(b+1)%4);R.qc(b)}});
bb(R,function(){function b(b){var a=0,c;for(c in d){var f=d[c];if(0<=f.t){f.qa<=f.t&&(f.t=f.qa);O.Aa();var h,m;for(m in f){var l=f[m],g=l.vb;if(g){var k=g.R.l?g.R.l.offsetX+g.R.l.ka:g.l.ka,n=g.l.wa,v=~~(g.I+(l.Za-g.I)*(f.qa-f.t)/f.qa);v<=g.c?(k+=g.c-v,g.c=v):(k+=v-g.c,h=g.c,g.c=v,v=h);l=~~(g.K+(l.Cb-g.K)*(f.qa-f.t)/f.qa);l<=g.h?(n+=g.h-l,g.h=l):(n+=l-g.h,h=g.h,g.h=l,l=h);O.Na(v+g.l.offsetX,l+g.l.offsetY,k,n);f.qa<=f.t&&g.ha(g.u)}}O.Ba()}f.qa<=f.t&&delete d[c];f.t+=b;++a}0==a&&Ac.Ya&&Ac.Ya();return a}
var d={};return{Xa:function(c,a,e){if(jc.aa){O.Aa();for(c=0;c<e.length;++c)a=e[c],a.Qa(),a.c=a.I,a.h=a.K;for(c=0;c<e.length;++c)a=e[c],a.ha(a.u),a.Qa();O.Ba()}else{a=d[vb++]={t:-~~c,qa:a};for(c=0;c<e.length;++c)a[c]={vb:e[c],Za:e[c].c,Cb:e[c].h};rc().Xa=b}}}}());var J=function(){function b(){return!1}function d(a){return 16==a||52==a||88==a}function c(a){a=(135-a+e)%136;return R[4096|~~(a/34)<<8|(a%34>>1)+17*(a&1)]}var a,e,f,h;return{a:0,hb:0,Ua:!1,cb:{136:48},ia:function(c){for(var l=J.cb,g=0;136>g;++g){var k=~~(g/4);l[g]=10*(~~(k/9)+1)+k%9+1}A.s&2?J.xb=b:(J.xb=d,l[16]=51,l[52]=52,l[88]=53);l=A.ma;g=A.S[3];k=A.S[4];f=(4+l-A.S[0]%4)%4;J.Ua=6==g&&0==k;e=((l+(g+1)+(k+1)-1)%4*17+17-1-(g+1)-(k+1))%68*2+2;J.Ua&&(e=34*(f+1));a=[0,0,0,0];J.hb=0;h=null;if(c)for(h=
[],g=0;136>g;++g)h[g]=c[135-g]},Zb:function(b){if(!J.Ua)return c(a[0]++);-1==b&&(b=(f+3)%4);var d=a[b]++;return R[4096|b<<8|33-(17*(d&1)+(d>>1))]},Ra:function(a){if(!J.Ua)return c(135-a^1);var b=(f+(a>>2))%4;a%=4;return R[4096|b<<8|17*(~a&1)+(a>>1)]},Mb:function(a,b){return h?J.Ua?h[135-(34*a+~~(b%34/17)+b%17*2)]:h[(135-(34*a+~~(b%34/17)+b%17*2)+e)%136]:136},jc:function(b){if(!a)return 0;if(0!=(A.s&2048))return 116-a[0]-2*(A.S.length-5);if(!J.Ua)return 122-a[0]-J.hb;for(var c=0,d=-1,f=1;4>=f;++f)A.w[(b+
f)%4]&&c<a[(b+f)%4]&&(c=a[(b+f)%4],d=f);return(30-c)*(A.s&16?3:4)+d-1},xb:b}}();
J.Pc=function(b){function d(a){for(var b=0;b<a.length;++b)a[b]=(a[b]&255)<<24|(a[b]&65280)<<8|(a[b]&16711680)>>>8|(a[b]&4278190080)>>>24;return a}b=b.split(",");if("mt19937ar-sha512-n288-base64"==b[0]){b=function(a){a=atob(a);for(var b=[],c=0;c<a.length;c+=4)b.push(a.charCodeAt(c+0)<<0|a.charCodeAt(c+1)<<8|a.charCodeAt(c+2)<<16|a.charCodeAt(c+3)<<24);return b}(b[1]);var c=-1,a=new ea;ga(a,b,b.length);var e=new ea;return function(b,h){if(h&&c!=b){for(var f=[],l=0;624>l;++l)f[l]=ha(a);ga(e,f,624)}c=
b;for(var g=h?e:a,f=[],k=[],l=0;9>l;++l){for(var n=[],v=0;32>v;++v)n[v]=ha(g);Array.prototype.push.apply(k,d(da(d(n))))}for(var l=0;l<k.length;++l)k[l]>>>=0;if(A.s&16)for(l=0;136>l;++l)(4>l||32<=l)&&f.push(l);else for(l=0;136>l;++l)f.push(l);v=f.length;for(l=0;l<v-1;++l)g=l+k[l]%(v-l),n=f[l],f[l]=f[g],f[g]=n;return f}}};var Gc=function(){function b(b){if(void 0!==a)return 350<d&&25<d-c&&(a(),c=d),d+=b,!0}var d=0,c=0,a=void 0;return{set:function(e,f){a=e;d=c=0;a?(f&&a(),rc().autoRepeat=b):delete rc().gd}}}();var A=function(){function b(a){if(1==A.a){var b=(~~E.lognext+40-1)%40,c=E["log"+b];if(c){try{c=JSON.parse(c)}catch(B){return}c.sc||(c.sc=a,E["log"+b]=JSON.stringify(c))}}}function d(a,b,c,d,f,e,g){var h,n,k;c instanceof uc?(h=d.v%4,n=d.c,k=d.h,d.ha(0),d=M[c.v<<8|J.cb[f]]):(h=c,c=R[b|h<<8|d],n=c.c,k=c.h,d=M[h<<8|48]);switch(b){case 5120:k=0;break;case 4096:0==h?k=fc:1==h?n=ec:2==h?k=0:3==h&&(n=0);h&1&&(n-=Math.round(O.B.canvas.offsetLeft*q));break;case 1024:var v=l?J.Ra(J.hb++):J.Zb(h);1==J.a||3==
J.a?(d=v.l,n=v.c,k=v.h,jc.P(a,v,0)):0==h?k=~~(fc/2):1==h?n=~~(ec/2):2==h?k=~~(fc/2):3==h&&(n=~~(ec/2));l=!1;break;case 3072:c.c=c.I+(jc.aa?0:~~(.2*Rc[h])+~~(.15*wc[h])),c.h=c.K+(jc.aa?0:~~(.2*Sc[h])+~~(.15*vc[h]))}c.Ga(1024==b,f);jc.P(a+0,n,k,c.c,c.h,e,d,.06);b=jc.P(a+10,n,k,c.c,c.h,e,d,.18,c,1);jc.P(a+20,n,k,c.c,c.h,e,d,.06);0!=g&&tc(g,0,b/1E3);return b}function c(a){oc.O();t.X(256);xc();var b={tag:"D",p:a};1==A.a?Y.J(b):4==A.a&&x.nc(b);b[0]=a;Y.ra(b)}function a(){A.fc=[-1,-1,-1,-1];A.lb=["","",
"",""];for(var a=0,b=0;4>b;++b)who=(A.ma+b)%4,A.w[who]&&(A.fc[who]=a,A.lb[who]="東南西北".substr(a,1),++a)}var e={84:0,85:1,86:2,87:3,116:0,117:1,118:2,119:3},f=-1,h=-1,m=null,l,g="",k=!1;return{a:0,s:0,mb:0,ma:-1,fc:[],lb:[],S:[],pa:[],bc:[],Za:[],ab:[],La:[],w:[],Ja:[],connected:0,Sb:0,Tb:0,sb:0,Ub:0,Vb:0,Db:0,Wb:0,Xb:0,Eb:0,fa:function(){var a=rc(),b;for(b in a)"autoRepeat"!=b&&delete a[b];kc.fa();jc.ia();O.Ab();for(b=0;b<R.sa.length;++b)a=R.sa[b],a.u=0,a.R&&(void 0!==a.I&&(a.c=
a.I),void 0!==a.K&&(a.h=a.K),a.na(0,0,!1),delete a.kb);for(b=0;4>b;++b)R.Bb(b,-2);m=null;h=-1;f=A.ma=-1;nc.Z(0,-1);lc.ia();W.ia();mc.style.display=nc.B.canvas.style.display="none";oc.O();t.X(256);xc();S.L();x.fa()},ia:function(b){k&&(Pb(40,0,0),k=!1);if("REINIT"==b.tag||3==A.a)jc.aa=!0;l=!1;f=A.ma=~~b.oya;A.S=eb(b.seed);A.pa=eb(b.ten,100);A.bc=eb(b.chip);a();J.ia(b[5]);lc.ia();W.ia();Rb.Oc();nc.Z(void 0,-1);oc.Vc();for(var c=0;4>c;++c)if(A.w[c])for(var e=0;13>e;++e)W[32|c].push(136);var g=0;if(1==
J.a){for(c=0;4>c;++c)for(e=0;34>e;++e)R[4096|c<<8|e].da=0;for(e=0;17>e;++e)for(c=0;4>c;++c)jc.P(d(g,4096,c,e,136,.08,4),R[4096|c<<8|e+17].Ga(!1,136),1),g+=12}else if(3==J.a){for(var h=r.tw+1,c=0;4>c;++c)for(e=0;34>e;++e){var n=J.Mb(c,e),m=R[4096|c<<8|e],n=(n&3840)>>8;n==h?m.na(-2049,2048,!1):5==n?m.na(-12289,12288,!1):m.na(-4097,4096,!1)}for(e=0;17>e;++e)for(c=0;4>c;++c)jc.P(d(g,4096,c,e,J.Mb(c,e)&255,.08,4),R[4096|c<<8|e+17].Ga(!1,J.Mb(c,e+17)&255),1),g+=12}else for(e=0;5>e;++e)d(g,5120,0,e,136,
.08,4),g+=45;jc.P(function(){nc.Z(void 0,f);for(var a=5;a<A.S.length;++a)A.DORA({hai:A.S[a],gc:a-5});if(J.Ua)for(var b=0;4>b;++b){var c=~~(.1*Rc[b]),d=~~(.1*Sc[b]);O.Aa();for(a=0;34>a;++a)if(2<=a%17){var e=R[4096|b<<8|a];e.Qa();e.c+=c;e.h+=d;e.Ma();e.Qa()}for(a=0;34>a;++a)R[4096|b<<8|a].Ma();O.Ba()}});for(var D=[0,0,0,0],c=0;4>c;++c)A.w[c]||(D[c]+=136-(A.s&2048?112:108));for(c=0;4>c;++c)for(m=eb(b["m"+c]);m.length;)n=m.pop(),A.N({who:c,m:n}),l&&(J.Ra(J.hb).ha(0),++J.hb,l=!1),++D[(c+(n&3))%4],--D[c];
b.hai&&(W[32]=eb(b.hai));b.hai0&&(W[32]=eb(b.hai0));b.hai1&&(W[33]=eb(b.hai1));b.hai2&&(W[34]=eb(b.hai2));b.hai3&&(W[35]=eb(b.hai3));S.L();for(c=0;4>c;++c)for(A.w[c]&&(D[c]+=13-W[32|c].length),e=0;e<W[32|c].length;++e)136>W[32|c][e]&&W[48|c][W[32|c][e]>>2]++;e=[eb(b.kawa0),eb(b.kawa1),eb(b.kawa2),eb(b.kawa3)];for(c=0;4>c;++c){O.Aa();g=0;for(h=!1;e[c].length;)n=e[c].shift(),255==n?(R.Bb(c,g),0==c&&(W[64]=pa.jb(W[48]))):254==n?h=!0:(m=R[3072|c<<8|g],m.Ga(!1,n&255),m.ha(1),h&&(4==A.mode||1!=A.a&&t.o[1277961])&&
m.na(-257,256,!1),m.Qa(),++D[c],++g,h=!1);O.Ba()}jc.aa&&O.Aa();jc.P(function(){for(var a=0;4>a;++a)for(var b=0;b<D[a];++b)J.Zb(a).ha(0);for(var c=0,f=0;52>f;++f)a=(48>f?~~(f/4):f)%4,A.w[a]&&(b=48>f?4*~~(f/16)+f%4:12,W[32|a].length<=b||(d(c,1024,a,b,a&&!t.o[1277960]?136:W[32|a][b],.08,4),3==f%4&&(c+=75)));nc.Z()});jc.aa&&O.Ba();jc.P(function(){for(var a=0;4>a;++a)jc.aa&&O.Aa(),(jc.aa||a||t.o[1183750])&&W.$c(a),jc.aa&&O.Ba();if(~A.s&2048&&(1==J.a||3==J.a)){O.Aa();J.Ra(14).Qa();for(var a=J.Ra(14).v,
b=~~(.15*Rc[a]),c=~~(.15*Sc[a]),d=14;48>d;++d){var f=J.Ra(d);if(f.v!=a)break;f.c+=b;f.h+=c;f.Qa()}J.Ra(13).Ma();J.Ra(15).Ma();O.Ba()}});mc.style.display="none";nc.B.canvas.style.display="";t.o[1183749]=t.o[1183753]=t.o[1183751]=!1;t.o[1183752]=!!E.autowin;t.o[1183750]=!0;t.X(256);if((3==A.a||2==A.a)&&t.o[1277957])for(c=0;4>c;++c)Rb.tc(c);if("REINIT"==b.tag||3==A.a)jc.aa=!1;jc.P(Y.Ea)},Pb:function(a){var b=h;W[64]||(b=W[32|f][a]);c(b)},ERR:function(a){var b=~~a.code;a="(ERR"+b+")";var c=1;switch(b){case 1001:case 1002:case 1003:case 1004:case 1005:case 1006:case 1012:case 1019:case 1021:x.b.style.display=
"";Hb(!1,0);break;case 1020:c|=2;break;case 1027:a="";break;case 1100:case 1101:x.cancel()}w.i(H(b)+a,c,function(){switch(b){case 1014:delete r.wg;break;case 1019:location.reload();break;case 1020:x.purchase()}});return 1},HELO:function(a){if(a.closing)return location.reload(),1;if(2==A.a)return Y.J({tag:"WG",id:r.wg,tw:r.tw}),1;var b;x[17]=a.PF4?a.PF4.split(","):[];x[16]=a.PF3?a.PF3.split(","):[];x[18]=a.PF601&&a.PF01C?(b=a.PF601.split(","),b.splice(1,0,0,a.PF01C.split(",")[1]),b):[];x[19]=a.PF602&&
a.PF02C?(b=a.PF602.split(","),b.splice(1,0,0,a.PF02C.split(",")[1]),b):[];x[20]=a.PF603&&a.PF03C?(b=a.PF603.split(","),b.splice(1,0,0,a.PF03C.split(",")[1]),b):[];x[21]=a.PF611&&a.PF11C?(b=a.PF611.split(","),b.splice(1,0,0,a.PF11C.split(",")[1]),b):[];x[22]=a.PF612&&a.PF12C?(b=a.PF612.split(","),b.splice(1,0,0,a.PF12C.split(",")[1]),b):[];x[23]=a.PF613&&a.PF13C?(b=a.PF613.split(","),b.splice(1,0,0,a.PF13C.split(",")[1]),b):[];x[24]=a.PF623&&a.PF23C?(b=a.PF623.split(","),b.splice(1,0,0,a.PF23C.split(",")[1]),
b):[];x[25]=a.PF633&&a.PF33C?(b=a.PF633.split(","),b.splice(1,0,0,a.PF33C.split(",")[1]),b):[];x[34]=a.EMBP;x[33]=a.EMPF4?a.EMPF4.split(","):[];x[32]=a.EMPF3?a.EMPF3.split(","):[];x[0]=decodeURIComponent(a.uname);x[1]=a.expire;x[2]=~~a.expiredays;a.nintei?(a.tag="NINTEI",x.i(a)):x.Jb();return 1},REHELO:function(){Y.Gc();return 1},LN:x.Bc,REJOIN:function(a){Y.J({tag:"JOIN",t:a.t});return 1},CHAT:x.xc,CS:x.yc,DATE:x.zc,RANKING:function(a){a.rankingcs?x.Ec(a):x.Dc(a);return 1},SHUFFLE:function(){return 1},
GO:function(a){Mc.style.display=Oc.style.display="none";a.gpid&&(E.gpid=a.gpid);A.mb=~~a.lobby;A.s=~~a.type;1!=A.a&&2!=A.a||Y.J({tag:"GOK"});1==A.a&&0==A.mb&&A.s&1&&x.cd(A.s);A.Sb=A.Ub=A.Wb=1E3*(Ba(A.mb,A.s)?3:5);A.Tb=A.Vb=A.Xb=1E3*(Ba(A.mb,A.s)?5:10);A.sb=A.Db=A.Eb=5E3;A.Ja=(""+(a.csrule||"")).split(",");A.Ja[0]=parseInt(A.Ja[0]||"0",16);a=A.Ja;0<a[36]&&(A.Sb=1E3*~~a[36]);0<a[37]&&(A.Tb=1E3*~~a[37]);0<a[38]&&(A.sb=1E3*~~a[38]);0<a[39]&&(A.Ub=1E3*~~a[39]);0<a[40]&&(A.Vb=1E3*~~a[40]);0<a[41]&&(A.Db=
1E3*~~a[41]);0<a[42]&&(A.Wb=1E3*~~a[42]);0<a[43]&&(A.Xb=1E3*~~a[43]);0<a[44]&&(A.Eb=1E3*~~a[44]);return 1},UN:function(a){if(3<=!!a.n0+!!a.n1+!!a.n2+!!a.n3){A.w=["","","",""];for(var b=0;4>b;++b)A.w[b]=decodeURIComponent(a["n"+b]);A.ab=eb(a.dan?a.dan:",,,");A.La=eb(a.rate?a.rate:",,,");A.Za=(a.sx?a.sx:",,,").split(",");if(!1!==t.o[14])for(b=0;4>b;++b)!A.w[b]||kb(A.w[b])||20<=A.ab[b]||(a=(r.tw+b)%4,A.w[b]=3==A.a&&a==r.TW?"私":"ABCD".substr(a,1)+"さん")}else a.n0&&(A.connected|=1),a.n1&&
(A.connected|=2),a.n2&&(A.connected|=4),a.n3&&(A.connected|=8),nc.Z();return 1},BYE:function(a){A.connected&=~(1<<~~a.who);nc.Z();return 1},TAIKYOKU:function(b){t.o[1183749]=t.o[1183753]=t.o[1183752]=t.o[1183751]=!1;t.o[1183750]=!0;t.b.style.display="";t[1572868].innerHTML="";t.X(126976);Y.Sa=0;k=(1==A.a||2==A.a)&&"SAIKAI"!=b.tag&&A.s&1;A.ma=~~b.oya;if(1==A.a&&b.log){g=b.log;var c=~~E.lognext;E["log"+c]=JSON.stringify({type:A.s,lobby:A.mb,log:g,oya:A.ma,uname:A.w});E.lognext=(c+1)%40}A.connected=
15;a();R.L();lc.L();x.i(b);hc.Z();return 1},INIT:function(a){x.O(function(){A.fa();A.ia(a)})},FURITEN:function(a){mc.style.display=~~a.show?"":"none";return 1},T:function(a){if(-1==f)return 1;if(l||3==A.a)W.qb(f),W.pb();3==A.a&&kc.Hb();m&&(R.Xa(0,120,[m]),m=null);h=void 0===a[0]?136:a[0];f=e[a.tag.charCodeAt(0)];var b=W[32|f].length;W[32|f].push(h);136>h&&W[48|f][h>>2]++;var g=R[1024|f<<8|b];g||Lb("T d PH_TEHAI who="+f+" n="+b+" wg="+r.wg);g.c=g.I+~~(.1*Rc[f]);g.h=g.K+~~(.1*Sc[f]);d(0,1024,f,b,f&&
!t.o[1277960]?136:h,-120,5);nc.Z(void 0,f);1!=A.a&&Rb.uc(g);var k=~~a.t;jc.P(function(){3==A.a||2==A.a||f||(k&16&&t.o[1183752]?Y.J({tag:"N",type:7}):(k=yc.Nc(k,h))||!t.o[1183753]&&!W[64]?xc(a):(oc.kc(),c(h)));sc(Y.Ea,jc.aa||3==A.a?0:500)})},D:function(a){if(-1==f)return 1;var b=a.tag.charCodeAt(0),c=100<=b&&103>=b||h===a[0];h=a[0];0<W[48|f][h>>2]&&W[48|f][h>>2]--;for(var e=W[32|f].length,b=0;b<e&&W[32|f][b]!=h;++b);b==e&&(b=c?e-1:~~((e-1)/2));b=R[1024|f<<8|b];for(e=0;(m=R[3072|f<<8|e])&&m.u;++e);
2==A.a||3==A.a?(t.o[1277957]&&Rb.tc(f),t.o[1277961]&&m.na(-1281,(c?256:0)|b.ca&1024,!1)):(A.s&256||4==A.a)&&m.na(-257,c?256:0,!1);d(0,3072,m,b,h,-120,6);var g=~~a.t;jc.P(function(){g&8&&t.o[1183752]?(Pb(8,0,0),sc(function(){Y.J({tag:"N",type:6})},1E3)):~g&8&&g&&t.o[1183749]?Y.J({tag:"N"}):g&&yc.Lc(g,h);3==A.a?(W.Rb(f),Y.Ea()):sc(function(){W.Rb(f);W.qb(f);W.pb();Y.Ea()},jc.aa?0:300)})},N:function(a){oc.O();t.X(256);xc();if(-1==f)return 1;3==A.a&&(W.qb(f),W.pb());var b=f=~~a.who;nc.Z(void 0,b);a[2]||
zc(a);var c=a[0],e=W[32|b].length,g=[],k=3-a[3];if(a.tag){kc.P(b,a[2],3==A.a?4:6);for(var n=0;n<c.length;++n)if(m&&c[n]==h)g[n]=m,m=null,k=n;else{for(var D=0;D<W[32|b].length&&W[32|b][D]!=c[n];++D);D==W[32|b].length&&(D=--e);g[n]=R[1024|b<<8|D];W[48|b][c[n]>>2]--}}else 5==a[2]&&A.N({who:b,m:a.m^24});l=!0;e=[];if(10==a[2])W[16|b].push(c[0]),lc.tb(b),e[0]=R[b<<8|2064],e[0].v=b;else if(1==c.length){for(n=(A.s&16&&~A.Ja[0]&4194304?16:17)-1;(e[0]=R[2048|b<<8|n])&&e[0].u&&e[0].Ka.kb!=c[0];--n);e[0]&&(e[0].Ka.v=
(b+3)%4,e[0]=e[0].Ka)}else{for(n=(A.s&16&&~A.Ja[0]&4194304?16:17)-1;(e[0]=R[2048|b<<8|n])&&e[0].u;--n);e.unshift(R[2048|b<<8|n-1]);e.unshift(R[2048|b<<8|n-2]);for(n=0;n<e.length;++n)e[n].v=b;3==k&&(k=a[3]?2:1);4==c.length?(e[k].v=e[k].Ka.v=(b+1)%4,e[3]=e[2],e[2]=e[k].Ka):(l=!1,e[k].v=(b+1)%4,1==a[2]&&(e[k].Ka.kb=a[4]))}R.vc(b);if(a.tag){for(n=0;n<e.length;++n){k=c[n];4!=c.length||a[3]||0!=n&&3!=n||(k=136);D=.06;if(10==a[2])var D=e[n].c-g[n].c,ja=e[n].h-g[n].h,D=Math.sqrt(D*D+ja*ja)/4E3;d(0,2048,e[n],
g[n],k,D,0)}W.Rb(b);W.qb(b);W.pb();b||(S.L(),l||xc(a));var U=~~a.t;jc.P(function(){U&&yc.Mc(U);Y.Ea()})}else{for(n=0;n<e.length;++n)k=c[n],4!=c.length||a[3]||0!=n&&3!=n||(k=136),e[n].Ga(!1,k),e[n].ha(1),e[n].Qa();5!=a[2]&&10!=a[2]&&W[32|b].splice(W[32|b].length-3,3)}},DORA:function(a){if(-1==f)return 1;var b=~~a.hai,c=void 0===a.gc?A.S.length-5:a.gc,d=(A.s&2048?20:A.Ja[0]&4194304?4:A.s&16?8:4)+2*c,e=R[5120|c];if(1==J.a||3==J.a)e=J.Ra(d);e.Ga(!1,b);0==c&&3==J.a&&e.na(-513,512,!1);e.ic();"DORA"==a.tag&&
A.S.push(b);1<c&&(lc.tb(0),lc.tb(1),lc.tb(2),lc.tb(3));return 1},REACH:function(a){if(1==a.step){var b=~~a.who;kc.P(b,8,3==A.a?7:6);R.Bb(b,-1);0==b&&xc(a);sc(Y.Ea,jc.aa||3==A.a?0:500)}else return 2==a.step&&(b=~~a.who,1==A.a&&0==b&&(W[64]=pa.jb(W[48])),A.S[2]++,nc.Z()),a.ten&&(A.pa=eb(a.ten,100)),1},AGARI:function(a){if(-1==f)return 1;3==A.a&&kc.Hb();var c=~~a.who;W[32|c]=eb(a.hai);W[32|c].splice(W[32|c].indexOf(~~a.machi),1);if(c&&c==a.fromWho){var d=R[1024|c<<8|W[32|c].length];d.ha(0).Ga(!0,~~a.machi).ha(1);
1!=A.a&&Rb.uc(d)}m&&(R.Xa(0,120,[m]),m=null);kc.P(c,c==a.fromWho?7:6,3==A.a?4:6);a.paoWho&&kc.P(~~a.paoWho,11,3==A.a?4:6);W.oc(1<<c);sc(function(){x.i(a);a.owari&&(E.removeItem("gpid"),x.i({tag:"OWARI",sc:a.owari}),b(a.owari),Y.O())},3==A.a?0:1E3);Gc.set();return 1},RYUUKYOKU:function(a){if(-1==f)return 1;3==A.a&&kc.Hb();a.hai1&&(W[33]=eb(a.hai1));a.hai2&&(W[34]=eb(a.hai2));a.hai3&&(W[35]=eb(a.hai3));if("ron3"==a.type){var c=3==A.a?4:6;a.hai0&&kc.P(0,6,c);a.hai1&&kc.P(1,6,c);a.hai2&&kc.P(2,6,c);a.hai3&&
kc.P(3,6,c)}m&&(R.Xa(0,120,[m]),m=null);W.oc(14);sc(function(){x.i(a);a.owari&&(E.removeItem("gpid"),x.i({tag:"OWARI",sc:a.owari}),b(a.owari),Y.O())},3==A.a?0:1E3);Gc.set();return 1},VOICE:function(a){a=a.type;for(var b=0;4>b;++b)a[b]&&kc.P(b,a[b],3);return 1},PROF:function(){return 1},INITBYLOG:Rb.Ac,WGC:Rb.Fc,TRAININGINIT:function(a){A.ia(a)}}}();A.W=A.V=A.U=A.T;A.g=A.f=A.e=A.d=A.G=A.F=A.E=A.D;A.KANSEN=A.SAIKAI=A.TAIKYOKU;A.REINIT=A.INIT;var Ac=function(){function b(){t.oa(1574918)}function d(){t.oa(1574917)}function c(){var a=W[32],a=a?3*~~(a.length/3)+1:1;if(R[1024|a].u)return R[1024|a]}function a(a,b){if(a&&a.tagName){var c=a.style;b?(c.backgroundColor=n&4?"#050":"#030",c.animationName="none",c.color||(c.color="#FFF")):(c.backgroundColor="",c.animationName="",c.color="")}}function e(b){if(g!=b){if(g&&g.tagName&&(a(g,!1),k&&!b)){g=k;return}k&&(~n&2||!b||b instanceof uc)&&(S.$a(k.Y,-15,0),k=void 0);if(!b&&k)g=k;else{g=b;b instanceof
uc&&S.$a(b.Y,-15,2|(n&8?8:0));if(!b||b instanceof uc)k=b;x.Yc(b);n&=-5;a(g,!0)}}}function f(a){if(k){var b=k.Y;S.$a(b,-15,0);S.$a(b+a,-15,6);k=R[1024|b+a]}}function h(h,l){h&&Gc.set();if(g){h||3!=A.a||(g==t[1574917]&&Gc.set(d,!1),g==t[1574918]&&Gc.set(b,!1));if(h&&!l)n&=-5,g instanceof uc&&S.$a(g.Y,-15,0),g&&g!=nc.B.canvas&&g.style&&~n&8&&e();else if(!l||~n&4)n|=4,g instanceof uc&&S.$a(g.Y,-15,4|(n&8?8:0));else{if("CPda"==g.name)e(),g=k;else if("CPok"==g.name){var v=c();v&&R[1024|v.Y].ca&1&&v.u?A.Pb(v.Y):
m(gc,0,0,!0,!1)}if(g instanceof uc)R[1024|g.Y].ca&1&&g.u&&(A.Pb(g.Y),e());else if(g&&g.tagName){if(!h)return;if(g.name){if(!g.disabled)if("CP_L"==g.name)S.Lb(-1),f(-1);else if("CP_R"==g.name)S.Lb(1),f(1);else if(x[g.name])x[g.name](g)}else g==nc.B.canvas?nc.oa():g.parentNode.parentNode!=t.b||g.parentNode.style.visibility||t.oa(~~g.id.substr(1));n&2&&e()}}n&=-9;a(g,!0)}}function m(a,b,d,f,h,l){"BUTTON"==a.tagName||a.parentNode!=S.b||S[20].style.display?a.parentNode!=S.b||S[0].style.display||(d=R[81]/
q+1,h||(b=a.offsetLeft+1)):(d=R[81]/q+1,n&2&&!h&&(b=S.b.offsetLeft+S[24].offsetLeft+S[24].offsetWidth/2),n&=-3,h=!1);b*=q;d*=q;var m;if(h&&g instanceof uc){if(1==A.a||4==A.a){for(a=0;(m=R[1024|a])&&!(m.I<=b&&b<m.I+N[4]);++a);if(b=m&&g!=m)if(b=g,d=m,b!=d&&b.u&&d.u){t.o[1183750]&&t.oa(1183750);for(f=[b];b!=d;)l=R[1024|b.Y+(d.Y<b.Y?-1:1)],a=S[b.Y].style.backgroundColor,S[b.Y].style.backgroundColor=S[l.Y].style.backgroundColor,S[l.Y].style.backgroundColor=a,a=W[32][b.Y],W[32][b.Y]=W[32][l.Y],W[32][l.Y]=
a,a=b.l,b.l=l.l,l.l=a,a=b.u,b.u=l.u,l.u=a,a=b.c,b.c=l.c,l.c=a,a=b.h,b.h=l.h,l.h=a,a=b.ca,b.ca=l.ca,l.ca=a,a=b.la,b.la=l.la,l.la=a,a=b.da,b.da=l.da,l.da=a,f.push(b=l);R.Xa(0,80,f);b=!0}else b=!1;b&&(g=k=m,oc.L(m))}}else if("BUTTON"==a.tagName)e(a.disabled?null:a);else if(a==nc.B.canvas)e(a);else if(a.parentNode&&a.parentNode==t.b)e(("SELECT"==a.tagName?a.previousSibling:a).firstChild);else{if(!w.gb()){if(n&2){h=N[4];var v=V[4]>>1;for(a=0;(m=R[1024|a])&&!(m.u&&m.I-h<=b&&b<m.I+N[4]&&m.K-v<=d&&d<m.K+
V[4]+T[4]);++a);}else for(a=0;(m=R[1024|a])&&!(m.I<=b&&b<m.I+N[4]&&m.K<=d&&d<m.K+V[4]+T[4]);++a);m&&l&&l.preventDefault()}n&=-9;if(!m&&f){if(b/q<S.b.offsetLeft+S[1].offsetLeft&&S.b.offsetTop+S[1].offsetTop<d/q&&d/q<S.b.offsetTop+S[1].offsetTop+S[1].offsetHeight)m=R[1025];else if(S.b.offsetLeft+S[12].offsetLeft+S[12].offsetWidth<b/q&&S.b.offsetTop+S[12].offsetTop<d/q&&d/q<S.b.offsetTop+S[12].offsetTop+S[12].offsetHeight)m=R[1036];else if(x.b&&!x.b.style.display&&Z.ok)m=Z.ok;else if(!t[2360326].parentNode.style.visibility&&
!t[2360326].parentNode.style.display)m=t[2360326];else if(1==A.a||4==A.a)m=c();m&&(n|=8)}e(m)}}var l={A:1,IMG:1,INPUT:1,SELECT:1,OPTION:1,LABEL:1,TEXTAREA:1},g,k,n=0,v,z,B,y,K;Xa(p,{touchstart:function(a){var c=a.target;if(!l[c.tagName]&&"fixed-select"!=c.parentNode.className){var f=a.changedTouches;if(1!=f.length)e();else if(x.b&&!c.name&&"scroll"!=c.style.overflowY&&x.b.firstChild.contains(c))e(),g||-1==A.ma||(x.b.style.visibility="hidden");else{v=Date.now();z=f[0].pageX;B=f[0].pageY;var f=z-gc.offsetLeft-
O.B.canvas.offsetLeft,h=B-Xb;"BUTTON"==c.tagName||c.parentNode!=S.b||S[20].style.display||S.Qb(c.offsetLeft+c.offsetWidth/2);n|=2;m(c,f,h,!w.gb(),!1,a);g&&g!=nc.B.canvas&&g.style&&~n&8&&(n|=4);t.a&126976&&!t.b.contains(c)||(g==t[1574917]&&Gc.set(d,!1),g==t[1574918]&&Gc.set(b,!1))}}},touchmove:function(a){if(g instanceof uc){var b=a.touches;1==b.length&&(Math.abs(b[0].pageX-z)<10*q||m(a.target,b[0].pageX-gc.offsetLeft-O.B.canvas.offsetLeft,R[81]/q+1,!1,!0))}},touchend:function(a){Gc.set();var b=a.target;
l[b.tagName]||!b.parentNode||l[b.parentNode.tagName]||"fixed-select"==b.parentNode.className||(w.gb()||a.preventDefault(),x.b&&"hidden"==x.b.style.visibility?x.b.style.visibility="":(a=a.changedTouches,1==a.length&&(h(!0,Math.abs(a[0].pageX-z)<10*q&&Math.abs(a[0].pageY-B)<10*q&&1E3>Date.now()-v),t.a&126976&&!t.b.contains(b)&&t.X(126976))))},touchcancel:function(){Gc.set()},mousemove:function(a){var b=a.target;if(void 0!==a.buttons?2!=a.buttons:3!=a.which){y=a.pageX;K=a.pageY;var c=y-gc.offsetLeft-
O.B.canvas.offsetLeft,d=K-Xb;n&=-3;m(b,c,d,!1,void 0!==a.buttons?1==a.buttons:1==a.which)}},mousedown:function(a){var c=a.target;l[c.tagName]||!c.parentNode||l[c.parentNode.tagName]||"fixed-select"==c.parentNode.className||(x.b&&!c.name&&"scroll"!=c.style.overflowY&&x.b.firstChild.contains(c)?g||-1==A.ma||(x.b.style.visibility="hidden"):(v=Date.now(),z=a.pageX,B=a.pageY,(void 0!==a.buttons?2!=a.buttons:3!=a.which)||1!=A.a&&4!=A.a?m(c,z-gc.offsetLeft-O.B.canvas.offsetLeft,B-Xb,!1):m(gc,0,0,!w.gb()),
h(!1,!0),3!=A.a||t.a&126976&&!t.b.contains(c)||w.gb()||g||Gc.set((void 0!==a.buttons?2==a.buttons:3==a.which)?b:d,!0)))},mouseup:function(a){Gc.set();var b=a.target;!l[b.tagName]&&b.parentNode&&"dropdown"!=b.parentNode.className&&(x.b&&"hidden"==x.b.style.visibility?x.b.style.visibility="":(h(!0,Math.abs(a.pageX-z)<10*q&&Math.abs(a.pageY-B)<10*q&&1E3>Date.now()-v),t.a&126976&&!t.b.contains(b)&&t.X(126976)))}});return{Ya:function(){if(!(g instanceof uc)){var a=wb.elementFromPoint(~~(y-p.pageXOffset),
~~(K-p.pageYOffset));a&&m(a,y-gc.offsetLeft-O.B.canvas.offsetLeft,K-Xb,!1)}}}}();Ya(p,"touchstart",function(){delete Ac.Ya});var Xc="onwheel"in wb?"wheel":"onmousewheel"in wb?"mousewheel":"DOMMouseScroll";wb.addEventListener(Xc,function(b){3!=A.a||w.gb()||(b.preventDefault(),t.oa(0>(b.deltaY?-b.deltaY:b.wheelDelta?b.wheelDelta:-b.detail)?1574917:1574918))},{once:!1,passive:!1,capture:!0});
(function(){var b;Wa(p,"touchstart",function(d){var c=d.target;"A"!=c.tagName||"auto"!=c.parentNode.style.overflowY&&"scroll"!=c.parentNode.parentNode.style.overflowY||(b=d.touches[0].screenY)});Wa(p,"touchmove",function(d){var c=d.target;"A"==c.tagName&&("auto"==c.parentNode.style.overflowY&&0==c.parentNode.scrollTop||"scroll"==c.parentNode.parentNode.style.overflowY&&0==c.parentNode.parentNode.scrollTop)&&b<=d.touches[0].screenY&&d.preventDefault()});Wa(wb,Xc,function(b){var c=b.target,a=b.deltaY?
-b.deltaY:b.wheelDelta?b.wheelDelta:-b.detail;"A"==c.tagName&&("auto"==c.parentNode.style.overflowY&&0==c.parentNode.scrollTop||"scroll"==c.parentNode.parentNode.style.overflowY&&0==c.parentNode.parentNode.scrollTop)&&0<a&&b.preventDefault()})})();xb.oncontextmenu=function(b){if(b.target){b=b.target;if("A"!=b.tagName&&"INPUT"!=b.tagName&&"TEXTAREA"!=b.tagName&&(!b.parentNode||"chat"!=b.parentNode.id))return!1;if(ob&&b.href)return p.prompt("Anchor URL as TEXT",b.href),!1}};var Y=function(){function b(b){a&&(a.close(),a=null);p.WebSocket&&(a=Xa(new WebSocket(p.oemLoginEmail?"wss://b7.mjv.jp":ob?"wss://b-ww.mjv.jp":"wss://b-wc.mjv.jp"),{error:function(a){console.log("ws:onerror",a)},open:function(){this.send(JSON.stringify(b))},message:function(a){var req=new XMLHttpRequest();req.open("POST","http://localhost:12121/");req.send(a.data);try{var b=JSON.parse(a.data)}catch(m){}2==A.a&&Rb.yb(r.tw,b);Qb.rb(b);1==A.a&&"D"==b.tag||Y.ra(b)},close:function(){this==a&&(c=[],w.i("CONNECTION CLOSED<br>"+H(365),3,function(){location.reload()}))}}))}function d(){if(c.length)if(c[0][6])Lb("RUNNING",
c[0]);else{var a=c[0];c[0][6]=1;A[a.tag](a)&&Y.Ea()}}var c=[],a;setInterval(function(){a&&1==a.readyState&&(a.send("<Z/>"),Y.Sa&&a.send('<PXR v="'+Y.Sa+'" />'))},1E4);return{Sa:0,ra:function(a){c.push(a);1==c.length&&d()},J:function(c){a?(0==a.readyState&&console.log("ws.readyState="+a.readyState,c),a.send(c.tag?JSON.stringify(c):c)):"HELO"==c.tag&&setTimeout(function(){b(c)},1)},O:function(){a&&(a.close(),a=null)},Gc:function(){a&&Wa(a,"close",function(){setTimeout(function(){x.i({tag:"AUTOLOGIN"})},
1E4)});Y.O()},ib:function(){for(a&&1==a.readyState&&a.send("<BYE/>");c.length;c.shift())delete c[0][6]},Ea:function(){c.length&&(delete c[0][6],c.shift(),d())}}}();p.handleOpenURL=function(b){b=b.split("?")[1];location.href=b?"?"+b:"index.html"};var Mc=u("DIV",Zb,"select-wrapper",{innerHTML:"<button name=lang></button>"},{top:0,right:"1px",position:"absolute",zIndex:1}),Oc=u("BUTTON",Zb,"",{innerHTML:"",name:"cfg"},{display:"none",top:0,right:"1px",position:"absolute",zIndex:1,fontFamily:"cwTeX-Q-Kai-T,icons2,serif"});p.top!==p&&(location.href="https://tenhou.net/0/"+location.search);
(function(){function b(){/bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent)||pb.Hc(function(){x["#lang"]();t.ia();W.ia();ac()})}var d=E.lastreload,c=Date.now();d?36E5<c-d?(E.lastreload=c,location.reload()):b():(E.lastreload=c,b())})();if(ob)try{p.cordova.exec(function(b){E.uname||(E.uname=b)},function(){},"restoreid20211015","restore",[])}catch(b){};
})();
//